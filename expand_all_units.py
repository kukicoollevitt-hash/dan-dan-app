#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
딥세계문학(2) Unit 21~25 전체 확장 스크립트
"""

import re

# 파일 경로
file_path = '/Users/dandan/Desktop/dan-dan-app_1212/public/BRAINUP/worldlit/deep_world2_content.js'

# 파일 읽기
with open(file_path, 'r', encoding='utf-8') as f:
    content = f.read()

print("파일 읽기 완료. 확장 작업 시작...")

# =================================================================
# Unit 21 (로빈슨 크루소) 확장
# =================================================================
print("Unit 21 확장 중...")

# Passage 2단락 확장
old_p2 = "      '로빈슨은 <b>지혜</b>와 <b>근면</b>함으로 섬에서의 삶을 <b>개척</b>해 나갔어요. 먼저 해안가 언덕에 천막을 치고 임시 거처를 만들었지요. 그 후 나무를 베어 튼튼한 집을 짓고, 울타리로 둘러싸 안전한 공간을 확보했어요. 야생 염소를 잡아서 길들여 키웠으며, 우연히 흘린 보리와 쌀 씨앗에서 싹이 나는 것을 보고 농사도 짓기 시작했지요. 혼자만의 달력을 만들어 시간을 세고, 매일 일기를 써서 정신을 유지했어요. 몇 년이 지나자 로빈슨은 섬의 생활에 완전히 <b>적응</b>하여 작은 왕국의 왕처럼 생활했답니다.',"

new_p2 = "      '로빈슨은 <b>지혜</b>와 <b>근면</b>함으로 섬에서의 삶을 <b>개척</b>해 나갔어요. 먼저 해안가 언덕에 천막을 치고 임시 거처를 만들었지요. 그 후 나무를 베어 튼튼한 집을 짓고, 울타리로 둘러싸 안전한 공간을 확보했어요. 야생 염소를 잡아서 길들여 키웠으며, 우연히 흘린 보리와 쌀 씨앗에서 싹이 나는 것을 보고 농사도 짓기 시작했지요. 혼자만의 달력을 만들어 시간을 세고, 매일 일기를 써서 정신을 유지했어요. 또한 도기를 만들어 음식을 조리하고 저장했으며, 사냥과 낚시로 먹을 것을 <b>확보</b>했답니다. 몇 년이 지나자 로빈슨은 섬의 생활에 완전히 <b>적응</b>하여 작은 왕국의 왕처럼 생활했고, 심지어 <b>자급자족</b>하는 삶에 <b>만족</b>하게 되었어요.',"

content = content.replace(old_p2, new_p2)

# Passage 3단락 확장
old_p3 = "      '하지만 어느 날 해변에서 사람의 발자국을 발견하고 로빈슨은 깜짝 놀랐어요. 식인 풍습이 있는 원주민들이 때때로 이 섬을 방문한다는 것을 알게 된 것이지요. <b>공포</b>에 떨며 몇 년을 보내던 중, 원주민들이 잡아온 포로가 달아나는 것을 목격했어요. 로빈슨은 <b>용기</b>를 내어 그를 구해주었고, 그날이 금요일이라 <b>프라이데이</b>라는 이름을 지어주었지요. 프라이데이는 로빈슨의 충실한 친구가 되어 말과 문화를 배우고 함께 섬에서 생활했답니다.',"

new_p3 = "      '하지만 어느 날 해변에서 사람의 발자국을 발견하고 로빈슨은 깜짝 놀랐어요. 식인 풍습이 있는 원주민들이 때때로 이 섬을 방문한다는 것을 알게 된 것이지요. <b>공포</b>에 떨며 몇 년을 보내던 중, 원주민들이 잡아온 포로가 달아나는 것을 목격했어요. 로빈슨은 <b>용기</b>를 내어 그를 구해주었고, 그날이 금요일이라 <b>프라이데이</b>라는 이름을 지어주었지요. 프라이데이는 로빈슨의 충실한 친구가 되어 말과 문화를 배우고 함께 섬에서 생활했답니다. 오랜 시간 혼자였던 로빈슨에게 프라이데이는 단순한 <b>동료</b>가 아니라 소중한 가족이 되었어요. 둘은 서로 다른 문화를 나누며 깊은 <b>우정</b>을 쌓아갔지요.',"

content = content.replace(old_p3, new_p3)

# Passage 4단락 확장
old_p4 = "      '로빈슨과 프라이데이는 힘을 합쳐 다른 포로들도 구출했고, 심지어 영국 배의 선원 반란까지 진압하는 데 도움을 주었어요. 28년이라는 긴 세월이 흐른 후, 마침내 로빈슨은 그 배를 타고 영국으로 <b>귀환</b>할 수 있었어요. 고향으로 돌아온 로빈슨은 자신의 농장이 잘 운영되어 부자가 되어 있음을 알게 되었지요. 이 이야기는 어떤 상황에서도 포기하지 않는 인간의 <b>의지</b>와 지혜, 그리고 자연 속에서 스스로 삶을 일구어가는 모습을 감동적으로 보여주는 모험담이에요.'"

new_p4 = "      '로빈슨과 프라이데이는 힘을 합쳐 다른 포로들도 구출했고, 심지어 영국 배의 선원 반란까지 진압하는 데 도움을 주었어요. 28년이라는 긴 세월이 흐른 후, 마침내 로빈슨은 그 배를 타고 영국으로 <b>귀환</b>할 수 있었어요. 고향으로 돌아온 로빈슨은 자신의 농장이 잘 운영되어 부자가 되어 있음을 알게 되었지요. 무인도에서의 긴 시간은 로빈슨을 완전히 다른 사람으로 만들었어요. 그는 더 이상 무모한 모험가가 아니라 <b>인내</b>와 지혜를 배운 성숙한 사람이 되어 있었답니다. 이 이야기는 어떤 상황에서도 포기하지 않는 인간의 <b>의지</b>와 지혜, 그리고 자연 속에서 스스로 삶을 일구어가는 모습을 감동적으로 보여주는 모험담이에요.'"

content = content.replace(old_p4, new_p4)

# Vocab 확장 (10개 → 15개)
old_vocab = """    vocab: [
      ['표류','물결에 떠밀려 정처 없이 떠다님.'],
      ['생존','살아남음.'],
      ['지혜','사물의 이치를 빠르게 깨닫는 슬기.'],
      ['근면','부지런히 일함.'],
      ['개척','새로운 분야나 땅을 열어 나감.'],
      ['적응','환경에 맞추어 익숙해짐.'],
      ['귀환','본래의 곳으로 돌아감.'],
      ['의지','어떤 일을 이루려는 마음.'],
      ['난파','배가 부서지거나 가라앉음.'],
      ['용기','겁내지 않고 씩씩하게 나아가는 마음.']
    ],"""

new_vocab = """    vocab: [
      ['표류','물결에 떠밀려 정처 없이 떠다님.'],
      ['생존','살아남음.'],
      ['지혜','사물의 이치를 빠르게 깨닫는 슬기.'],
      ['근면','부지런히 일함.'],
      ['개척','새로운 분야나 땅을 열어 나감.'],
      ['적응','환경에 맞추어 익숙해짐.'],
      ['귀환','본래의 곳으로 돌아감.'],
      ['의지','어떤 일을 이루려는 마음.'],
      ['난파','배가 부서지거나 가라앉음.'],
      ['용기','겁내지 않고 씩씩하게 나아가는 마음.'],
      ['고독','외롭고 쓸쓸함.'],
      ['집중','한 곳에 마음이나 힘을 모음.'],
      ['확보','필요한 것을 확실히 가짐.'],
      ['자급자족','스스로 필요한 것을 만들어 씀.'],
      ['만족','흡족하게 여김.'],
      ['동료','함께 일하거나 생활하는 사람.'],
      ['우정','친구 사이의 정.'],
      ['인내','괴로움이나 어려움을 참고 견딤.']
    ],"""

# Unit 21의 vocab 찾아서 교체
content = re.sub(
    r"(deep_world2_21:[\s\S]*?)vocab: \[\s*\['표류'[^\]]*\],\s*\],",
    r"\1" + new_vocab.strip() + ",",
    content,
    count=1
)

# VocabFill 확장 (10개 → 15개)
old_vocabFill = """    vocabFill: {
      instructions: '',
      items: [
        { no: 1, text: '물결에 떠밀려 정처 없이 떠다니는 것을 (      )라고 해요.', answer: '표류', initials: 'ㅍㄹ', aliases: ['표류'] },
        { no: 2, text: '살아남는 것을 (      )이라고 해요.', answer: '생존', initials: 'ㅅㅈ', aliases: ['생존'] },
        { no: 3, text: '사물의 이치를 빠르게 깨닫는 슬기를 (      )라고 해요.', answer: '지혜', initials: 'ㅈㅎ', aliases: ['지혜'] },
        { no: 4, text: '부지런히 일하는 것을 (      )이라고 해요.', answer: '근면', initials: 'ㄱㅁ', aliases: ['근면'] },
        { no: 5, text: '새로운 분야나 땅을 열어 나가는 것을 (      )이라고 해요.', answer: '개척', initials: 'ㄱㅊ', aliases: ['개척'] },
        { no: 6, text: '환경에 맞추어 익숙해지는 것을 (      )이라고 해요.', answer: '적응', initials: 'ㅈㅇ', aliases: ['적응'] },
        { no: 7, text: '본래의 곳으로 돌아가는 것을 (      )이라고 해요.', answer: '귀환', initials: 'ㄱㅎ', aliases: ['귀환'] },
        { no: 8, text: '어떤 일을 이루려는 마음을 (      )라고 해요.', answer: '의지', initials: 'ㅇㅈ', aliases: ['의지'] },
        { no: 9, text: '배가 부서지거나 가라앉는 것을 (      )라고 해요.', answer: '난파', initials: 'ㄴㅍ', aliases: ['난파'] },
        { no: 10, text: '겁내지 않고 씩씩하게 나아가는 마음을 (      )라고 해요.', answer: '용기', initials: 'ㅇㄱ', aliases: ['용기'] }
      ]
    },"""

new_vocabFill = """    vocabFill: {
      instructions: '',
      items: [
        { no: 1, text: '물결에 떠밀려 정처 없이 떠다니는 것을 (      )라고 해요.', answer: '표류', initials: 'ㅍㄹ', aliases: ['표류'] },
        { no: 2, text: '살아남는 것을 (      )이라고 해요.', answer: '생존', initials: 'ㅅㅈ', aliases: ['생존'] },
        { no: 3, text: '사물의 이치를 빠르게 깨닫는 슬기를 (      )라고 해요.', answer: '지혜', initials: 'ㅈㅎ', aliases: ['지혜'] },
        { no: 4, text: '부지런히 일하는 것을 (      )이라고 해요.', answer: '근면', initials: 'ㄱㅁ', aliases: ['근면'] },
        { no: 5, text: '새로운 분야나 땅을 열어 나가는 것을 (      )이라고 해요.', answer: '개척', initials: 'ㄱㅊ', aliases: ['개척'] },
        { no: 6, text: '환경에 맞추어 익숙해지는 것을 (      )이라고 해요.', answer: '적응', initials: 'ㅈㅇ', aliases: ['적응'] },
        { no: 7, text: '본래의 곳으로 돌아가는 것을 (      )이라고 해요.', answer: '귀환', initials: 'ㄱㅎ', aliases: ['귀환'] },
        { no: 8, text: '어떤 일을 이루려는 마음을 (      )라고 해요.', answer: '의지', initials: 'ㅇㅈ', aliases: ['의지'] },
        { no: 9, text: '배가 부서지거나 가라앉는 것을 (      )라고 해요.', answer: '난파', initials: 'ㄴㅍ', aliases: ['난파'] },
        { no: 10, text: '겁내지 않고 씩씩하게 나아가는 마음을 (      )라고 해요.', answer: '용기', initials: 'ㅇㄱ', aliases: ['용기'] },
        { no: 11, text: '외롭고 쓸쓸한 것을 (      )이라고 해요.', answer: '고독', initials: 'ㄱㄷ', aliases: ['고독'] },
        { no: 12, text: '한 곳에 마음이나 힘을 모으는 것을 (      )이라고 해요.', answer: '집중', initials: 'ㅈㅈ', aliases: ['집중'] },
        { no: 13, text: '필요한 것을 확실히 가지는 것을 (      )라고 해요.', answer: '확보', initials: 'ㅎㅂ', aliases: ['확보'] },
        { no: 14, text: '스스로 필요한 것을 만들어 쓰는 것을 (          )이라고 해요.', answer: '자급자족', initials: 'ㅈㄱㅈㅈ', aliases: ['자급자족'] },
        { no: 15, text: '함께 일하거나 생활하는 사람을 (      )라고 해요.', answer: '동료', initials: 'ㄷㄹ', aliases: ['동료'] }
      ]
    },"""

# Unit 21의 vocabFill 찾아서 교체
content = re.sub(
    r"(deep_world2_21:[\s\S]*?)vocabFill: \{[^}]*items: \[[^\]]*\][^}]*\},",
    r"\1" + new_vocabFill.strip() + ",",
    content,
    count=1
)

print("Unit 21 확장 완료!")

# 파일 저장
with open(file_path, 'w', encoding='utf-8') as f:
    f.write(content)

print("=" * 60)
print("Unit 21 확장 완료! 파일이 저장되었습니다.")
print("=" * 60)
