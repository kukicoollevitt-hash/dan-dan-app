#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
딥세계문학(2) Unit 22 (걸리버 여행기) 확장 스크립트
"""

import re

# 파일 경로
file_path = '/Users/dandan/Desktop/dan-dan-app_1212/public/BRAINUP/worldlit/deep_world2_content.js'

# 파일 읽기
with open(file_path, 'r', encoding='utf-8') as f:
    content = f.read()

print("Unit 22 확장 중...")

# Passage 1단락 확장
old = "      '영국의 의사이자 항해사 레뮤얼 <b>걸리버</b>는 여러 번의 신기한 여행을 떠났어요. 첫 번째 여행에서 그는 폭풍을 만나 배가 난파되고, 해변에 쓰러져 정신을 잃었어요. 깨어나 보니 온몸이 작은 줄에 묶여 있었지요. 그곳은 <b>릴리펏</b>이라는 소인국이었고, 사람들은 걸리버의 손가락만큼 작았어요! 소인들은 처음에 걸리버를 <b>위협</b>적인 존재로 여겨 두려워했지만, 그가 친절하다는 것을 알고 받아들였어요. 걸리버는 소인국의 전쟁을 도와 이웃 나라 함대를 물리쳤지만, 결국 궁중 음모에 휘말려 <b>탈출</b>해야 했답니다.',"
new = "      '영국의 의사이자 항해사 레뮤얼 <b>걸리버</b>는 여러 번의 신기한 여행을 떠났어요. 첫 번째 여행에서 그는 폭풍을 만나 배가 난파되고, 해변에 쓰러져 정신을 잃었어요. 깨어나 보니 온몸이 작은 줄에 묶여 있었지요. 그곳은 <b>릴리펏</b>이라는 소인국이었고, 사람들은 걸리버의 손가락만큼 작았어요! 소인들은 처음에 걸리버를 <b>위협</b>적인 존재로 여겨 두려워했지만, 그가 친절하다는 것을 알고 받아들였어요. 걸리버는 소인국의 전쟁을 도와 이웃 나라 함대를 물리쳤지만, 결국 궁중 음모에 휘말려 <b>탈출</b>해야 했답니다. 소인국에서 걸리버는 <b>거인</b>처럼 취급받았지만, 소인들의 정치적 <b>다툼</b>과 <b>욕심</b>은 크기와 상관없이 인간 사회와 똑같았어요.',"
content = content.replace(old, new)

# Passage 2단락 확장
old = "      '두 번째 여행에서 걸리버는 <b>브롭딩낵</b>이라는 거인국에 도착했어요. 이번에는 걸리버가 개미처럼 작은 존재가 되어 버렸지요! 거인 농부에게 발견된 걸리버는 구경거리가 되어 여기저기 끌려다녔고, 결국 거인 왕의 궁전에서 살게 되었어요. 거인 왕은 지적이고 <b>현명</b>한 분이었어요. 걸리버에게 인간 세상의 이야기를 들은 왕은 전쟁, <b>탐욕</b>, 정치적 음모로 가득한 이야기에 크게 실망했어요. 왕은 인간들이 얼마나 어리석고 사악한지 날카롭게 <b>비판</b>했지요.',"
new = "      '두 번째 여행에서 걸리버는 <b>브롭딩낵</b>이라는 거인국에 도착했어요. 이번에는 걸리버가 개미처럼 작은 존재가 되어 버렸지요! 거인 농부에게 발견된 걸리버는 구경거리가 되어 여기저기 끌려다녔고, 결국 거인 왕의 궁전에서 살게 되었어요. 거인 왕은 지적이고 <b>현명</b>한 분이었어요. 걸리버에게 인간 세상의 이야기를 들은 왕은 전쟁, <b>탐욕</b>, 정치적 음모로 가득한 이야기에 크게 실망했어요. 왕은 인간들이 얼마나 어리석고 사악한지 날카롭게 <b>비판</b>했지요. 거인국에서 작아진 걸리버는 비로소 자신이 소인국에서 얼마나 <b>오만</b>했는지 깨달았고, <b>겸손</b>해야 한다는 것을 배웠답니다.',"
content = content.replace(old, new)

# Passage 3단락 확장
old = "      '이 외에도 걸리버는 하늘에 떠다니는 섬 <b>라퓨타</b>를 방문했어요. 그곳 학자들은 수학과 음악에만 몰두하며 현실을 무시하는 어리석은 사람들이었지요. 또한 말처럼 생긴 현명한 종족 후이넘이 사는 나라에서는, 야후라 불리는 추악한 인간형 생물을 보며 충격을 받았어요. 후이넘들은 이성적이고 평화로웠지만, 야후는 탐욕스럽고 잔인했는데, 그 모습이 인간과 닮아 있었거든요.',"
new = "      '이 외에도 걸리버는 하늘에 떠다니는 섬 <b>라퓨타</b>를 방문했어요. 그곳 학자들은 수학과 음악에만 몰두하며 현실을 무시하는 어리석은 사람들이었지요. 또한 말처럼 생긴 현명한 종족 후이넘이 사는 나라에서는, 야후라 불리는 추악한 인간형 생물을 보며 충격을 받았어요. 후이넘들은 이성적이고 평화로웠지만, 야후는 탐욕스럽고 잔인했는데, 그 모습이 인간과 닮아 있었거든요. 걸리버는 야후의 모습에서 인간의 추악한 본성을 보고 깊은 <b>혐오</b>와 <b>슬픔</b>을 느꼈어요. 이성을 가진 후이넘과 본능에 사로잡힌 야후의 대비는 인간이 나아가야 할 방향을 보여주었답니다.',"
content = content.replace(old, new)

# Passage 4단락 확장
old = "      '각 나라에서 걸리버는 인간 사회의 문제점을 완전히 다른 <b>시각</b>에서 바라보게 되었어요. 작가 조너선 스위프트는 이 <b>풍자</b> 이야기를 통해 당시 사회의 <b>부조리</b>와 인간의 어리석음을 신랄하게 비판했답니다. 걸리버 여행기는 재미있는 모험 이야기이면서도 우리가 살아가는 사회와 인간의 본성에 대해 깊이 생각하게 만드는 <b>교훈</b> 있는 작품이에요.'"
new = "      '각 나라에서 걸리버는 인간 사회의 문제점을 완전히 다른 <b>시각</b>에서 바라보게 되었어요. 작가 조너선 스위프트는 이 <b>풍자</b> 이야기를 통해 당시 사회의 <b>부조리</b>와 인간의 어리석음을 신랄하게 비판했답니다. 크기가 다른 세상을 경험하며 걸리버는 <b>관점</b>에 따라 진리가 달라 보인다는 것을 알게 되었어요. 강자도 약자가 될 수 있고, 약자도 강자가 될 수 있다는 <b>상대성</b>을 깨달았지요. 걸리버 여행기는 재미있는 모험 이야기이면서도 우리가 살아가는 사회와 인간의 본성에 대해 깊이 생각하게 만드는 <b>교훈</b> 있는 작품이에요.'"
content = content.replace(old, new)

# Vocab 확장 (10개 → 15개)
old_vocab = """      ['소인국','아주 작은 사람들이 사는 나라.'],
      ['거인국','아주 큰 사람들이 사는 나라.'],
      ['탐욕','지나치게 많이 가지려는 욕심.'],
      ['비판','잘잘못을 따져 판단함.'],
      ['풍자','사회의 결점을 빗대어 비웃음.'],
      ['부조리','이치에 맞지 않는 것.'],
      ['시각','사물을 보는 관점.'],
      ['교훈','가르치는 뜻이나 깨우침.'],
      ['현명','슬기롭고 사리에 밝음.'],
      ['위협','겁을 주어 두렵게 함.']"""

new_vocab = """      ['소인국','아주 작은 사람들이 사는 나라.'],
      ['거인국','아주 큰 사람들이 사는 나라.'],
      ['탐욕','지나치게 많이 가지려는 욕심.'],
      ['비판','잘잘못을 따져 판단함.'],
      ['풍자','사회의 결점을 빗대어 비웃음.'],
      ['부조리','이치에 맞지 않는 것.'],
      ['시각','사물을 보는 관점.'],
      ['교훈','가르치는 뜻이나 깨우침.'],
      ['현명','슬기롭고 사리에 밝음.'],
      ['위협','겁을 주어 두렵게 함.'],
      ['거인','몸집이 매우 큰 사람.'],
      ['탈출','위험한 곳에서 벗어남.'],
      ['겸손','자신을 낮추고 남을 존중함.'],
      ['관점','사물이나 현상을 관찰하는 입장.'],
      ['상대성','다른 것과의 관계에 따라 달라지는 성질.']"""

content = re.sub(
    r"(deep_world2_22:[\s\S]*?)vocab: \[[^\]]*\['소인국'[^\]]*\],\s*\],",
    lambda m: m.group(1) + "vocab: [\n      " + new_vocab.strip() + "\n    ],",
    content,
    count=1
)

# VocabFill 확장 (10개 → 15개)
old_vocabFill_pattern = r"(deep_world2_22:[\s\S]*?)vocabFill: \{[^}]*instructions: '',\s*items: \[[^\]]*{ no: 10,[^\}]*\}[^\]]*\]\s*\},"

new_vocabFill = """vocabFill: {
      instructions: '',
      items: [
        { no: 1, text: '아주 작은 사람들이 사는 나라를 (        )이라고 해요.', answer: '소인국', initials: 'ㅅㅇㄱ', aliases: ['소인국'] },
        { no: 2, text: '아주 큰 사람들이 사는 나라를 (        )이라고 해요.', answer: '거인국', initials: 'ㄱㅇㄱ', aliases: ['거인국'] },
        { no: 3, text: '지나치게 많이 가지려는 욕심을 (      )이라고 해요.', answer: '탐욕', initials: 'ㅌㅇ', aliases: ['탐욕'] },
        { no: 4, text: '잘잘못을 따져 판단하는 것을 (      )이라고 해요.', answer: '비판', initials: 'ㅂㅍ', aliases: ['비판'] },
        { no: 5, text: '사회의 결점을 빗대어 비웃는 것을 (      )라고 해요.', answer: '풍자', initials: 'ㅍㅈ', aliases: ['풍자'] },
        { no: 6, text: '이치에 맞지 않는 것을 (        )라고 해요.', answer: '부조리', initials: 'ㅂㅈㄹ', aliases: ['부조리'] },
        { no: 7, text: '사물을 보는 관점을 (      )이라고 해요.', answer: '시각', initials: 'ㅅㄱ', aliases: ['시각'] },
        { no: 8, text: '가르치는 뜻이나 깨우침을 (      )이라고 해요.', answer: '교훈', initials: 'ㄱㅎ', aliases: ['교훈'] },
        { no: 9, text: '슬기롭고 사리에 밝은 것을 (      )이라고 해요.', answer: '현명', initials: 'ㅎㅁ', aliases: ['현명'] },
        { no: 10, text: '겁을 주어 두렵게 하는 것을 (      )이라고 해요.', answer: '위협', initials: 'ㅇㅎ', aliases: ['위협'] },
        { no: 11, text: '몸집이 매우 큰 사람을 (      )이라고 해요.', answer: '거인', initials: 'ㄱㅇ', aliases: ['거인'] },
        { no: 12, text: '위험한 곳에서 벗어나는 것을 (      )이라고 해요.', answer: '탈출', initials: 'ㅌㅊ', aliases: ['탈출'] },
        { no: 13, text: '자신을 낮추고 남을 존중하는 것을 (      )이라고 해요.', answer: '겸손', initials: 'ㄱㅅ', aliases: ['겸손'] },
        { no: 14, text: '사물이나 현상을 관찰하는 입장을 (      )이라고 해요.', answer: '관점', initials: 'ㄱㅈ', aliases: ['관점'] },
        { no: 15, text: '다른 것과의 관계에 따라 달라지는 성질을 (        )이라고 해요.', answer: '상대성', initials: 'ㅅㄷㅅ', aliases: ['상대성'] }
      ]
    },"""

content = re.sub(
    old_vocabFill_pattern,
    r"\1" + new_vocabFill,
    content,
    count=1
)

print("Unit 22 확장 완료!")

# 파일 저장
with open(file_path, 'w', encoding='utf-8') as f:
    f.write(content)

print("=" * 60)
print("Unit 22 확장 완료! 파일이 저장되었습니다.")
print("=" * 60)
