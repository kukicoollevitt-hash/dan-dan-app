#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
딥세계문학(2) Unit 23~25 확장 스크립트
"""

import re

# 파일 경로
file_path = '/Users/dandan/Desktop/dan-dan-app_1212/public/BRAINUP/worldlit/deep_world2_content.js'

# 파일 읽기
with open(file_path, 'r', encoding='utf-8') as f:
    content = f.read()

# =================================================================
# Unit 23 (돈키호테) 확장
# =================================================================
print("Unit 23 확장 중...")

# Passage 1단락 확장
old = "      '스페인 라만차 지방의 한 마을에 알론소 키하노라는 늙은 귀족이 살았어요. 그는 기사 소설을 너무 많이 읽은 나머지 <b>현실</b>과 소설을 구분하지 못하게 되었지요. 어느 날 그는 자신이 진짜 기사라고 확신하며, <b>돈키호테</b>라는 이름을 스스로 지었어요. 녹슨 갑옷을 닦아 입고, 늙고 야윈 말에게 로시난테라는 멋진 이름을 붙여주었지요. 그리고 이웃 마을의 순박한 농부 <b>산초 판사</b>를 설득하여 자신의 충실한 <b>종자</b>로 삼았어요. 돈키호테는 세상의 <b>불의</b>를 바로잡고 약한 자를 도우겠다는 고귀한 꿈을 품고 모험을 떠났답니다.',"
new = "      '스페인 라만차 지방의 한 마을에 알론소 키하노라는 늙은 귀족이 살았어요. 그는 기사 소설을 너무 많이 읽은 나머지 <b>현실</b>과 소설을 구분하지 못하게 되었지요. 어느 날 그는 자신이 진짜 기사라고 확신하며, <b>돈키호테</b>라는 이름을 스스로 지었어요. 녹슨 갑옷을 닦아 입고, 늙고 야윈 말에게 로시난테라는 멋진 이름을 붙여주었지요. 그리고 이웃 마을의 순박한 농부 <b>산초 판사</b>를 설득하여 자신의 충실한 <b>종자</b>로 삼았어요. 돈키호테는 세상의 <b>불의</b>를 바로잡고 약한 자를 도우겠다는 고귀한 꿈을 품고 모험을 떠났답니다. 사람들은 그를 미치광이로 여겼지만, 돈키호테의 마음속에는 <b>정의</b>와 <b>명예</b>를 향한 뜨거운 <b>열정</b>이 가득했어요.',"
content = content.replace(old, new)

# Passage 2단락 확장
old = "      '하지만 돈키호테가 보는 세상은 <b>현실</b>과 완전히 달랐어요. 그는 들판에 서 있는 <b>풍차</b>를 팔이 여러 개 달린 무시무시한 거인이라고 <b>착각</b>하고 창을 들고 돌진했어요. 결과는 비참했지요. 풍차 날개에 맞아 땅바닥에 나뒹굴었거든요. 양 떼를 적군으로 보고 공격했다가 화난 목동들에게 돌을 맞기도 했어요. 허름한 여관을 화려한 성으로, 평범한 시골 여인을 고귀한 공주 둘시네아로 착각하는 일이 계속되었지요.',"
new = "      '하지만 돈키호테가 보는 세상은 <b>현실</b>과 완전히 달랐어요. 그는 들판에 서 있는 <b>풍차</b>를 팔이 여러 개 달린 무시무시한 거인이라고 <b>착각</b>하고 창을 들고 돌진했어요. 결과는 비참했지요. 풍차 날개에 맞아 땅바닥에 나뒹굴었거든요. 양 떼를 적군으로 보고 공격했다가 화난 목동들에게 돌을 맞기도 했어요. 허름한 여관을 화려한 성으로, 평범한 시골 여인을 고귀한 공주 둘시네아로 착각하는 일이 계속되었지요. 돈키호테는 매번 실패하고 <b>상처</b>를 입었지만, 자신의 믿음을 결코 <b>포기</b>하지 않았어요. 그에게 세상은 소설 속 기사 이야기 그대로였답니다.',"
content = content.replace(old, new)

# Passage 3단락 확장
old = "      '현실적이고 소박한 산초는 주인의 이상한 행동을 도무지 이해할 수 없었어요. 풍차는 그냥 풍차고, 양은 그냥 양이라고 설명해도 돈키호테는 듣지 않았지요. 하지만 산초는 섬의 총독이 될 수 있다는 약속에 혹해 그래도 충실하게 따라다녔어요. 돈키호테의 <b>이상</b>과 산초의 현실적인 세계관은 늘 충돌했지만, 둘은 기묘한 우정을 나누었답니다. 여러 모험을 겪으면서도 돈키호테는 <b>명예</b>와 <b>정의</b>에 대한 자신의 꿈을 포기하지 않았어요.',"
new = "      '현실적이고 소박한 산초는 주인의 이상한 행동을 도무지 이해할 수 없었어요. 풍차는 그냥 풍차고, 양은 그냥 양이라고 설명해도 돈키호테는 듣지 않았지요. 하지만 산초는 섬의 총독이 될 수 있다는 약속에 혹해 그래도 충실하게 따라다녔어요. 돈키호테의 <b>이상</b>과 산초의 현실적인 세계관은 늘 충돌했지만, 둘은 기묘한 우정을 나누었답니다. 여러 모험을 겪으면서도 돈키호테는 <b>명예</b>와 <b>정의</b>에 대한 자신의 꿈을 포기하지 않았어요. 산초는 처음에는 돈키호테를 이해하지 못했지만, 시간이 지나면서 주인의 <b>순수</b>한 마음과 <b>용기</b>에 감동받게 되었답니다.',"
content = content.replace(old, new)

# Passage 4단락 확장
old = "      '비록 세상 사람들에게는 웃음거리였지만, 돈키호테의 마음속에는 정의와 명예에 대한 순수한 믿음이 있었어요. 이야기 끝에 돈키호테는 결국 정신이 돌아와 자신이 평범한 알론소 키하노였다는 것을 깨달았고, 얼마 후 세상을 떠났지요. 하지만 이 작품은 단순한 미치광이 이야기가 아니에요. 이상을 좇는 것이 어리석은 짓인지, 아니면 현실에만 <b>안주</b>하는 것이 더 슬픈 일인지 깊이 생각하게 만드는 위대한 작품이랍니다.'"
new = "      '비록 세상 사람들에게는 웃음거리였지만, 돈키호테의 마음속에는 정의와 명예에 대한 순수한 믿음이 있었어요. 이야기 끝에 돈키호테는 결국 정신이 돌아와 자신이 평범한 알론소 키하노였다는 것을 깨달았고, 얼마 후 세상을 떠났지요. 하지만 이 작품은 단순한 미치광이 이야기가 아니에요. 이상을 좇는 것이 어리석은 짓인지, 아니면 현실에만 <b>안주</b>하는 것이 더 슬픈 일인지 깊이 생각하게 만드는 위대한 작품이랍니다. 돈키호테는 <b>꿈</b>을 잃지 않는 인간의 <b>아름다움</b>을 보여주고, 때로는 미친 듯이 보이는 <b>열정</b>이 세상을 변화시킬 수 있다는 희망을 전해주는 이야기예요.'"
content = content.replace(old, new)

# Vocab 확장
old_vocab = """      ['종자','기사를 따라다니며 시중드는 사람.'],
      ['불의','옳지 않은 일.'],
      ['풍차','바람의 힘으로 돌아가는 기계.'],
      ['이상','마음속에 그리는 완벽한 상태.'],
      ['현실','실제로 존재하는 상황.'],
      ['착각','잘못 보거나 생각함.'],
      ['정의','올바르고 공정한 도리.'],
      ['안주','현재 상태에 만족하며 머무름.'],
      ['명예','훌륭하다고 인정받는 이름이나 가치.'],
      ['순수','섞임이 없이 깨끗한 상태.']"""

new_vocab = """      ['종자','기사를 따라다니며 시중드는 사람.'],
      ['불의','옳지 않은 일.'],
      ['풍차','바람의 힘으로 돌아가는 기계.'],
      ['이상','마음속에 그리는 완벽한 상태.'],
      ['현실','실제로 존재하는 상황.'],
      ['착각','잘못 보거나 생각함.'],
      ['정의','올바르고 공정한 도리.'],
      ['안주','현재 상태에 만족하며 머무름.'],
      ['명예','훌륭하다고 인정받는 이름이나 가치.'],
      ['순수','섞임이 없이 깨끗한 상태.'],
      ['열정','어떤 일에 열렬한 애정을 가지고 열중함.'],
      ['상처','다치거나 손상된 곳.'],
      ['포기','하던 일을 그만둠.'],
      ['용기','겁내지 않고 씩씩하게 나아가는 마음.'],
      ['꿈','이루고 싶은 희망이나 이상.']"""

content = re.sub(
    r"(deep_world2_23:[\s\S]*?)vocab: \[[^\]]*\['종자'[^\]]*\],\s*\],",
    lambda m: m.group(1) + "vocab: [\n      " + new_vocab.strip() + "\n    ],",
    content,
    count=1
)

# VocabFill 확장
old_vocabFill_pattern = r"(deep_world2_23:[\s\S]*?)vocabFill: \{[^}]*instructions: '',\s*items: \[[^\]]*{ no: 10,[^\}]*\}[^\]]*\]\s*\},"

new_vocabFill = """vocabFill: {
      instructions: '',
      items: [
        { no: 1, text: '기사를 따라다니며 시중드는 사람을 (      )라고 해요.', answer: '종자', initials: 'ㅈㅈ', aliases: ['종자'] },
        { no: 2, text: '옳지 않은 일을 (      )라고 해요.', answer: '불의', initials: 'ㅂㅇ', aliases: ['불의'] },
        { no: 3, text: '바람의 힘으로 돌아가는 기계를 (      )라고 해요.', answer: '풍차', initials: 'ㅍㅊ', aliases: ['풍차'] },
        { no: 4, text: '마음속에 그리는 완벽한 상태를 (      )이라고 해요.', answer: '이상', initials: 'ㅇㅅ', aliases: ['이상'] },
        { no: 5, text: '실제로 존재하는 상황을 (      )이라고 해요.', answer: '현실', initials: 'ㅎㅅ', aliases: ['현실'] },
        { no: 6, text: '잘못 보거나 생각하는 것을 (      )이라고 해요.', answer: '착각', initials: 'ㅊㄱ', aliases: ['착각'] },
        { no: 7, text: '올바르고 공정한 도리를 (      )라고 해요.', answer: '정의', initials: 'ㅈㅇ', aliases: ['정의'] },
        { no: 8, text: '현재 상태에 만족하며 머무르는 것을 (      )라고 해요.', answer: '안주', initials: 'ㅇㅈ', aliases: ['안주'] },
        { no: 9, text: '훌륭하다고 인정받는 이름이나 가치를 (      )라고 해요.', answer: '명예', initials: 'ㅁㅇ', aliases: ['명예'] },
        { no: 10, text: '섞임이 없이 깨끗한 상태를 (      )라고 해요.', answer: '순수', initials: 'ㅅㅅ', aliases: ['순수'] },
        { no: 11, text: '어떤 일에 열렬한 애정을 가지고 열중하는 것을 (      )이라고 해요.', answer: '열정', initials: 'ㅇㅈ', aliases: ['열정'] },
        { no: 12, text: '다치거나 손상된 곳을 (      )라고 해요.', answer: '상처', initials: 'ㅅㅊ', aliases: ['상처'] },
        { no: 13, text: '하던 일을 그만두는 것을 (      )라고 해요.', answer: '포기', initials: 'ㅍㄱ', aliases: ['포기'] },
        { no: 14, text: '겁내지 않고 씩씩하게 나아가는 마음을 (      )라고 해요.', answer: '용기', initials: 'ㅇㄱ', aliases: ['용기'] },
        { no: 15, text: '이루고 싶은 희망이나 이상을 (    )이라고 해요.', answer: '꿈', initials: 'ㄲ', aliases: ['꿈'] }
      ]
    },"""

content = re.sub(
    old_vocabFill_pattern,
    r"\1" + new_vocabFill,
    content,
    count=1
)

print("Unit 23 확장 완료!")

# =================================================================
# Unit 24 (주홍글씨) 확장
# =================================================================
print("Unit 24 확장 중...")

# Passage 1단락 확장
old = "      '17세기 미국 <b>청교도</b> 사회를 배경으로 한 이 소설은 헤스터 프린이라는 여인이 주인공이에요. 헤스터는 <b>간통</b>죄를 저질러 가슴에 빨간 \"A\" 글자를 달고 살아야 하는 <b>형벌</b>을 받았어요. 빨간 \"A\"는 간통(Adultery)의 첫 글자로, 평생 <b>낙인</b>처럼 달고 다녀야 했지요. 처형대 위에서 마을 사람들의 손가락질과 <b>비난</b>을 받았지만, 헤스터는 고개를 숙이지 않았어요. 그녀의 팔에는 아직 이름도 없는 아기 펄이 안겨 있었답니다.',"
new = "      '17세기 미국 <b>청교도</b> 사회를 배경으로 한 이 소설은 헤스터 프린이라는 여인이 주인공이에요. 헤스터는 <b>간통</b>죄를 저질러 가슴에 빨간 \"A\" 글자를 달고 살아야 하는 <b>형벌</b>을 받았어요. 빨간 \"A\"는 간통(Adultery)의 첫 글자로, 평생 <b>낙인</b>처럼 달고 다녀야 했지요. 처형대 위에서 마을 사람들의 손가락질과 <b>비난</b>을 받았지만, 헤스터는 고개를 숙이지 않았어요. 그녀의 팔에는 아직 이름도 없는 아기 펄이 안겨 있었답니다. 엄격한 청교도 사회에서 헤스터의 죄는 용서받을 수 없는 <b>수치</b>였고, 그녀는 평생 사람들의 <b>경멸</b> 속에 살아가야 했어요.',"
content = content.replace(old, new)

# Passage 2단락 확장
old = "      '헤스터는 딸 펄을 홀로 키우면서 숲속 외딴 오두막에서 살았어요. 그녀는 뛰어난 바느질 솜씨로 생계를 이어가며, 가난한 사람들을 돕고 <b>성실</b>하게 살아갔지요. 시간이 지나면서 마을 사람들의 시선도 조금씩 변해갔어요. \"A\"가 \"간통(Adultery)\"이 아니라 \"유능함(Able)\"을 뜻하게 되었다는 이야기가 퍼졌지요. 한편 헤스터의 비밀스러운 연인은 마을에서 존경받는 젊은 목사 딤즈데일이었어요. 그러나 딤즈데일은 자신의 죄를 밝히지 못하고 <b>죄책감</b>에 시달렸답니다.',"
new = "      '헤스터는 딸 펄을 홀로 키우면서 숲속 외딴 오두막에서 살았어요. 그녀는 뛰어난 바느질 솜씨로 생계를 이어가며, 가난한 사람들을 돕고 <b>성실</b>하게 살아갔지요. 시간이 지나면서 마을 사람들의 시선도 조금씩 변해갔어요. \"A\"가 \"간통(Adultery)\"이 아니라 \"유능함(Able)\"을 뜻하게 되었다는 이야기가 퍼졌지요. 한편 헤스터의 비밀스러운 연인은 마을에서 존경받는 젊은 목사 딤즈데일이었어요. 그러나 딤즈데일은 자신의 죄를 밝히지 못하고 <b>죄책감</b>에 시달렸답니다. 공개적으로 <b>처벌</b>받은 헤스터와 달리, 딤즈데일은 비밀을 숨기며 <b>고통</b>받았고, 그 <b>괴로움</b>은 날로 심해졌어요.',"
content = content.replace(old, new)

# Passage 3단락 확장
old = "      '딤즈데일은 겉으로는 훌륭한 설교를 하면서도 속으로는 고통받았고, 건강이 점점 나빠졌어요. 한편 헤스터의 남편 칠링워스는 복수를 위해 의사로 위장하여 딤즈데일에게 접근했어요. 칠링워스는 딤즈데일의 비밀을 알고 그를 정신적으로 괴롭히기 시작했지요. 복수에 사로잡힌 칠링워스의 모습은 점점 <b>괴물</b>처럼 변해갔어요. 복수심이 그 자신마저 파괴하고 있었던 것이지요.',"
new = "      '딤즈데일은 겉으로는 훌륭한 설교를 하면서도 속으로는 고통받았고, 건강이 점점 나빠졌어요. 한편 헤스터의 남편 칠링워스는 복수를 위해 의사로 위장하여 딤즈데일에게 접근했어요. 칠링워스는 딤즈데일의 비밀을 알고 그를 정신적으로 괴롭히기 시작했지요. 복수에 사로잡힌 칠링워스의 모습은 점점 <b>괴물</b>처럼 변해갔어요. 복수심이 그 자신마저 파괴하고 있었던 것이지요. 칠링워스의 <b>증오</b>는 그를 더 이상 인간이 아닌 <b>악마</b>처럼 만들었고, 그는 딤즈데일의 고통을 즐기는 <b>잔인</b>한 사람이 되어갔답니다.',"
content = content.replace(old, new)

# Passage 4단락 확장
old = "      '이야기의 마지막에서 딤즈데일은 마을 사람들 앞에서 자신의 죄를 <b>고백</b>해요. 그는 가슴의 옷을 찢어 자신에게도 \"A\" 표시가 있음을 보여주고 숨을 거두지요. 이 소설은 죄와 벌, 숨김과 고백, 그리고 <b>위선</b>에 대해 깊이 생각하게 해요. 공개적으로 벌을 받은 헤스터는 시간이 지나며 존경을 얻었지만, 죄를 숨긴 딤즈데일은 더 큰 고통을 받았지요. 작가 나다니엘 호손은 이 이야기를 통해 청교도 사회의 엄격함과 인간의 위선을 날카롭게 비판했답니다.'"
new = "      '이야기의 마지막에서 딤즈데일은 마을 사람들 앞에서 자신의 죄를 <b>고백</b>해요. 그는 가슴의 옷을 찢어 자신에게도 \"A\" 표시가 있음을 보여주고 숨을 거두지요. 이 소설은 죄와 벌, 숨김과 고백, 그리고 <b>위선</b>에 대해 깊이 생각하게 해요. 공개적으로 벌을 받은 헤스터는 시간이 지나며 존경을 얻었지만, 죄를 숨긴 딤즈데일은 더 큰 고통을 받았지요. 작가 나다니엘 호손은 이 이야기를 통해 청교도 사회의 엄격함과 인간의 위선을 날카롭게 비판했답니다. 진정한 <b>속죄</b>는 남에게 용서받는 것이 아니라 스스로 잘못을 인정하고 <b>뉘우치</b>는 것임을 보여주는 깊은 이야기예요.'"
content = content.replace(old, new)

# Vocab 확장
old_vocab = """      ['간통', '배우자가 있으면서 다른 사람과 잘못된 관계를 맺는 것.'],
      ['청교도', '매우 엄격한 기독교의 한 종파 또는 그 신자.'],
      ['죄책감', '잘못을 저질렀다는 마음의 괴로움.'],
      ['위선', '겉으로만 착한 척하고 속은 다른 것.'],
      ['낙인', '몸에 찍는 표시나 사회적 오명.'],
      ['형벌', '죄를 지은 사람에게 내리는 벌.'],
      ['고백', '숨기고 있던 사실을 솔직하게 말함.'],
      ['비난', '잘못이나 결점을 책잡아 나쁘게 말함.'],
      ['성실', '거짓이나 꾸밈없이 참되고 바름.'],
      ['괴물', '무섭고 흉측하게 생긴 상상의 존재.']"""

new_vocab = """      ['간통', '배우자가 있으면서 다른 사람과 잘못된 관계를 맺는 것.'],
      ['청교도', '매우 엄격한 기독교의 한 종파 또는 그 신자.'],
      ['죄책감', '잘못을 저질렀다는 마음의 괴로움.'],
      ['위선', '겉으로만 착한 척하고 속은 다른 것.'],
      ['낙인', '몸에 찍는 표시나 사회적 오명.'],
      ['형벌', '죄를 지은 사람에게 내리는 벌.'],
      ['고백', '숨기고 있던 사실을 솔직하게 말함.'],
      ['비난', '잘못이나 결점을 책잡아 나쁘게 말함.'],
      ['성실', '거짓이나 꾸밈없이 참되고 바름.'],
      ['괴물', '무섭고 흉측하게 생긴 상상의 존재.'],
      ['수치', '부끄러움.'],
      ['경멸', '업신여기고 깔봄.'],
      ['증오', '몹시 미워함.'],
      ['속죄', '죄를 뉘우치고 갚음.'],
      ['뉘우치다', '잘못을 깨닫고 뒤우침.']"""

content = re.sub(
    r"(deep_world2_24:[\s\S]*?)vocab: \[[^\]]*\['간통'[^\]]*\],\s*\],",
    lambda m: m.group(1) + "vocab: [\n      " + new_vocab.strip() + "\n    ],",
    content,
    count=1
)

# VocabFill 확장
old_vocabFill_pattern = r"(deep_world2_24:[\s\S]*?)vocabFill: \{[^}]*items: \[[^\]]*{ no: 10,[^\}]*\}[^\]]*\]\s*\},"

new_vocabFill = """vocabFill: {
      items: [
        { no: 1, text: '거짓으로 착한 척하는 (      )은 신뢰를 무너뜨립니다.', answer: '위선', initials: 'ㅇㅅ', aliases: ['위선'] },
        { no: 2, text: '잘못을 하면 (        )이 마음을 무겁게 합니다.', answer: '죄책감', initials: 'ㅈㅊㄱ', aliases: ['죄책감'] },
        { no: 3, text: '(        )들은 매우 엄격한 종교 생활을 했습니다.', answer: '청교도', initials: 'ㅊㄱㄷ', aliases: ['청교도'] },
        { no: 4, text: '헤스터는 (      )죄로 A 낙인을 받았습니다.', answer: '간통', initials: 'ㄱㅌ', aliases: ['간통'] },
        { no: 5, text: '범죄자에게 (      )이 내려졌습니다.', answer: '형벌', initials: 'ㅎㅂ', aliases: ['형벌'] },
        { no: 6, text: '딤즈데일은 마지막에 자신의 죄를 (      )했습니다.', answer: '고백', initials: 'ㄱㅂ', aliases: ['고백'] },
        { no: 7, text: '가슴에 찍힌 (      )은 평생 지워지지 않았습니다.', answer: '낙인', initials: 'ㄴㅇ', aliases: ['낙인'] },
        { no: 8, text: '마을 사람들의 (      )을 받으며 처형대에 섰습니다.', answer: '비난', initials: 'ㅂㄴ', aliases: ['비난'] },
        { no: 9, text: '헤스터는 (      )하게 살아 존경을 얻었습니다.', answer: '성실', initials: 'ㅅㅅ', aliases: ['성실'] },
        { no: 10, text: '복수심에 사로잡힌 칠링워스는 (      )처럼 변했습니다.', answer: '괴물', initials: 'ㄱㅁ', aliases: ['괴물'] },
        { no: 11, text: '헤스터는 사람들에게 (      )를 당했습니다.', answer: '수치', initials: 'ㅅㅊ', aliases: ['수치'] },
        { no: 12, text: '사람들의 (      ) 섞인 눈빛이 따가웠습니다.', answer: '경멸', initials: 'ㄱㅁ', aliases: ['경멸'] },
        { no: 13, text: '칠링워스의 (      )가 그를 파괴했습니다.', answer: '증오', initials: 'ㅈㅇ', aliases: ['증오'] },
        { no: 14, text: '진정한 (      )는 스스로 뉘우치는 것입니다.', answer: '속죄', initials: 'ㅅㅈ', aliases: ['속죄'] },
        { no: 15, text: '잘못을 깨닫고 (          )는 것이 중요합니다.', answer: '뉘우치다', initials: 'ㄴㅇㅊㄷ', aliases: ['뉘우치다', '뉘우침'] }
      ]
    },"""

content = re.sub(
    old_vocabFill_pattern,
    r"\1" + new_vocabFill,
    content,
    count=1
)

print("Unit 24 확장 완료!")

# =================================================================
# Unit 25 (오만과 편견) 확장
# =================================================================
print("Unit 25 확장 중...")

# Passage 1단락 확장
old = "      '19세기 영국의 시골 마을에 사는 베넷 가족은 다섯 딸을 둔 집안이에요. 어머니 베넷 부인은 딸들을 좋은 신랑에게 시집보내는 것이 평생의 소원이지요. 마을 근처 네더필드 저택에 부유한 청년 빙리가 이사 오자, 베넷 부인은 들떠서 딸들을 소개하려 했어요. 무도회에서 빙리는 온화하고 친절한 성격으로 큰딸 제인에게 호감을 느꼈지요. 하지만 빙리의 친구 다아시는 도도하고 <b>거만</b>해 보였어요. 둘째 딸 엘리자베스는 다아시가 자신을 무시하는 말을 우연히 듣고 그를 불쾌하게 여겼답니다.',"
new = "      '19세기 영국의 시골 마을에 사는 베넷 가족은 다섯 딸을 둔 집안이에요. 어머니 베넷 부인은 딸들을 좋은 신랑에게 시집보내는 것이 평생의 소원이지요. 마을 근처 네더필드 저택에 부유한 청년 빙리가 이사 오자, 베넷 부인은 들떠서 딸들을 소개하려 했어요. 무도회에서 빙리는 온화하고 친절한 성격으로 큰딸 제인에게 호감을 느꼈지요. 하지만 빙리의 친구 다아시는 도도하고 <b>거만</b>해 보였어요. 둘째 딸 엘리자베스는 다아시가 자신을 무시하는 말을 우연히 듣고 그를 불쾌하게 여겼답니다. 다아시는 \"충분히 예쁘지 않다\"는 <b>무례</b>한 말을 했고, 이는 엘리자베스의 <b>자존심</b>에 큰 상처를 주었어요. 이것이 두 사람 사이의 <b>오해</b>와 <b>편견</b>의 시작이었답니다.',"
content = content.replace(old, new)

# Passage 2단락 확장
old = "      '엘리자베스는 영리하고 재치 있는 여성으로 자신만의 <b>판단력</b>을 가지고 있었어요. 그녀는 다아시가 빙리와 제인의 사이를 방해했다는 이야기를 듣고 더욱 그를 싫어하게 되었지요. 또한 잘생긴 장교 위컴에게서 다아시의 나쁜 점을 듣고 그 말을 <b>맹신</b>했어요. 그러나 다아시는 사실 <b>내성적</b>이고 부끄러움을 많이 타는 성격이었고, 엘리자베스의 총명함에 마음이 끌리고 있었지요. 다아시는 서툴고 <b>오만</b>하게 <b>청혼</b>했다가 엘리자베스에게 단호하게 거절당했답니다.',"
new = "      '엘리자베스는 영리하고 재치 있는 여성으로 자신만의 <b>판단력</b>을 가지고 있었어요. 그녀는 다아시가 빙리와 제인의 사이를 방해했다는 이야기를 듣고 더욱 그를 싫어하게 되었지요. 또한 잘생긴 장교 위컴에게서 다아시의 나쁜 점을 듣고 그 말을 <b>맹신</b>했어요. 그러나 다아시는 사실 <b>내성적</b>이고 부끄러움을 많이 타는 성격이었고, 엘리자베스의 총명함에 마음이 끌리고 있었지요. 다아시는 서툴고 <b>오만</b>하게 <b>청혼</b>했다가 엘리자베스에게 단호하게 거절당했답니다. 엘리자베스는 다아시의 청혼을 \"당신은 <b>오만</b>하고 <b>무례</b>한 사람\"이라며 <b>거부</b>했고, 다아시는 큰 충격을 받았어요.',"
content = content.replace(old, new)

# Passage 3단락 확장
old = "      '다아시는 편지를 통해 자신의 진심과 위컴의 진짜 모습을 알려주었어요. 엘리자베스는 그 편지를 읽고 자신이 다아시를 <b>오해</b>했음을 깨닫기 시작했지요. 나중에 다아시의 저택을 방문했을 때, 그곳 하인들이 모두 다아시를 좋은 주인이라고 칭찬하는 것을 듣고 놀랐어요. 위컴은 거짓말쟁이였고, 다아시는 묵묵히 좋은 일을 해온 사람이었던 것이지요. 특히 막내 여동생 리디아가 위컴에게 속아 집안이 위험에 빠졌을 때, 다아시가 몰래 돈을 대고 문제를 해결해 주었다는 것을 알게 되었어요.',"
new = "      '다아시는 편지를 통해 자신의 진심과 위컴의 진짜 모습을 알려주었어요. 엘리자베스는 그 편지를 읽고 자신이 다아시를 <b>오해</b>했음을 깨닫기 시작했지요. 나중에 다아시의 저택을 방문했을 때, 그곳 하인들이 모두 다아시를 좋은 주인이라고 칭찬하는 것을 듣고 놀랐어요. 위컴은 거짓말쟁이였고, 다아시는 묵묵히 좋은 일을 해온 사람이었던 것이지요. 특히 막내 여동생 리디아가 위컴에게 속아 집안이 위험에 빠졌을 때, 다아시가 몰래 돈을 대고 문제를 해결해 주었다는 것을 알게 되었어요. 엘리자베스는 자신의 <b>편견</b>이 얼마나 잘못되었는지 깨닫고 <b>부끄러움</b>을 느꼈답니다. 다아시의 진정한 <b>성품</b>을 이제야 알게 된 것이지요.',"
content = content.replace(old, new)

# Passage 4단락 확장
old = "      '엘리자베스는 자신의 <b>편견</b>을 <b>반성</b>하고, 다아시도 자신의 오만함을 고쳤어요. 다아시는 다시 한번 정중하게 청혼했고, 이번에 엘리자베스는 진심으로 받아들였지요. 결국 두 사람은 서로를 진심으로 이해하고 사랑하게 되어 행복한 결혼에 이르렀어요. 이 소설은 <b>첫인상</b>에 속지 말고 진정한 모습을 보라는 교훈을 주는 작품이에요. 겉모습이 아닌 진짜 마음을 보는 것이 중요하다는 것을 알려주지요.'"
new = "      '엘리자베스는 자신의 <b>편견</b>을 <b>반성</b>하고, 다아시도 자신의 오만함을 고쳤어요. 다아시는 다시 한번 정중하게 청혼했고, 이번에 엘리자베스는 진심으로 받아들였지요. 결국 두 사람은 서로를 진심으로 이해하고 사랑하게 되어 행복한 결혼에 이르렀어요. 이 소설은 <b>첫인상</b>에 속지 말고 진정한 모습을 보라는 교훈을 주는 작품이에요. 겉모습이 아닌 진짜 마음을 보는 것이 중요하다는 것을 알려주지요. 또한 사람은 <b>변화</b>할 수 있으며, 서로의 잘못을 인정하고 고치려는 <b>노력</b>이 진정한 <b>사랑</b>의 시작임을 보여주는 아름다운 이야기랍니다.'"
content = content.replace(old, new)

# Vocab 확장
old_vocab = """      ['거만', '잘난 체하며 남을 얕보는 태도.'],
      ['내성적', '마음을 잘 드러내지 않고 조용한 성격.'],
      ['청혼', '결혼해 달라고 부탁하는 것.'],
      ['편견', '한쪽으로 치우친 잘못된 생각.'],
      ['오만', '스스로를 높이고 남을 낮추어 보는 태도.'],
      ['첫인상', '처음 만났을 때 받는 느낌.'],
      ['오해', '잘못 이해하는 것.'],
      ['판단력', '사물을 올바르게 판단하는 능력.'],
      ['반성', '자신의 잘못을 돌아봄.'],
      ['맹신', '옳고 그름을 가리지 않고 덮어놓고 믿음.']"""

new_vocab = """      ['거만', '잘난 체하며 남을 얕보는 태도.'],
      ['내성적', '마음을 잘 드러내지 않고 조용한 성격.'],
      ['청혼', '결혼해 달라고 부탁하는 것.'],
      ['편견', '한쪽으로 치우친 잘못된 생각.'],
      ['오만', '스스로를 높이고 남을 낮추어 보는 태도.'],
      ['첫인상', '처음 만났을 때 받는 느낌.'],
      ['오해', '잘못 이해하는 것.'],
      ['판단력', '사물을 올바르게 판단하는 능력.'],
      ['반성', '자신의 잘못을 돌아봄.'],
      ['맹신', '옳고 그름을 가리지 않고 덮어놓고 믿음.'],
      ['무례', '예의가 없고 버릇이 없음.'],
      ['자존심', '자기를 스스로 존중하는 마음.'],
      ['성품', '사람의 성질과 품격.'],
      ['사랑', '상대를 아끼고 소중히 여기는 마음.'],
      ['변화', '바뀌어 달라짐.']"""

content = re.sub(
    r"(deep_world2_25:[\s\S]*?)vocab: \[[^\]]*\['거만'[^\]]*\],\s*\],",
    lambda m: m.group(1) + "vocab: [\n      " + new_vocab.strip() + "\n    ],",
    content,
    count=1
)

# VocabFill 확장
old_vocabFill_pattern = r"(deep_world2_25:[\s\S]*?)vocabFill: \{[^}]*items: \[[^\]]*{ no: 10,[^\}]*\}[^\]]*\]\s*\},"

new_vocabFill = """vocabFill: {
      items: [
        { no: 1, text: '다아시는 처음에 (      )해 보여서 싫었습니다.', answer: '거만', initials: 'ㄱㅁ', aliases: ['거만'] },
        { no: 2, text: '다아시는 사실 (        )인 성격이었습니다.', answer: '내성적', initials: 'ㄴㅅㅈ', aliases: ['내성적'] },
        { no: 3, text: '다아시의 (      )을 엘리자베스가 거절했습니다.', answer: '청혼', initials: 'ㅊㅎ', aliases: ['청혼'] },
        { no: 4, text: '(      ) 없이 사람을 판단해야 합니다.', answer: '편견', initials: 'ㅍㄱ', aliases: ['편견'] },
        { no: 5, text: '(      )한 태도는 사람들을 멀리하게 만듭니다.', answer: '오만', initials: 'ㅇㅁ', aliases: ['오만'] },
        { no: 6, text: '(        )만으로 사람을 판단하면 안 됩니다.', answer: '첫인상', initials: 'ㅊㅇㅅ', aliases: ['첫인상'] },
        { no: 7, text: '엘리자베스는 다아시를 (      )하고 있었습니다.', answer: '오해', initials: 'ㅇㅎ', aliases: ['오해'] },
        { no: 8, text: '엘리자베스는 자신만의 (        )을 가지고 있었습니다.', answer: '판단력', initials: 'ㅍㄷㄹ', aliases: ['판단력'] },
        { no: 9, text: '자신의 잘못을 돌아보는 것을 (      )이라고 해요.', answer: '반성', initials: 'ㅂㅅ', aliases: ['반성'] },
        { no: 10, text: '옳고 그름을 가리지 않고 믿는 것을 (      )이라고 해요.', answer: '맹신', initials: 'ㅁㅅ', aliases: ['맹신'] },
        { no: 11, text: '예의가 없고 버릇이 없는 것을 (      )라고 해요.', answer: '무례', initials: 'ㅁㄹ', aliases: ['무례'] },
        { no: 12, text: '자기를 스스로 존중하는 마음을 (        )이라고 해요.', answer: '자존심', initials: 'ㅈㅈㅅ', aliases: ['자존심'] },
        { no: 13, text: '사람의 성질과 품격을 (      )이라고 해요.', answer: '성품', initials: 'ㅅㅍ', aliases: ['성품'] },
        { no: 14, text: '상대를 아끼고 소중히 여기는 마음을 (      )이라고 해요.', answer: '사랑', initials: 'ㅅㄹ', aliases: ['사랑'] },
        { no: 15, text: '바뀌어 달라지는 것을 (      )라고 해요.', answer: '변화', initials: 'ㅂㅎ', aliases: ['변화'] }
      ]
    },"""

content = re.sub(
    old_vocabFill_pattern,
    r"\1" + new_vocabFill,
    content,
    count=1
)

print("Unit 25 확장 완료!")

# 파일 저장
with open(file_path, 'w', encoding='utf-8') as f:
    f.write(content)

print("=" * 60)
print("Unit 23~25 모두 확장 완료! 파일이 저장되었습니다.")
print("=" * 60)
