#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re

file_path = '/Users/dandan/Desktop/dan-dan-app_1212/public/BRAINUP/person/deep_people2_content.js'

with open(file_path, 'r', encoding='utf-8') as f:
    content = f.read()

# Unit 18 - Anne Sullivan
unit18_passages = [
    '''앤 설리번은 1866년 미국 매사추세츠 주의 가난한 <b>농가</b>에서 태어났습니다. 어린 시절 <b>트라코마</b>라는 심각한 눈병에 걸려 거의 앞을 볼 수 없게 되었고, 열 살이 되던 해 어머니가 결핵으로 돌아가셨어요. 이후 아버지는 술에 빠져 가족을 돌보지 않다가 결국 앤과 동생을 버리고 떠났습니다. 남매는 <b>구빈원</b>이라는 가난하고 병든 사람들을 수용하는 시설에 맡겨졌어요. 그곳은 <b>비위생</b>적이고 <b>냉대</b>하는 환경이었으며, 앤의 어린 동생 지미는 그곳에서 병으로 세상을 떠났습니다. 앤은 깊은 <b>절망</b>과 <b>슬픔</b> 속에서도 배움의 꿈을 포기하지 않았어요. 열네 살이 되던 해, 시설을 방문한 조사관에게 "학교에 가게 해주세요!"라고 간절히 호소했습니다. 그 결과 퍼킨스 맹학교에 입학할 수 있었고, 여러 차례 수술과 <b>재활</b> 교육을 받으면서 시력을 일부 되찾았어요. 앤은 남다른 <b>열정</b>과 <b>노력</b>으로 공부하여 1886년 반에서 <b>수석</b>으로 졸업했습니다. 불우한 환경을 극복한 앤의 이야기는 당시 많은 사람들에게 감동을 주었어요.''',
    '''1887년 3월, 스무 살이 된 앤은 <b>운명</b>적인 제안을 받습니다. 앨라배마 주에 사는 일곱 살 소녀 헬렌 켈러의 <b>가정교사</b>가 되어 달라는 것이었어요. 헬렌은 생후 19개월에 성홍열로 추정되는 열병을 앓아 시력과 청력을 모두 잃었습니다. 보고 듣지 못하니 말도 배울 수 없었고, 세상과 완전히 <b>단절</b>된 채 야생 동물처럼 행동했어요. 식사 시간에는 온 가족의 접시를 <b>뒤엎고</b>, 마음에 들지 않으면 소리를 지르고 물건을 집어던졌습니다. 부모님조차 어떻게 해야 할지 몰라 포기하려던 상황이었어요. 많은 사람들이 "불가능한 일"이라고 했지만, 앤은 자신도 어둠 속에서 빛을 찾았던 경험을 떠올리며 <b>도전</b>을 받아들였습니다. 그녀는 먼저 헬렌에게 <b>규칙</b>과 예의를 가르쳤고, 헬렌의 손바닥에 <b>손가락</b>으로 글자를 반복해서 써서 사물의 이름을 가르치기 시작했어요. 헬렌과 단둘이 별채에서 지내며 집중적으로 교육했습니다.''',
    '''하지만 헬렌은 글자와 사물이 연결된다는 것을 쉽게 이해하지 못했어요. 앤이 수백 번 반복해도 헬렌에게 그것은 단순한 손놀림 놀이에 불과했습니다. 앤은 수없이 <b>좌절</b>하면서도 포기하지 않았어요. 1887년 4월 5일, 앤은 헬렌을 우물가로 데려갔습니다. 펌프에서 시원한 물이 헬렌의 한쪽 손 위로 흘러내리는 순간, 앤이 다른 손바닥에 "W-A-T-E-R"라고 천천히 <b>철자</b>를 썼어요. 그 순간, 헬렌의 표정이 완전히 달라졌습니다! 헬렌은 마침내 <b>깨달음</b>을 얻은 것이에요. 모든 사물에는 이름이 있고, 손바닥의 글자가 그 이름이라는 것을 이해한 것입니다. 헬렌은 흥분해서 집안을 돌아다니며 온갖 사물을 만지고 이름을 물었고, 그날 하루 동안 30개가 넘는 단어를 배웠어요. 이것이 바로 "물의 <b>기적</b>"으로 불리는 역사적인 순간입니다. 앤의 끈기와 사랑, 그리고 헬렌의 <b>의지</b>가 불가능을 가능으로 만들어 낸 것이에요.''',
    '''이후 앤은 평생을 헬렌 곁에서 보냈습니다. 헬렌이 점자를 배우고, 다른 사람의 입술 움직임을 손으로 만지며 말하는 법을 익히고, 1900년 래드클리프 대학에 <b>진학</b>할 때까지 함께했어요. 앤은 헬렌의 모든 수업 시간에 옆에 앉아 교수의 강의 내용을 손바닥에 실시간으로 <b>통역</b>해 주었습니다. 하루에 몇 시간씩 쉬지 않고 손가락으로 글자를 쓰는 것은 매우 힘든 일이었지만 앤은 불평하지 않았어요. 헬렌 켈러가 1904년 우등으로 대학을 졸업하고, 이후 세계적인 작가이자 장애인 인권 <b>운동가</b>가 될 수 있었던 것은 앤 설리번의 <b>헌신</b> 덕분이었습니다. 앤 자신의 시력은 점점 나빠져 결국 거의 실명했지만, 그녀는 끝까지 헬렌을 도왔어요. 1936년 10월 20일, 70세의 나이로 세상을 떠날 때까지 앤은 헬렌의 <b>스승</b>이자 친구, 동반자로 함께했습니다. 앤의 이야기는 "진정한 스승이란 무엇인가"를 생각하게 해요. 한 사람의 <b>인내</b>와 사랑, 끝없는 <b>희생</b>이 또 다른 사람의 인생을 완전히 바꿀 수 있음을 보여 줍니다.'''
]

unit18_vocab = [
    ['수석', '가장 높은 성적이나 순위'],
    ['운명', '정해진 것처럼 피할 수 없는 일'],
    ['가정교사', '집에서 개인적으로 가르치는 선생님'],
    ['깨달음', '미처 몰랐던 것을 알게 됨'],
    ['기적', '불가능해 보이는 일이 일어남'],
    ['통역', '다른 언어나 방식으로 옮겨 전달함'],
    ['인내', '어려움을 참고 견디는 것'],
    ['헌신', '자신을 바쳐 힘씀'],
    ['절망', '희망이 완전히 사라진 상태'],
    ['열정', '어떤 일에 뜨겁게 몰두하는 마음'],
    ['구빈원', '가난한 사람들을 수용하는 시설'],
    ['재활', '잃었던 기능을 되찾기 위한 훈련'],
    ['도전', '어려운 일에 맞서는 것'],
    ['스승', '가르침을 주는 선생님'],
    ['희생', '자신의 이익을 포기하고 남을 위함']
]

unit18_vocabFill = [
    "{ no: 1, text: '가장 높은 성적이나 순위를 (      )이라 한다.', answer: '수석', initials: 'ㅅㅅ', aliases: ['수석'] }",
    "{ no: 2, text: '정해진 것처럼 피할 수 없는 일을 (      )이라 한다.', answer: '운명', initials: 'ㅇㅁ', aliases: ['운명'] }",
    "{ no: 3, text: '집에서 개인적으로 가르치는 선생님을 (      )라고 한다.', answer: '가정교사', initials: 'ㄱㅈㄱㅅ', aliases: ['가정교사'] }",
    "{ no: 4, text: '미처 몰랐던 것을 알게 되는 것을 (      )이라 한다.', answer: '깨달음', initials: 'ㄲㄷㅇ', aliases: ['깨달음'] }",
    "{ no: 5, text: '불가능해 보이는 일이 일어나는 것을 (      )이라 한다.', answer: '기적', initials: 'ㄱㅈ', aliases: ['기적'] }",
    "{ no: 6, text: '다른 언어나 방식으로 옮겨 전달하는 것을 (      )이라 한다.', answer: '통역', initials: 'ㅌㅇ', aliases: ['통역'] }",
    "{ no: 7, text: '어려움을 참고 견디는 것을 (      )라고 한다.', answer: '인내', initials: 'ㅇㄴ', aliases: ['인내'] }",
    "{ no: 8, text: '자신을 바쳐 힘쓰는 것을 (      )이라 한다.', answer: '헌신', initials: 'ㅎㅅ', aliases: ['헌신'] }",
    "{ no: 9, text: '희망이 완전히 사라진 상태를 (      )이라 한다.', answer: '절망', initials: 'ㅈㅁ', aliases: ['절망'] }",
    "{ no: 10, text: '어떤 일에 뜨겁게 몰두하는 마음을 (      )이라 한다.', answer: '열정', initials: 'ㅇㅈ', aliases: ['열정'] }",
    "{ no: 11, text: '가난한 사람들을 수용하는 시설을 (      )이라 한다.', answer: '구빈원', initials: 'ㄱㅂㅇ', aliases: ['구빈원'] }",
    "{ no: 12, text: '잃었던 기능을 되찾기 위한 훈련을 (      )이라 한다.', answer: '재활', initials: 'ㅈㅎ', aliases: ['재활'] }",
    "{ no: 13, text: '어려운 일에 맞서는 것을 (      )이라 한다.', answer: '도전', initials: 'ㄷㅈ', aliases: ['도전'] }",
    "{ no: 14, text: '가르침을 주는 선생님을 (      )이라 한다.', answer: '스승', initials: 'ㅅㅅ', aliases: ['스승'] }",
    "{ no: 15, text: '자신의 이익을 포기하고 남을 위하는 것을 (      )이라 한다.', answer: '희생', initials: 'ㅎㅅ', aliases: ['희생'] }"
]

# Find and replace Unit 18 passages
pattern18_passage = r"(deep_people2_18:[\s\S]*?passage: \[)([\s\S]*?)(\n    \],\n    vocab:)"
match18 = re.search(pattern18_passage, content)
if match18:
    new_passages = ",\n      ".join([f"'{p}'" for p in unit18_passages])
    content = content[:match18.start(2)] + "\n      " + new_passages + "\n    " + content[match18.end(2):]

# Find and replace Unit 18 vocab
pattern18_vocab = r"(deep_people2_18:[\s\S]*?vocab: \[)([\s\S]*?)(\n    \],\n    vocabFill:)"
match18v = re.search(pattern18_vocab, content)
if match18v:
    new_vocab = ",\n      ".join([f"['{v[0]}', '{v[1]}']" for v in unit18_vocab])
    content = content[:match18v.start(2)] + "\n      " + new_vocab + "\n    " + content[match18v.end(2):]

# Find and replace Unit 18 vocabFill
pattern18_vf = r"(deep_people2_18:[\s\S]*?vocabFill: \{[\s\S]*?items: \[)([\s\S]*?)(\n      \]\n    \},\n    quiz:)"
match18vf = re.search(pattern18_vf, content)
if match18vf:
    new_vocabFill = ",\n        ".join(unit18_vocabFill)
    content = content[:match18vf.start(2)] + "\n        " + new_vocabFill + "\n      " + content[match18vf.end(2):]

print("Unit 18 updated successfully!")

with open(file_path, 'w', encoding='utf-8') as f:
    f.write(content)

print("File saved!")
