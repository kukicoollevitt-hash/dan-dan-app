#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Unit 39, 40 전체 확장 스크립트
- passage: 각 문단 450~500자로 확장
- vocab: 15개로 확장
- vocabFill: 15개로 확장
"""

import re
import shutil
from datetime import datetime

# 파일 경로
FILE_PATH = '/Users/dandan/Desktop/dan-dan-app_1212/public/BRAINUP/person/deep_people2_content.js'

# 백업 생성
backup_path = f"{FILE_PATH}.backup_{int(datetime.now().timestamp())}"
shutil.copy2(FILE_PATH, backup_path)
print(f"백업 생성: {backup_path}")

# 파일 읽기
with open(FILE_PATH, 'r', encoding='utf-8') as f:
    content = f.read()

# ============= Unit 39 (갈릴레오) 확장 =============

# Unit 39 - passage 확장
unit39_old_passage = r"""    passage: \[
      '갈릴레오 갈릴레이는 1564년 <b>이탈리아</b> 피사에서 태어났습니다\. 아버지는 유명한 음악가였고, 갈릴레오도 어린 시절 류트라는 악기를 배웠어요\. 처음에는 피사 대학교에서 의학을 공부했지만, 수학과 <b>물리학</b>에 매력을 느껴 전공을 바꾸었습니다\. 스물다섯 살의 젊은 나이에 피사 대학교의 <b>수학</b> 교수가 되었어요\. 갈릴레오는 <b>관찰</b>과 <b>실험</b>을 무엇보다 중요하게 생각했습니다\. 당시 학자들은 고대 그리스 철학자 <b>아리스토텔레스</b>의 가르침을 맹목적으로 따랐어요\. 아리스토텔레스는 "무거운 물체가 가벼운 물체보다 빨리 떨어진다"고 주장했습니다\. 하지만 갈릴레오는 유명한 피사의 사탑에서 직접 실험하여 이것이 틀렸음을 증명했다고 전해져요\.',
      '1609년, 갈릴레오는 네덜란드에서 발명된 <b>망원경</b>에 대해 듣고 직접 더 좋은 망원경을 만들어 냈습니다\. 자신이 개량한 망원경으로 밤하늘을 관찰하기 시작했어요\. 그 결과 달 표면이 매끄럽지 않고 산과 <b>분화구</b>로 울퉁불퉁하다는 것을 발견했습니다\. 또한 <b>목성</b> 주위를 도는 네 개의 <b>위성</b>을 찾아냈어요\. 이 위성들은 오늘날 "갈릴레이 위성"이라고 불립니다\. 이러한 발견들은 당시 "지구가 우주의 중심"이라는 <b>천동설</b>을 뒤흔들었어요\. 갈릴레오는 폴란드 천문학자 코페르니쿠스가 주장한 <b>지동설</b>, 즉 지구가 태양 주위를 돈다는 이론을 강력하게 지지했습니다\.',
      '하지만 당시 가톨릭 <b>교회</b>는 천동설을 공식 교리로 가르쳤고, 지동설은 위험한 이단 사상으로 여겨졌습니다\. 교회는 갈릴레오에게 지동설을 더 이상 주장하지 말라고 경고했어요\. 하지만 갈릴레오는 1632년 『두 우주 체계에 관한 대화』라는 책을 출판하여 지동설을 지지하는 내용을 담았습니다\. 분노한 교회는 갈릴레오를 <b>종교 재판</b>에 회부했어요\. 결국 그는 자신의 주장을 철회하라는 명령을 받았습니다\. 재판 후 법정을 나서며 "그래도 지구는 돈다\(E pur si muove\)"라고 중얼거렸다는 유명한 <b>일화</b>가 전해지지만, 이것이 사실인지는 확실하지 않아요\.',
      '갈릴레오는 종교 재판 이후 가택 <b>연금</b> 상태에서 여생을 보냈습니다\. 집 밖으로 나갈 수 없는 상황에서도 연구를 멈추지 않았어요\. 운동과 역학에 관한 새로운 책을 집필하여 근대 물리학의 기초를 닦았습니다\. 1642년 77세의 나이로 세상을 떠났어요\. 갈릴레오가 죽은 해에 아이작 뉴턴이 태어났다는 것은 과학사의 흥미로운 우연입니다\. 수백 년이 지난 1992년, 교황 요한 바오로 2세는 갈릴레오에 대한 교회의 판결이 잘못되었음을 공식적으로 인정했습니다\. 갈릴레오는 "근대 <b>과학</b>의 아버지"로 불리며, 관찰과 실험을 통해 진실을 찾으려 한 그의 정신은 오늘날 모든 과학자들의 귀감이 되고 있어요\.'
    \],"""

unit39_new_passage = """    passage: [
      '갈릴레오 갈릴레이는 1564년 <b>이탈리아</b> 피사에서 태어났습니다. 아버지 빈첸초 갈릴레이는 유명한 음악가이자 수학자였고, 갈릴레오도 어린 시절 류트라는 악기를 배우며 음악적 재능을 보였어요. 하지만 아버지의 권유로 1581년 피사 대학교에 입학하여 <b>의학</b>을 공부하기 시작했습니다. 그러나 우연히 진자의 규칙적인 움직임을 관찰한 후 수학과 <b>물리학</b>에 큰 매력을 느껴 전공을 바꾸었어요. 스물다섯 살의 젊은 나이에 피사 대학교의 <b>수학</b> 교수가 되었고, 이후 파도바 대학교에서도 18년간 가르쳤습니다. 갈릴레오는 <b>관찰</b>과 <b>실험</b>을 무엇보다 중요하게 생각한 혁명적인 과학자였어요. 당시 대부분의 학자들은 고대 그리스 철학자 <b>아리스토텔레스</b>의 가르침을 실험 없이 맹목적으로 따랐습니다. 아리스토텔레스는 "무거운 물체가 가벼운 물체보다 빨리 떨어진다"고 주장했어요. 하지만 갈릴레오는 유명한 피사의 사탑에서 서로 다른 무게의 공을 동시에 떨어뜨려 이 이론이 틀렸음을 증명했다는 전설이 전해집니다. 실제로 그는 <b>경사면</b> 실험을 통해 낙하 운동의 법칙을 정확하게 밝혀냈어요.',
      '1609년, 갈릴레오는 네덜란드에서 발명된 <b>망원경</b>에 대해 듣고 렌즈를 직접 갈아 훨씬 더 성능이 좋은 망원경을 제작했습니다. 그가 만든 망원경은 물체를 최대 30배까지 확대할 수 있었어요. 베네치아 정부에 이 망원경을 시연하여 큰 관심을 받았고, 군사적 용도로도 활용되었습니다. 갈릴레오는 자신이 개량한 망원경을 밤하늘로 돌려 우주를 체계적으로 관찰하기 시작했어요. 그 결과 당시 사람들의 우주관을 완전히 뒤바꾸는 놀라운 발견들을 하게 됩니다. 먼저 달 표면이 완벽하게 매끄러운 구체가 아니라 산과 <b>분화구</b>로 울퉁불퉁하다는 사실을 밝혀냈어요. 또한 <b>목성</b> 주위를 규칙적으로 도는 네 개의 <b>위성</b>(이오, 유로파, 가니메데, 칼리스토)을 발견했습니다. 이 위성들은 오늘날 "갈릴레이 위성"이라고 불리며 그의 이름을 영원히 기억하게 해요. 금성의 위상 변화도 관찰하여 금성이 태양 주위를 돈다는 증거를 찾아냈습니다. <b>은하수</b>가 무수히 많은 별들로 이루어져 있다는 것, 태양 표면의 <b>흑점</b>도 발견했어요. 이러한 발견들은 "지구가 우주의 중심이며 모든 천체가 지구 주위를 돈다"는 <b>천동설</b>에 심각한 타격을 입혔습니다. 갈릴레오는 폴란드 천문학자 니콜라우스 <b>코페르니쿠스</b>가 주장한 <b>지동설</b>, 즉 지구가 태양 주위를 돈다는 이론을 자신의 관찰 결과로 강력하게 지지했어요.',
      '하지만 당시 가톨릭 <b>교회</b>는 천동설을 성경에 기반한 공식 교리로 가르쳤고, 지동설은 성경에 위배되는 위험한 <b>이단</b> 사상으로 간주되었습니다. 1616년, 교회는 갈릴레오를 로마로 불러 지동설을 더 이상 가르치거나 옹호하지 말라고 엄중히 경고했어요. 갈릴레오는 한동안 침묵을 지켰지만, 진실을 포기할 수 없었습니다. 1632년, 그는 『두 세계 체계에 관한 대화(Dialogo)』라는 혁명적인 책을 출판했어요. 이 책은 천동설을 믿는 심플리치오와 지동설을 지지하는 살비아티, 중립적인 사그레도의 대화 형식으로 쓰였습니다. 표면적으로는 중립적인 척했지만, 실제로는 지동설의 우월성을 명백히 드러내는 내용이었어요. 심플리치오가 어리석은 사람으로 묘사되자 교황 우르바누스 8세는 자신을 조롱한 것이라고 분노했습니다. 분노한 교회는 당시 69세의 노인이었던 갈릴레오를 로마의 <b>종교 재판</b>소(Inquisition)에 회부했어요. 1633년 재판에서 갈릴레오는 강압에 못 이겨 자신의 주장을 철회하고 무릎 꿇고 사과해야 했습니다. 재판 후 법정을 나서며 "그래도 지구는 돈다(E pur si muove)"라고 나지막이 중얼거렸다는 유명한 <b>일화</b>가 전해지지만, 이것이 실제로 있었던 일인지는 역사학자들 사이에서 논란이 있어요.',
      '갈릴레오는 종교 재판 이후 피렌체 근처 아르체트리에서 가택 <b>연금</b> 상태로 여생을 보내야 했습니다. 집 밖으로 자유롭게 나갈 수 없고, 방문객도 엄격히 제한되는 상황이었어요. 설상가상으로 그는 노년에 시력을 완전히 잃어 <b>실명</b>하게 되었습니다. 평생 관찰을 중시한 과학자가 눈을 잃은 것은 비극이었어요. 하지만 연금과 실명 속에서도 갈릴레오는 연구를 멈추지 않았습니다. 제자들의 도움을 받아 『새로운 두 과학에 관한 논의(Discorsi)』라는 책을 구술로 집필했어요. 이 책에서 그는 운동의 법칙, <b>역학</b>, 재료의 강도 등을 다루며 근대 물리학의 기초를 확립했습니다. 1642년 1월 8일, 갈릴레오는 77세의 나이로 조용히 세상을 떠났어요. 놀랍게도 갈릴레오가 죽은 바로 그해에 영국에서 아이작 뉴턴이 태어났다는 것은 과학사의 흥미로운 우연입니다. 수백 년이 흐른 1992년, 교황 요한 바오로 2세는 갈릴레오에 대한 종교 재판이 잘못되었음을 공식적으로 인정하고 사과했습니다. 359년이 걸린 명예 회복이었어요. 갈릴레오 갈릴레이는 "근대 <b>과학</b>의 아버지", "실험물리학의 아버지", "과학적 방법의 아버지"로 불리며 과학사에 길이 남았습니다. 권위나 전통이 아닌 관찰과 실험, 그리고 <b>수학적 증명</b>을 통해 진실을 찾으려 한 그의 정신은 오늘날 모든 과학자들의 귀감이 되고 있어요.'
    ],"""

content = re.sub(unit39_old_passage, unit39_new_passage, content, flags=re.DOTALL)
print("Unit 39 passage 확장 완료")

# Unit 39 - vocab 확장 (14개 -> 15개)
unit39_old_vocab = r"""    vocab: \[
      \['관찰', '사물이나 현상을 주의 깊게 살펴보는 것'\],
      \['실험', '가설을 증명하기 위해 직접 시험하는 것'\],
      \['물리학', '자연 현상의 법칙을 연구하는 학문'\],
      \['아리스토텔레스', '고대 그리스의 대표적인 철학자'\],
      \['망원경', '먼 곳을 크게 볼 수 있게 하는 도구'\],
      \['분화구', '화산 폭발로 생긴 움푹 파인 곳'\],
      \['위성', '행성 주위를 도는 천체'\],
      \['천동설', '지구가 우주의 중심이라는 이론'\],
      \['지동설', '지구가 태양 주위를 돈다는 이론'\],
      \['교회', '기독교 신자들이 예배를 드리는 곳'\],
      \['종교 재판', '종교적 죄를 심판하는 재판'\],
      \['일화', '유명한 사람에 대해 전해 내려오는 이야기'\],
      \['연금', '자유롭게 다니지 못하게 가두는 것'\]
    \],"""

unit39_new_vocab = """    vocab: [
      ['관찰', '사물이나 현상을 주의 깊게 살펴보는 것'],
      ['실험', '가설을 증명하기 위해 직접 시험하는 것'],
      ['물리학', '자연 현상의 법칙을 연구하는 학문'],
      ['아리스토텔레스', '고대 그리스의 대표적인 철학자'],
      ['경사면', '기울어진 비탈진 면'],
      ['망원경', '먼 곳을 크게 볼 수 있게 하는 도구'],
      ['분화구', '화산 폭발로 생긴 움푹 파인 곳'],
      ['위성', '행성 주위를 도는 천체'],
      ['은하수', '밤하늘에 보이는 흐릿한 별들의 띠'],
      ['흑점', '태양 표면의 어두운 점'],
      ['천동설', '지구가 우주의 중심이라는 이론'],
      ['지동설', '지구가 태양 주위를 돈다는 이론'],
      ['이단', '정통 종교에 어긋나는 사상'],
      ['종교 재판', '종교적 죄를 심판하는 재판'],
      ['실명', '눈이 보이지 않게 되는 것']
    ],"""

content = re.sub(unit39_old_vocab, unit39_new_vocab, content, flags=re.DOTALL)
print("Unit 39 vocab 확장 완료 (14개 -> 15개)")

# Unit 39 - vocabFill 확장 (10개 -> 15개)
unit39_old_vocabfill = r"""    vocabFill: \{
      instructions: '\[갈릴레오 관련 어휘\]',
      items: \[
        \{ no: 1, text: '사물이나 현상을 주의 깊게 살펴보는 것을 \(      \)이라 한다\.', answer: '관찰', initials: 'ㄱㅊ', aliases: \['관찰'\] \},
        \{ no: 2, text: '가설을 증명하기 위해 직접 시험하는 것을 \(      \)이라 한다\.', answer: '실험', initials: 'ㅅㅎ', aliases: \['실험'\] \},
        \{ no: 3, text: '자연 현상의 법칙을 연구하는 학문을 \(      \)이라 한다\.', answer: '물리학', initials: 'ㅁㄹㅎ', aliases: \['물리학'\] \},
        \{ no: 4, text: '먼 곳을 크게 볼 수 있게 하는 도구를 \(      \)이라 한다\.', answer: '망원경', initials: 'ㅁㅇㄱ', aliases: \['망원경'\] \},
        \{ no: 5, text: '행성 주위를 도는 천체를 \(      \)이라 한다\.', answer: '위성', initials: 'ㅇㅅ', aliases: \['위성'\] \},
        \{ no: 6, text: '지구가 우주의 중심이라는 이론을 \(      \)이라 한다\.', answer: '천동설', initials: 'ㅊㄷㅅ', aliases: \['천동설'\] \},
        \{ no: 7, text: '지구가 태양 주위를 돈다는 이론을 \(      \)이라 한다\.', answer: '지동설', initials: 'ㅈㄷㅅ', aliases: \['지동설'\] \},
        \{ no: 8, text: '종교적 죄를 심판하는 재판을 \(      \)이라 한다\.', answer: '종교 재판', initials: 'ㅈㄱㅈㅍ', aliases: \['종교 재판','종교재판'\] \},
        \{ no: 9, text: '유명한 사람에 대해 전해 내려오는 이야기를 \(      \)라고 한다\.', answer: '일화', initials: 'ㅇㅎ', aliases: \['일화'\] \},
        \{ no: 10, text: '자유롭게 다니지 못하게 가두는 것을 \(      \)이라 한다\.', answer: '연금', initials: 'ㅇㄱ', aliases: \['연금'\] \}
      \]
    \},"""

unit39_new_vocabfill = """    vocabFill: {
      instructions: '[갈릴레오 관련 어휘]',
      items: [
        { no: 1, text: '사물이나 현상을 주의 깊게 살펴보는 것을 (      )이라 한다.', answer: '관찰', initials: 'ㄱㅊ', aliases: ['관찰'] },
        { no: 2, text: '가설을 증명하기 위해 직접 시험하는 것을 (      )이라 한다.', answer: '실험', initials: 'ㅅㅎ', aliases: ['실험'] },
        { no: 3, text: '자연 현상의 법칙을 연구하는 학문을 (      )이라 한다.', answer: '물리학', initials: 'ㅁㄹㅎ', aliases: ['물리학'] },
        { no: 4, text: '고대 그리스의 대표적인 철학자를 (      )라고 한다.', answer: '아리스토텔레스', initials: 'ㅇㄹㅅㅌㅌㄹㅅ', aliases: ['아리스토텔레스'] },
        { no: 5, text: '기울어진 비탈진 면을 (      )이라 한다.', answer: '경사면', initials: 'ㄱㅅㅁ', aliases: ['경사면'] },
        { no: 6, text: '먼 곳을 크게 볼 수 있게 하는 도구를 (      )이라 한다.', answer: '망원경', initials: 'ㅁㅇㄱ', aliases: ['망원경'] },
        { no: 7, text: '행성 주위를 도는 천체를 (      )이라 한다.', answer: '위성', initials: 'ㅇㅅ', aliases: ['위성'] },
        { no: 8, text: '밤하늘에 보이는 흐릿한 별들의 띠를 (      )라고 한다.', answer: '은하수', initials: 'ㅇㅎㅅ', aliases: ['은하수'] },
        { no: 9, text: '태양 표면의 어두운 점을 (      )이라 한다.', answer: '흑점', initials: 'ㅎㅈ', aliases: ['흑점'] },
        { no: 10, text: '지구가 우주의 중심이라는 이론을 (      )이라 한다.', answer: '천동설', initials: 'ㅊㄷㅅ', aliases: ['천동설'] },
        { no: 11, text: '지구가 태양 주위를 돈다는 이론을 (      )이라 한다.', answer: '지동설', initials: 'ㅈㄷㅅ', aliases: ['지동설'] },
        { no: 12, text: '정통 종교에 어긋나는 사상을 (      )이라 한다.', answer: '이단', initials: 'ㅇㄷ', aliases: ['이단'] },
        { no: 13, text: '종교적 죄를 심판하는 재판을 (      )이라 한다.', answer: '종교 재판', initials: 'ㅈㄱㅈㅍ', aliases: ['종교 재판','종교재판'] },
        { no: 14, text: '자유롭게 다니지 못하게 가두는 것을 (      )이라 한다.', answer: '연금', initials: 'ㅇㄱ', aliases: ['연금'] },
        { no: 15, text: '눈이 보이지 않게 되는 것을 (      )이라 한다.', answer: '실명', initials: 'ㅅㅁ', aliases: ['실명'] }
      ]
    },"""

content = re.sub(unit39_old_vocabfill, unit39_new_vocabfill, content, flags=re.DOTALL)
print("Unit 39 vocabFill 확장 완료 (10개 -> 15개)")

# ============= Unit 40 (테슬라) 확장 =============

# Unit 40 - passage 확장
unit40_old_passage = r"""    passage: \[
      '니콜라 테슬라는 1856년 오스트리아 제국\(현재 <b>크로아티아</b>\)에서 태어났습니다\. 아버지는 성직자였고, 어머니는 손재주가 뛰어난 분이었어요\. 테슬라는 어린 시절부터 <b>기억력</b>이 놀라울 정도로 뛰어났습니다\. 책을 한 번 읽으면 전체 내용을 사진처럼 정확하게 기억했어요\. 오스트리아와 체코에서 <b>공학</b>을 공부했지만, 학위를 받지는 못했습니다\. 하지만 그의 <b>천재</b>성은 학위 없이도 빛났어요\. 1884년, 테슬라는 새로운 기회를 찾아 미국으로 건너갔습니다\. 당시 가장 유명한 발명가 토머스 <b>에디슨</b>의 회사에서 일하게 되었지만, 둘의 전기에 대한 생각은 완전히 달랐어요\.',
      '테슬라는 <b>교류</b>\(AC\) 전기 시스템을 연구했지만, 에디슨은 <b>직류</b>\(DC\)를 고집했습니다\. 교류 전기는 방향을 바꾸며 흐르고, 직류 전기는 한 방향으로만 흘러요\. 에디슨은 직류가 더 안전하다고 주장했지만, 테슬라는 교류가 훨씬 효율적이라는 것을 알았습니다\. 결국 둘은 갈라서게 되었고, 이것이 역사적인 "전류 전쟁"의 시작이었어요\. 테슬라는 독립하여 자신만의 회사를 세웠습니다\. 그는 <b>교류 전동기</b>와 <b>변압기</b>를 발명했어요\. 교류 전기는 변압기를 통해 전압을 높였다 낮췄다 할 수 있어서 멀리까지 효율적으로 전기를 보낼 수 있었습니다\. 이것이 오늘날 전 세계 전력망의 기초가 되었어요\.',
      '테슬라는 웨스팅하우스 회사와 협력하여 <b>나이아가라 폭포</b>에 세계 최초의 대규모 <b>수력 발전소</b>를 만들었습니다\. 이 발전소는 에디슨의 직류 시스템을 완전히 이긴 역사적인 승리였어요\. 테슬라는 전기 분야 외에도 다양한 발명을 했습니다\. <b>라디오</b>의 기초 기술, 리모컨, 형광등, 무선 전력 전송 등 그의 발명품은 300개가 넘었어요\. 테슬라 <b>코일</b>은 오늘날에도 과학 실험과 특수 효과에 사용됩니다\. 테슬라는 무선으로 전기를 보내는 "월드 시스템"을 꿈꿨지만, 자금 부족으로 완성하지 못했어요\.',
      '테슬라는 돈보다 발명에 관심이 많은 순수한 <b>과학자</b>였습니다\. 웨스팅하우스 회사가 재정적으로 어려워지자 엄청난 금액의 <b>특허</b> 사용료를 포기했어요\. 이 때문에 말년에는 뉴욕의 작은 호텔 방에서 가난하게 살았습니다\. 비둘기를 돌보며 외롭게 지내다가 1943년 86세의 나이로 홀로 세상을 떠났어요\. 생전에 제대로 인정받지 못한 비운의 천재였지만, 오늘날 테슬라는 "전기의 시대를 연 <b>발명가</b>"로 재평가받고 있습니다\. 유명한 전기차 회사 "테슬라"도 그의 이름을 딴 것이며, 자기장의 단위인 "테슬라\(T\)"도 그를 기념합니다\. 니콜라 테슬라는 시대를 앞서간 천재로 현대 문명의 기초를 만들었어요\.'
    \],"""

unit40_new_passage = """    passage: [
      '니콜라 테슬라는 1856년 7월 10일 오스트리아 제국(현재 <b>크로아티아</b>)의 스밀랸이라는 작은 마을에서 태어났습니다. 아버지 밀루틴 테슬라는 세르비아 정교회 성직자였고, 어머니 주카는 정규 교육을 받지 못했지만 손재주가 뛰어나 각종 도구를 발명하는 분이었어요. 테슬라는 어린 시절부터 <b>기억력</b>이 놀라울 정도로 뛰어났습니다. 책을 한 번 읽으면 전체 내용을 사진을 찍듯 정확하게 기억하는 "사진 기억력"을 가졌어요. 그는 오스트리아의 그라츠 공과대학과 체코의 프라하 대학에서 <b>공학</b>과 물리학을 공부했지만, 가정 형편이 어려워 학위를 받지는 못했습니다. 하지만 그의 <b>천재</b>적 재능은 학위 없이도 빛났어요. 1882년 파리에서 일하던 중 교류 전동기의 아이디어를 떠올렸습니다. 1884년, 28세의 테슬라는 더 큰 꿈을 안고 단돈 4센트만 가지고 미국 뉴욕으로 건너갔어요. 당시 가장 유명한 발명가 토머스 <b>에디슨</b>의 회사에서 일하게 되었지만, 둘의 전기에 대한 철학은 완전히 달랐습니다. 에디슨은 실용주의자였고 테슬라는 이상주의자였어요.',
      '테슬라는 <b>교류</b>(AC) 전기 시스템을 연구했지만, 에디슨은 <b>직류</b>(DC) 시스템만을 고집했습니다. 교류 전기는 방향을 주기적으로 바꾸며 흐르고, 직류 전기는 한 방향으로만 일정하게 흘러요. 에디슨은 직류가 더 안전하다고 주장하며 교류의 위험성을 과장했지만, 테슬라는 교류가 훨씬 효율적이라는 것을 과학적으로 증명했습니다. 에디슨이 약속한 보너스를 주지 않자 테슬라는 회사를 떠났고, 이것이 역사적인 "<b>전류 전쟁</b>(War of Currents)"의 시작이었어요. 1887년, 테슬라는 독립하여 맨해튼에 자신만의 실험실을 차리고 본격적인 연구를 시작했습니다. 그는 혁명적인 <b>교류 전동기</b>와 <b>변압기</b>를 발명했어요. 교류 전기는 변압기를 통해 전압을 자유롭게 높였다 낮췄다 할 수 있어서 먼 거리까지 전력 손실 없이 효율적으로 전기를 보낼 수 있었습니다. 이것이 오늘날 전 세계 송전 시스템의 기초가 되었어요. 실업가 조지 <b>웨스팅하우스</b>는 테슬라의 천재성을 알아보고 그의 특허를 사들여 교류 시스템을 대규모로 상용화했습니다.',
      '1895년, 테슬라와 웨스팅하우스는 <b>나이아가라 폭포</b>에 세계 최초의 대규모 <b>수력 발전소</b>를 건설하는 역사적 프로젝트를 성공시켰습니다. 이 발전소는 교류 전기로 35킬로미터 떨어진 버팔로 시까지 전력을 공급했어요. 이것은 에디슨의 직류 시스템을 완전히 이긴 결정적 승리였으며, 전류 전쟁의 종결을 의미했습니다. 테슬라는 전기 분야 외에도 놀라운 발명들을 쏟아냈어요. <b>라디오</b>의 기초 기술을 개발했고(나중에 마르코니가 특허를 받았지만 사후에 테슬라가 진짜 발명가로 인정됨), 최초의 리모컨, 형광등, X선 촬영 기술, 무선 전력 전송 기술 등을 연구했습니다. 그의 <b>특허</b>는 무려 300개가 넘었어요. 특히 테슬라 <b>코일</b>은 고전압을 만들어내는 장치로 오늘날에도 과학 실험, 음악 공연, 영화 특수 효과에 사용됩니다. 테슬라는 무선으로 전 세계에 전기를 보내는 "월드 시스템"과 <b>워든클리프 타워</b>를 꿈꿨지만, 투자자들의 지원이 끊기며 완성하지 못했어요.',
      '테슬라는 돈이나 명예보다 발명 자체에 관심이 많은 순수한 <b>과학자</b>였습니다. 웨스팅하우스 회사가 재정적으로 어려워지자 평생 동안 받을 수 있었던 엄청난 금액의 <b>특허</b> 사용료(당시 1,200만 달러 상당)를 자진해서 포기했어요. "웨스팅하우스 씨, 당신은 내 친구였습니다. 당신의 우정이 돈보다 중요합니다"라고 말했죠. 이 고결한 결정 때문에 테슬라는 말년에 경제적으로 매우 어려워졌습니다. 뉴욕의 작은 호텔 뉴요커 호텔 3327호실에서 가난하게 살며 비둘기들에게 먹이를 주는 것을 유일한 낙으로 삼았어요. 1943년 1월 7일, 86세의 나이로 홀로 외롭게 세상을 떠났습니다. 생전에는 괴짜 취급을 받으며 제대로 인정받지 못한 비운의 천재였어요. 하지만 오늘날 니콜라 테슬라는 "전기의 시대를 연 진정한 <b>발명가</b>"로 재평가받고 있습니다. 일론 머스크의 유명한 전기차 회사 "테슬라"도 그의 이름을 딴 것이며, 자기장 세기의 단위인 "테슬라(T)"도 그를 기념합니다. 니콜라 테슬라는 시대를 최소 100년은 앞서간 천재로, 현대 전기 문명의 진정한 아버지라 할 수 있어요.'
    ],"""

content = re.sub(unit40_old_passage, unit40_new_passage, content, flags=re.DOTALL)
print("Unit 40 passage 확장 완료")

# Unit 40 - vocab 확장 (13개 -> 15개)
unit40_old_vocab = r"""    vocab: \[
      \['기억력', '보거나 들은 것을 떠올리는 능력'\],
      \['공학', '과학 원리를 실제 기술에 적용하는 학문'\],
      \['천재', '뛰어난 재능을 타고난 사람'\],
      \['에디슨', '전구를 발명한 미국의 발명가'\],
      \['교류', '전기가 방향을 바꾸며 흐르는 것'\],
      \['직류', '전기가 한 방향으로만 흐르는 것'\],
      \['교류 전동기', '교류 전기로 작동하는 모터'\],
      \['변압기', '전압을 높이거나 낮추는 장치'\],
      \['나이아가라 폭포', '미국과 캐나다 국경의 거대한 폭포'\],
      \['수력 발전소', '물의 힘으로 전기를 만드는 곳'\],
      \['라디오', '전파로 소리를 보내고 받는 기계'\],
      \['특허', '발명품을 보호하는 법적 권리'\],
      \['발명가', '새로운 물건이나 방법을 만들어 내는 사람'\]
    \],"""

unit40_new_vocab = """    vocab: [
      ['기억력', '보거나 들은 것을 떠올리는 능력'],
      ['공학', '과학 원리를 실제 기술에 적용하는 학문'],
      ['천재', '뛰어난 재능을 타고난 사람'],
      ['에디슨', '전구를 발명한 미국의 발명가'],
      ['교류', '전기가 방향을 바꾸며 흐르는 것'],
      ['직류', '전기가 한 방향으로만 흐르는 것'],
      ['전류 전쟁', '교류와 직류 중 어느 것이 더 나은지 다툰 경쟁'],
      ['교류 전동기', '교류 전기로 작동하는 모터'],
      ['변압기', '전압을 높이거나 낮추는 장치'],
      ['웨스팅하우스', '테슬라의 교류 시스템을 상용화한 실업가'],
      ['나이아가라 폭포', '미국과 캐나다 국경의 거대한 폭포'],
      ['수력 발전소', '물의 힘으로 전기를 만드는 곳'],
      ['라디오', '전파로 소리를 보내고 받는 기계'],
      ['특허', '발명품을 보호하는 법적 권리'],
      ['과학자', '과학을 연구하는 사람']
    ],"""

content = re.sub(unit40_old_vocab, unit40_new_vocab, content, flags=re.DOTALL)
print("Unit 40 vocab 확장 완료 (13개 -> 15개)")

# Unit 40 - vocabFill 확장 (10개 -> 15개)
unit40_old_vocabfill = r"""    vocabFill: \{
      instructions: '\[테슬라 관련 어휘\]',
      items: \[
        \{ no: 1, text: '보거나 들은 것을 떠올리는 능력을 \(      \)이라 한다\.', answer: '기억력', initials: 'ㄱㅇㄹ', aliases: \['기억력'\] \},
        \{ no: 2, text: '뛰어난 재능을 타고난 사람을 \(      \)라고 한다\.', answer: '천재', initials: 'ㅊㅈ', aliases: \['천재'\] \},
        \{ no: 3, text: '전기가 방향을 바꾸며 흐르는 것을 \(      \)라고 한다\.', answer: '교류', initials: 'ㄱㄹ', aliases: \['교류'\] \},
        \{ no: 4, text: '전기가 한 방향으로만 흐르는 것을 \(      \)라고 한다\.', answer: '직류', initials: 'ㅈㄹ', aliases: \['직류'\] \},
        \{ no: 5, text: '전압을 높이거나 낮추는 장치를 \(      \)라고 한다\.', answer: '변압기', initials: 'ㅂㅇㄱ', aliases: \['변압기'\] \},
        \{ no: 6, text: '물의 힘으로 전기를 만드는 곳을 \(      \)라고 한다\.', answer: '수력 발전소', initials: 'ㅅㄹㅂㅈㅅ', aliases: \['수력 발전소','수력발전소'\] \},
        \{ no: 7, text: '전파로 소리를 보내고 받는 기계를 \(      \)라고 한다\.', answer: '라디오', initials: 'ㄹㄷㅇ', aliases: \['라디오'\] \},
        \{ no: 8, text: '발명품을 보호하는 법적 권리를 \(      \)라고 한다\.', answer: '특허', initials: 'ㅌㅎ', aliases: \['특허'\] \},
        \{ no: 9, text: '새로운 물건이나 방법을 만들어 내는 사람을 \(      \)라고 한다\.', answer: '발명가', initials: 'ㅂㅁㄱ', aliases: \['발명가'\] \},
        \{ no: 10, text: '과학 원리를 실제 기술에 적용하는 학문을 \(      \)이라 한다\.', answer: '공학', initials: 'ㄱㅎ', aliases: \['공학'\] \}
      \]
    \},"""

unit40_new_vocabfill = """    vocabFill: {
      instructions: '[테슬라 관련 어휘]',
      items: [
        { no: 1, text: '보거나 들은 것을 떠올리는 능력을 (      )이라 한다.', answer: '기억력', initials: 'ㄱㅇㄹ', aliases: ['기억력'] },
        { no: 2, text: '과학 원리를 실제 기술에 적용하는 학문을 (      )이라 한다.', answer: '공학', initials: 'ㄱㅎ', aliases: ['공학'] },
        { no: 3, text: '뛰어난 재능을 타고난 사람을 (      )라고 한다.', answer: '천재', initials: 'ㅊㅈ', aliases: ['천재'] },
        { no: 4, text: '전구를 발명한 미국의 발명가를 (      )라고 한다.', answer: '에디슨', initials: 'ㅇㄷㅅ', aliases: ['에디슨'] },
        { no: 5, text: '전기가 방향을 바꾸며 흐르는 것을 (      )라고 한다.', answer: '교류', initials: 'ㄱㄹ', aliases: ['교류'] },
        { no: 6, text: '전기가 한 방향으로만 흐르는 것을 (      )라고 한다.', answer: '직류', initials: 'ㅈㄹ', aliases: ['직류'] },
        { no: 7, text: '교류와 직류 중 어느 것이 더 나은지 다툰 경쟁을 (      )이라 한다.', answer: '전류 전쟁', initials: 'ㅈㄹㅈㅈ', aliases: ['전류 전쟁','전류전쟁'] },
        { no: 8, text: '교류 전기로 작동하는 모터를 (      )라고 한다.', answer: '교류 전동기', initials: 'ㄱㄹㅈㄷㄱ', aliases: ['교류 전동기','교류전동기'] },
        { no: 9, text: '전압을 높이거나 낮추는 장치를 (      )라고 한다.', answer: '변압기', initials: 'ㅂㅇㄱ', aliases: ['변압기'] },
        { no: 10, text: '테슬라의 교류 시스템을 상용화한 실업가를 (      )라고 한다.', answer: '웨스팅하우스', initials: 'ㅇㅅㅌㅎㅇㅅ', aliases: ['웨스팅하우스'] },
        { no: 11, text: '미국과 캐나다 국경의 거대한 폭포를 (      )라고 한다.', answer: '나이아가라 폭포', initials: 'ㄴㅇㅇㄱㄹㅍㅍ', aliases: ['나이아가라 폭포','나이아가라폭포'] },
        { no: 12, text: '물의 힘으로 전기를 만드는 곳을 (      )라고 한다.', answer: '수력 발전소', initials: 'ㅅㄹㅂㅈㅅ', aliases: ['수력 발전소','수력발전소'] },
        { no: 13, text: '전파로 소리를 보내고 받는 기계를 (      )라고 한다.', answer: '라디오', initials: 'ㄹㄷㅇ', aliases: ['라디오'] },
        { no: 14, text: '발명품을 보호하는 법적 권리를 (      )라고 한다.', answer: '특허', initials: 'ㅌㅎ', aliases: ['특허'] },
        { no: 15, text: '과학을 연구하는 사람을 (      )라고 한다.', answer: '과학자', initials: 'ㄱㅎㅈ', aliases: ['과학자'] }
      ]
    },"""

content = re.sub(unit40_old_vocabfill, unit40_new_vocabfill, content, flags=re.DOTALL)
print("Unit 40 vocabFill 확장 완료 (10개 -> 15개)")

# 파일 저장
with open(FILE_PATH, 'w', encoding='utf-8') as f:
    f.write(content)

print("\n✅ 모든 확장 작업 완료!")
print(f"백업 파일: {backup_path}")
print("\n수정된 유닛:")
print("- Unit 39 (갈릴레오): passage 4개 확장, vocab 15개, vocabFill 15개")
print("- Unit 40 (테슬라): passage 4개 확장, vocab 15개, vocabFill 15개")
