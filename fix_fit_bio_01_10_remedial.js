const fs = require('fs');
const path = require('path');

// fit_bio_01~10 단원별 보완학습 데이터 (실제 내용 기반)
const BIO_DATA = {
  '01': {
    title: '살아 있다는 건 뭘까?',
    problems: {
      literal: {
        title: "보완학습 | 핵심 이해력",
        problems: [
          { q: "스스로 양분을 얻고 번식하며 살아가는 존재를 무엇이라 하나요?", options: ["무생물", "생물", "광물", "화석"], answer: 1, explanation: "정답은 ②번. 살아 있으면서 생명 활동을 하는 것을 생물이라 합니다." },
          { q: "식물이 햇빛으로 양분을 만드는 과정을 무엇이라 하나요?", options: ["번식", "광합성", "섭취", "분해"], answer: 1, explanation: "정답은 ②번. 광합성은 식물이 햇빛과 물, 이산화탄소를 이용해 양분을 만드는 과정입니다." }
        ]
      },
      structural: {
        title: "보완학습 | 구조 파악력",
        problems: [
          { q: "이 글 2문단의 중심 내용으로 알맞은 것은?", options: ["생물과 무생물의 정의", "생물의 특징(영양분과 에너지)", "번식의 의미", "생물과 무생물의 관계"], answer: 1, explanation: "정답은 ②번. 2문단은 생물이 영양분을 얻고 에너지를 만들어 사용하는 특징을 설명합니다." },
          { q: "3문단에서 설명하는 생물의 특징은?", options: ["광합성", "번식", "호흡", "분해"], answer: 1, explanation: "정답은 ②번. 3문단은 생물이 자손을 만들어 종족을 이어 나가는 번식에 대해 설명합니다." }
        ]
      },
      lexical: {
        title: "보완학습 | 어휘 맥락력",
        problems: [
          { q: "'섭취'의 뜻으로 알맞은 것은?", options: ["버리다", "먹어서 몸에 받아들이다", "숨기다", "던지다"], answer: 1, explanation: "정답은 ②번. 섭취는 먹이나 영양분을 먹어서 몸에 받아들이는 것입니다." },
          { q: "'순환'과 비슷한 의미는?", options: ["한 번만 지나감", "한 바퀴 돌아 원래대로 돌아옴", "완전히 사라짐", "멈춰 있음"], answer: 1, explanation: "정답은 ②번. 순환은 한 바퀴 돌아 원래대로 돌아오는 과정입니다." }
        ]
      },
      inferential: {
        title: "보완학습 | 추론·통합력",
        problems: [
          { q: "죽은 생물이 분해되어 흙의 양분이 되는 것은 무엇의 예시인가요?", options: ["번식", "자연의 순환", "광합성", "섭취"], answer: 1, explanation: "정답은 ②번. 죽은 생물이 분해되어 양분이 되고 새로운 생명을 키우는 것은 자연의 순환입니다." },
          { q: "생물과 무생물의 관계에 대한 설명으로 알맞은 것은?", options: ["서로 영향을 주지 않는다", "끊임없이 영향을 주고받으며 연결되어 있다", "생물만 무생물에 영향을 준다", "무생물만 생물에 영향을 준다"], answer: 1, explanation: "정답은 ②번. 생물과 무생물은 자연 속에서 끊임없이 영향을 주고받으며 연결되어 있습니다." }
        ]
      },
      critical: {
        title: "보완학습 | 비판·적용력",
        problems: [
          { q: "자연을 보호하는 것이 중요한 이유로 알맞은 것은?", options: ["예쁘게 보이려고", "모든 생명을 지키는 일과 같기 때문에", "관광객을 위해", "사진 찍으려고"], answer: 1, explanation: "정답은 ②번. 생물과 무생물이 연결되어 있으므로 자연 보호는 모든 생명을 지키는 일입니다." },
          { q: "생물의 가장 특별한 능력으로 글에서 강조한 것은?", options: ["이동", "번식", "호흡", "수면"], answer: 1, explanation: "정답은 ②번. 글에서 번식 능력이야말로 생물만이 가진 가장 중요하고 특별한 능력이라고 했습니다." }
        ]
      }
    }
  },
  '02': {
    title: '왜 치타는 빠르고 나무늘보는 느릴까?',
    problems: {
      literal: {
        title: "보완학습 | 핵심 이해력",
        problems: [
          { q: "초식 동물의 장이 긴 이유는?", options: ["고기를 소화하려고", "식물 섬유를 천천히 분해하려고", "물을 많이 마시려고", "빨리 달리려고"], answer: 1, explanation: "정답은 ②번. 초식 동물은 질긴 식물 섬유를 천천히 분해해야 하므로 장이 매우 깁니다." },
          { q: "박쥐가 어두운 곳에서 장애물을 피하는 방법은?", options: ["뛰어난 시력", "초음파", "후각", "촉각"], answer: 1, explanation: "정답은 ②번. 박쥐는 초음파를 내보내고 되돌아오는 소리로 장애물의 위치를 알아냅니다." }
        ]
      },
      structural: {
        title: "보완학습 | 구조 파악력",
        problems: [
          { q: "2문단의 중심 내용으로 알맞은 것은?", options: ["동물의 이동 방식", "먹이에 따른 소화 기관 차이", "감각 기관의 발달", "번식 방법"], answer: 1, explanation: "정답은 ②번. 2문단은 먹는 음식에 따라 소화 기관이 다르게 발달했다고 설명합니다." },
          { q: "3문단에서 주로 설명하는 것은?", options: ["소화 기관", "감각 기관", "이동 방식", "번식"], answer: 1, explanation: "정답은 ②번. 3문단은 동물들의 감각 기관이 환경에 맞게 발달한 것을 설명합니다." }
        ]
      },
      lexical: {
        title: "보완학습 | 어휘 맥락력",
        problems: [
          { q: "'적응'의 뜻으로 알맞은 것은?", options: ["환경과 무관하게 살기", "환경에 맞게 몸이나 행동이 변하는 것", "항상 같은 상태 유지", "다른 곳으로 이동"], answer: 1, explanation: "정답은 ②번. 적응은 환경에 맞게 몸이나 행동이 변하는 것입니다." },
          { q: "'초음파'에 대한 설명으로 알맞은 것은?", options: ["사람의 귀로 들을 수 있다", "사람의 귀로 들을 수 없는 높은 음파", "빛의 일종이다", "냄새를 전달한다"], answer: 1, explanation: "정답은 ②번. 초음파는 사람의 귀로 들을 수 없는 높은 음파입니다." }
        ]
      },
      inferential: {
        title: "보완학습 | 추론·통합력",
        problems: [
          { q: "육식 동물의 장이 짧은 이유로 추론할 수 있는 것은?", options: ["식물을 오래 소화해야 해서", "단백질을 빠르게 소화해야 해서", "물을 저장해야 해서", "느리게 움직여서"], answer: 1, explanation: "정답은 ②번. 육식 동물은 단백질이 풍부한 먹이를 빠르게 소화해야 합니다." },
          { q: "잡식 동물의 소화 기관에 대해 추론할 수 있는 것은?", options: ["초식 동물과 같다", "육식 동물과 같다", "초식과 육식의 중간 특성을 가진다", "소화 기관이 없다"], answer: 2, explanation: "정답은 ③번. 잡식 동물은 다양한 먹이를 소화하도록 중간 정도의 소화 기관을 갖추고 있습니다." }
        ]
      },
      critical: {
        title: "보완학습 | 비판·적용력",
        problems: [
          { q: "동물의 다양한 몸과 생활 방식이 생긴 이유는?", options: ["우연히", "환경에 적응하기 위해", "사람이 만들어서", "색깔을 바꾸려고"], answer: 1, explanation: "정답은 ②번. 동물들은 환경에서 살아남기 위해 다양한 몸과 생활 방식을 갖추게 되었습니다." },
          { q: "글의 내용을 바탕으로 산호에 대해 알 수 있는 것은?", options: ["빠르게 달린다", "한 자리에서 물에 떠다니는 먹이를 잡아먹는다", "하늘을 난다", "초음파를 사용한다"], answer: 1, explanation: "정답은 ②번. 산호는 한 자리에 붙어서 물에 떠다니는 먹이를 붙잡아 먹습니다." }
        ]
      }
    }
  },
  '03': {
    title: '뼈 없이도 살 수 있어!',
    problems: {
      literal: {
        title: "보완학습 | 핵심 이해력",
        problems: [
          { q: "등뼈가 있는 동물을 무엇이라 하나요?", options: ["무척추동물", "척추동물", "절지동물", "연체동물"], answer: 1, explanation: "정답은 ②번. 등뼈가 있는 동물을 척추동물이라 합니다." },
          { q: "무척추동물의 특징으로 알맞은 것은?", options: ["등뼈가 있다", "등뼈가 없다", "모두 육지에 산다", "수가 매우 적다"], answer: 1, explanation: "정답은 ②번. 무척추동물은 등뼈가 없는 동물입니다." }
        ]
      },
      structural: {
        title: "보완학습 | 구조 파악력",
        problems: [
          { q: "2문단에서 설명하는 척추동물의 종류가 아닌 것은?", options: ["포유류", "조류", "곤충", "양서류"], answer: 2, explanation: "정답은 ③번. 곤충은 무척추동물이며, 2문단은 포유류, 조류, 파충류, 양서류를 설명합니다." },
          { q: "4문단의 중심 내용은?", options: ["척추동물의 종류", "어류의 특징", "무척추동물의 다양성", "포유류의 번식"], answer: 2, explanation: "정답은 ③번. 4문단은 무척추동물의 종류와 다양성을 설명합니다." }
        ]
      },
      lexical: {
        title: "보완학습 | 어휘 맥락력",
        problems: [
          { q: "'양서류'의 특징으로 알맞은 것은?", options: ["평생 물속에서만 산다", "물과 땅에서 모두 생활한다", "하늘을 난다", "털이 있다"], answer: 1, explanation: "정답은 ②번. 양서류는 물과 땅에서 모두 생활하는 동물입니다." },
          { q: "'절지동물'의 특징은?", options: ["부드러운 몸", "딱딱한 껍질과 마디 다리", "깃털과 날개", "털과 젖"], answer: 1, explanation: "정답은 ②번. 절지동물은 딱딱한 껍질과 마디로 나뉜 다리를 가진 동물입니다." }
        ]
      },
      inferential: {
        title: "보완학습 | 추론·통합력",
        problems: [
          { q: "무척추동물이 척추동물보다 많은 이유로 추론할 수 있는 것은?", options: ["등뼈가 있어서", "다양한 환경에 적응했기 때문에", "크기가 커서", "모두 바다에 살아서"], answer: 1, explanation: "정답은 ②번. 무척추동물은 다양한 환경에 적응하여 종류와 개체 수가 많습니다." },
          { q: "어류에 대해 추론할 수 있는 것은?", options: ["폐로 호흡한다", "아가미로 물속의 산소를 걸러 숨 쉰다", "알을 낳지 않는다", "육지에서 산다"], answer: 1, explanation: "정답은 ②번. 어류는 아가미로 물속에 녹아 있는 산소를 걸러내어 숨을 쉽니다." }
        ]
      },
      critical: {
        title: "보완학습 | 비판·적용력",
        problems: [
          { q: "동물 분류의 기본 기준으로 글에서 설명한 것은?", options: ["크기", "색깔", "등뼈의 유무", "먹이 종류"], answer: 2, explanation: "정답은 ③번. 글에서 동물 분류의 가장 기본 기준은 등뼈의 유무라고 설명합니다." },
          { q: "척추동물과 무척추동물의 공통점은?", options: ["등뼈가 있다", "같은 지구에서 살아가는 생명체", "모두 물에서 산다", "모두 알을 낳는다"], answer: 1, explanation: "정답은 ②번. 둘 다 같은 지구에서 함께 살아가는 소중한 생명체들입니다." }
        ]
      }
    }
  },
  '04': {
    title: '지구의 진짜 지배자, 곤충',
    problems: {
      literal: {
        title: "보완학습 | 핵심 이해력",
        problems: [
          { q: "곤충의 다리는 몇 개인가요?", options: ["4개", "6개", "8개", "10개"], answer: 1, explanation: "정답은 ②번. 곤충은 가슴 부분에서 세 쌍, 즉 여섯 개의 다리가 납니다." },
          { q: "곤충이 전체 동물 종에서 차지하는 비율은 약 얼마인가요?", options: ["30%", "50%", "70%", "90%"], answer: 2, explanation: "정답은 ③번. 곤충은 전체 동물 종의 약 70퍼센트를 차지합니다." }
        ]
      },
      structural: {
        title: "보완학습 | 구조 파악력",
        problems: [
          { q: "3문단의 중심 내용은?", options: ["곤충의 몸 구조", "곤충의 생태계 역할", "개미의 사회 구조", "곤충의 중요성"], answer: 1, explanation: "정답은 ②번. 3문단은 곤충이 생태계에서 분해자, 수분, 먹이 역할을 한다고 설명합니다." },
          { q: "1문단에서 설명하는 곤충의 감각 기관이 아닌 것은?", options: ["겹눈", "더듬이", "지느러미", "낱눈"], answer: 2, explanation: "정답은 ③번. 지느러미는 물고기의 기관이며, 곤충의 감각 기관은 겹눈과 더듬이입니다." }
        ]
      },
      lexical: {
        title: "보완학습 | 어휘 맥락력",
        problems: [
          { q: "'분해자'의 역할로 알맞은 것은?", options: ["꽃가루를 옮긴다", "죽은 생물을 분해한다", "먹이가 된다", "알을 낳는다"], answer: 1, explanation: "정답은 ②번. 분해자는 낙엽이나 죽은 동물의 사체를 분해하여 영양분 순환을 돕습니다." },
          { q: "'수분'의 의미로 알맞은 것은?", options: ["물을 마시는 것", "꽃가루가 암술에 닿는 과정", "숨을 쉬는 것", "먹이를 먹는 것"], answer: 1, explanation: "정답은 ②번. 수분은 꽃가루가 암술에 닿아 식물이 열매를 맺을 수 있게 하는 과정입니다." }
        ]
      },
      inferential: {
        title: "보완학습 | 추론·통합력",
        problems: [
          { q: "거미가 곤충이 아닌 이유는?", options: ["다리가 6개라서", "다리가 8개라서", "날개가 있어서", "더듬이가 없어서"], answer: 1, explanation: "정답은 ②번. 거미는 다리가 네 쌍(8개)이므로 곤충이 아니라 거미류입니다." },
          { q: "꿀벌이 사라지면 생기는 문제로 추론할 수 있는 것은?", options: ["흙이 비옥해진다", "식물이 열매를 맺지 못한다", "새가 많아진다", "공기가 깨끗해진다"], answer: 1, explanation: "정답은 ②번. 꿀벌이 꽃가루를 옮기므로, 사라지면 식물이 열매를 맺지 못합니다." }
        ]
      },
      critical: {
        title: "보완학습 | 비판·적용력",
        problems: [
          { q: "곤충을 보호해야 하는 이유로 알맞은 것은?", options: ["크기가 커서", "생태계 균형에 중요하기 때문에", "모두 예쁘기 때문에", "사람에게 해롭기 때문에"], answer: 1, explanation: "정답은 ②번. 곤충이 사라지면 생태계 전체의 균형이 무너지므로 보호해야 합니다." },
          { q: "글에서 강조하는 곤충에 대한 태도는?", options: ["무시해도 된다", "작은 곤충도 소중히 여겨야 한다", "모두 없애야 한다", "관심을 가질 필요 없다"], answer: 1, explanation: "정답은 ②번. 글에서 작은 곤충 한 마리도 소홀히 여기지 말라고 강조합니다." }
        ]
      }
    }
  },
  '05': {
    title: '애벌레는 어떻게 나비가 될까?',
    problems: {
      literal: {
        title: "보완학습 | 핵심 이해력",
        problems: [
          { q: "완전 탈바꿈의 순서로 알맞은 것은?", options: ["알→번데기→애벌레→어른벌레", "알→애벌레→번데기→어른벌레", "알→어른벌레→애벌레→번데기", "번데기→알→애벌레→어른벌레"], answer: 1, explanation: "정답은 ②번. 완전 탈바꿈은 알→애벌레→번데기→어른벌레 순서입니다." },
          { q: "매미가 하는 탈바꿈의 종류는?", options: ["완전 탈바꿈", "불완전 탈바꿈", "탈바꿈을 안 함", "부분 탈바꿈"], answer: 1, explanation: "정답은 ②번. 매미는 불완전 탈바꿈을 하는 곤충입니다." }
        ]
      },
      structural: {
        title: "보완학습 | 구조 파악력",
        problems: [
          { q: "3문단의 중심 내용은?", options: ["완전 탈바꿈 설명", "불완전 탈바꿈 설명", "매미 예시", "나비의 생태"], answer: 1, explanation: "정답은 ②번. 3문단은 불완전 탈바꿈을 하는 곤충들의 특징을 설명합니다." },
          { q: "2문단에서 설명하는 것은?", options: ["불완전 탈바꿈", "번데기 과정", "매미의 생활", "탈피"], answer: 1, explanation: "정답은 ②번. 2문단은 나비 애벌레가 고치를 만들고 번데기가 되는 과정을 설명합니다." }
        ]
      },
      lexical: {
        title: "보완학습 | 어휘 맥락력",
        problems: [
          { q: "'탈피'의 뜻으로 알맞은 것은?", options: ["알에서 깨어나는 것", "겉껍질을 벗는 과정", "번데기가 되는 것", "날개가 생기는 것"], answer: 1, explanation: "정답은 ②번. 탈피는 겉껍질을 벗는 과정입니다." },
          { q: "'성충'의 뜻은?", options: ["알에서 깨어난 어린 곤충", "다 자란 어른벌레", "번데기 상태", "고치 안의 곤충"], answer: 1, explanation: "정답은 ②번. 성충은 다 자란 어른벌레입니다." }
        ]
      },
      inferential: {
        title: "보완학습 | 추론·통합력",
        problems: [
          { q: "나비 애벌레가 열심히 먹는 이유로 추론할 수 있는 것은?", options: ["맛있어서", "번데기 때 필요한 영양분을 저장하려고", "빨리 죽으려고", "날개를 만들려고"], answer: 1, explanation: "정답은 ②번. 애벌레 시기에 충분한 영양분을 저장해야 번데기 단계를 거칠 수 있습니다." },
          { q: "매미가 여름에 시끄럽게 우는 이유로 추론할 수 있는 것은?", options: ["더워서", "짝을 찾아 자손을 남기려고", "배가 고파서", "무서워서"], answer: 1, explanation: "정답은 ②번. 매미는 짧은 성충 기간 동안 짝을 찾아 자손을 남기려고 웁니다." }
        ]
      },
      critical: {
        title: "보완학습 | 비판·적용력",
        problems: [
          { q: "잠자리와 메뚜기의 공통점은?", options: ["완전 탈바꿈을 한다", "불완전 탈바꿈을 한다", "번데기 단계가 있다", "고치를 만든다"], answer: 1, explanation: "정답은 ②번. 잠자리와 메뚜기 모두 불완전 탈바꿈을 합니다." },
          { q: "완전 탈바꿈과 불완전 탈바꿈의 가장 큰 차이점은?", options: ["알의 유무", "번데기 단계의 유무", "다리 개수", "날개 색깔"], answer: 1, explanation: "정답은 ②번. 완전 탈바꿈은 번데기 단계가 있고, 불완전 탈바꿈은 없습니다." }
        ]
      }
    }
  },
  '06': {
    title: '움직이지 않고 살아남는 법',
    problems: {
      literal: {
        title: "보완학습 | 핵심 이해력",
        problems: [
          { q: "뿌리의 역할로 알맞은 것은?", options: ["광합성", "물과 양분 흡수", "열매 맺기", "꽃 피우기"], answer: 1, explanation: "정답은 ②번. 뿌리는 땅속에서 물과 무기 양분을 흡수합니다." },
          { q: "물관의 역할은?", options: ["양분을 아래로 운반", "물을 위로 운반", "광합성", "기체 교환"], answer: 1, explanation: "정답은 ②번. 물관은 물과 무기 양분을 위로 올려 보냅니다." }
        ]
      },
      structural: {
        title: "보완학습 | 구조 파악력",
        problems: [
          { q: "이 글의 전개 순서로 알맞은 것은?", options: ["잎→줄기→뿌리→적응 사례", "뿌리→잎→줄기→적응 사례", "뿌리→줄기→잎→적응 사례", "줄기→뿌리→잎→적응 사례"], answer: 2, explanation: "정답은 ③번. 글은 뿌리→줄기→잎→다양한 적응 사례 순서로 전개됩니다." },
          { q: "3문단의 중심 내용은?", options: ["뿌리의 구조", "줄기의 역할", "잎의 기능(광합성)", "식물의 적응"], answer: 2, explanation: "정답은 ③번. 3문단은 잎이 광합성을 하여 양분을 만드는 것을 설명합니다." }
        ]
      },
      lexical: {
        title: "보완학습 | 어휘 맥락력",
        problems: [
          { q: "'기공'의 역할로 알맞은 것은?", options: ["물을 흡수한다", "이산화탄소와 산소를 교환한다", "양분을 저장한다", "꽃을 피운다"], answer: 1, explanation: "정답은 ②번. 기공은 잎의 작은 구멍으로 기체 교환을 담당합니다." },
          { q: "'증산 작용'의 뜻은?", options: ["물을 흡수하는 과정", "기공을 통해 수분이 증발하는 현상", "양분을 만드는 과정", "뿌리가 자라는 것"], answer: 1, explanation: "정답은 ②번. 증산 작용은 기공을 통해 수분이 증발하는 현상입니다." }
        ]
      },
      inferential: {
        title: "보완학습 | 추론·통합력",
        problems: [
          { q: "사막 식물의 잎이 가시로 변한 이유로 추론할 수 있는 것은?", options: ["더 예뻐 보이려고", "수분 손실을 줄이려고", "동물을 유인하려고", "더 빨리 자라려고"], answer: 1, explanation: "정답은 ②번. 사막 식물은 잎을 가시로 변화시켜 수분 손실을 줄입니다." },
          { q: "식충 식물이 곤충을 잡아먹는 이유로 추론할 수 있는 것은?", options: ["맛있어서", "영양분을 보충하려고", "재미있어서", "적을 물리치려고"], answer: 1, explanation: "정답은 ②번. 식충 식물은 영양분이 부족한 환경에서 곤충을 잡아먹어 영양분을 보충합니다." }
        ]
      },
      critical: {
        title: "보완학습 | 비판·적용력",
        problems: [
          { q: "식물의 다양한 모습이 생긴 이유는?", options: ["사람이 만들어서", "오랜 진화의 결과", "우연히", "모두 같은 모습이다"], answer: 1, explanation: "정답은 ②번. 다양한 식물의 모습은 오랜 진화의 결과입니다." },
          { q: "넓은 잎과 좁은 잎의 차이점으로 알맞은 것은?", options: ["둘 다 같은 역할", "넓은 잎은 햇빛을 많이 받고, 좁은 잎은 수분 손실을 줄인다", "좁은 잎이 더 크다", "넓은 잎은 물에서만 산다"], answer: 1, explanation: "정답은 ②번. 넓은 잎은 햇빛을 많이 받고, 좁은 잎은 수분 손실을 줄이는 데 유리합니다." }
        ]
      }
    }
  },
  '07': {
    title: '햇빛을 먹는 생물',
    problems: {
      literal: {
        title: "보완학습 | 핵심 이해력",
        problems: [
          { q: "광합성에 필요한 것이 아닌 것은?", options: ["햇빛", "물", "이산화탄소", "산소"], answer: 3, explanation: "정답은 ④번. 광합성에는 햇빛, 물, 이산화탄소가 필요하고, 산소는 광합성의 결과물입니다." },
          { q: "광합성이 일어나는 장소는?", options: ["뿌리", "줄기", "잎의 엽록체", "꽃"], answer: 2, explanation: "정답은 ③번. 광합성은 잎의 엽록체에서 일어납니다." }
        ]
      },
      structural: {
        title: "보완학습 | 구조 파악력",
        problems: [
          { q: "광합성의 결과물로 알맞은 것은?", options: ["이산화탄소와 물", "포도당과 산소", "물과 산소", "햇빛과 포도당"], answer: 1, explanation: "정답은 ②번. 광합성의 결과로 포도당(양분)과 산소가 만들어집니다." },
          { q: "식물이 광합성을 하는 이유는?", options: ["산소를 흡수하려고", "스스로 양분을 만들려고", "물을 배출하려고", "이산화탄소를 저장하려고"], answer: 1, explanation: "정답은 ②번. 식물은 광합성을 통해 스스로 살아가는 데 필요한 양분을 만듭니다." }
        ]
      },
      lexical: {
        title: "보완학습 | 어휘 맥락력",
        problems: [
          { q: "'엽록체'의 역할은?", options: ["물을 흡수한다", "광합성을 담당한다", "뿌리를 지탱한다", "꽃을 피운다"], answer: 1, explanation: "정답은 ②번. 엽록체는 광합성을 담당하는 세포 소기관입니다." },
          { q: "'엽록소'에 대한 설명으로 알맞은 것은?", options: ["빨간색 색소", "초록색 색소로 빛 에너지를 흡수", "갈색 색소", "무색 물질"], answer: 1, explanation: "정답은 ②번. 엽록소는 초록색 색소로 빛 에너지를 흡수합니다." }
        ]
      },
      inferential: {
        title: "보완학습 | 추론·통합력",
        problems: [
          { q: "식물이 없으면 지구에 어떤 영향이 있을지 추론할 수 있는 것은?", options: ["산소가 더 많아진다", "산소가 줄어들고 이산화탄소가 늘어난다", "아무 변화 없다", "물이 많아진다"], answer: 1, explanation: "정답은 ②번. 식물이 광합성으로 산소를 만들어내므로, 없으면 산소가 줄어듭니다." },
          { q: "광합성과 호흡의 관계로 추론할 수 있는 것은?", options: ["서로 관계없다", "광합성으로 만든 산소를 동물이 호흡에 사용한다", "호흡이 광합성보다 중요하다", "둘 다 같은 과정이다"], answer: 1, explanation: "정답은 ②번. 광합성으로 만든 산소를 동물이 호흡에 사용합니다." }
        ]
      },
      critical: {
        title: "보완학습 | 비판·적용력",
        problems: [
          { q: "광합성이 중요한 이유로 알맞은 것은?", options: ["식물에게만 중요하다", "지구의 모든 생명체에게 필요한 산소와 양분을 만든다", "아름다운 꽃을 피우기 위해", "물을 저장하기 위해"], answer: 1, explanation: "정답은 ②번. 광합성은 지구의 모든 생명체에게 필요한 산소와 양분을 만듭니다." },
          { q: "식물을 '녹색 공장'이라고 부르는 이유는?", options: ["건물처럼 생겨서", "햇빛을 이용해 양분을 만들어내기 때문에", "기계를 사용해서", "물건을 판매해서"], answer: 1, explanation: "정답은 ②번. 식물은 햇빛을 이용해 양분을 만들어내므로 녹색 공장이라 부릅니다." }
        ]
      }
    }
  },
  '08': {
    title: '모든 생명은 여기서 시작됐다',
    problems: {
      literal: {
        title: "보완학습 | 핵심 이해력",
        problems: [
          { q: "생명의 기본 단위는 무엇인가요?", options: ["조직", "기관", "세포", "개체"], answer: 2, explanation: "정답은 ③번. 세포는 생명의 기본 단위입니다." },
          { q: "세포의 중심에서 유전 정보를 가진 부분은?", options: ["세포막", "세포질", "핵", "엽록체"], answer: 2, explanation: "정답은 ③번. 핵은 세포의 중심에서 유전 정보를 담고 있습니다." }
        ]
      },
      structural: {
        title: "보완학습 | 구조 파악력",
        problems: [
          { q: "동물 세포와 식물 세포의 차이점은?", options: ["둘 다 같다", "식물 세포에만 세포벽과 엽록체가 있다", "동물 세포에만 핵이 있다", "식물 세포에는 세포막이 없다"], answer: 1, explanation: "정답은 ②번. 식물 세포에만 세포벽과 엽록체가 있습니다." },
          { q: "세포막의 역할은?", options: ["유전 정보 저장", "세포를 둘러싸고 보호", "광합성", "에너지 생산"], answer: 1, explanation: "정답은 ②번. 세포막은 세포를 둘러싸고 보호하며 물질 출입을 조절합니다." }
        ]
      },
      lexical: {
        title: "보완학습 | 어휘 맥락력",
        problems: [
          { q: "'미토콘드리아'의 역할은?", options: ["유전 정보 저장", "에너지 생산", "광합성", "세포 보호"], answer: 1, explanation: "정답은 ②번. 미토콘드리아는 세포의 에너지를 생산하는 '발전소' 역할을 합니다." },
          { q: "'세포질'에 대한 설명으로 알맞은 것은?", options: ["세포의 가장 바깥 부분", "세포 내 여러 소기관이 있는 젤리 같은 물질", "유전 정보가 있는 곳", "세포벽의 다른 이름"], answer: 1, explanation: "정답은 ②번. 세포질은 세포 내 여러 소기관이 있는 젤리 같은 물질입니다." }
        ]
      },
      inferential: {
        title: "보완학습 | 추론·통합력",
        problems: [
          { q: "세포가 모여 조직이 되고, 조직이 모여 무엇이 되나요?", options: ["세포", "기관", "개체", "분자"], answer: 1, explanation: "정답은 ②번. 세포→조직→기관→개체 순서로 생명체가 구성됩니다." },
          { q: "모든 생명체가 세포로 이루어진 이유로 추론할 수 있는 것은?", options: ["우연히", "세포가 생명 활동의 기본 단위이기 때문에", "세포가 크기 때문에", "세포가 눈에 보이기 때문에"], answer: 1, explanation: "정답은 ②번. 세포는 생명 활동의 기본 단위이므로 모든 생명체가 세포로 이루어져 있습니다." }
        ]
      },
      critical: {
        title: "보완학습 | 비판·적용력",
        problems: [
          { q: "세포를 발견한 도구는?", options: ["망원경", "현미경", "돋보기", "안경"], answer: 1, explanation: "정답은 ②번. 세포는 현미경을 통해 발견되었습니다." },
          { q: "단세포 생물과 다세포 생물의 차이점은?", options: ["둘 다 같다", "단세포 생물은 세포 하나로, 다세포 생물은 여러 세포로 이루어져 있다", "다세포 생물에는 핵이 없다", "단세포 생물이 더 크다"], answer: 1, explanation: "정답은 ②번. 단세포 생물은 세포 하나로, 다세포 생물은 여러 세포로 이루어져 있습니다." }
        ]
      }
    }
  },
  '09': {
    title: '세포가 자신을 복사하는 방법',
    problems: {
      literal: {
        title: "보완학습 | 핵심 이해력",
        problems: [
          { q: "세포 분열의 목적으로 알맞은 것은?", options: ["세포를 죽이려고", "세포 수를 늘려 성장하고 손상된 부분을 복구하려고", "세포를 작게 만들려고", "핵을 없애려고"], answer: 1, explanation: "정답은 ②번. 세포 분열은 세포 수를 늘려 성장하고 손상된 부분을 복구합니다." },
          { q: "세포 분열 전에 먼저 복제되는 것은?", options: ["세포막", "세포질", "DNA(유전 정보)", "미토콘드리아"], answer: 2, explanation: "정답은 ③번. 세포 분열 전에 DNA가 먼저 복제됩니다." }
        ]
      },
      structural: {
        title: "보완학습 | 구조 파악력",
        problems: [
          { q: "세포 분열의 순서로 알맞은 것은?", options: ["핵 분열→DNA 복제→세포질 분열", "DNA 복제→핵 분열→세포질 분열", "세포질 분열→DNA 복제→핵 분열", "DNA 복제→세포질 분열→핵 분열"], answer: 1, explanation: "정답은 ②번. DNA 복제→핵 분열→세포질 분열 순서로 진행됩니다." },
          { q: "세포 분열 결과 만들어지는 세포의 수는?", options: ["하나", "둘", "셋", "넷"], answer: 1, explanation: "정답은 ②번. 하나의 세포가 분열하면 두 개의 세포가 됩니다." }
        ]
      },
      lexical: {
        title: "보완학습 | 어휘 맥락력",
        problems: [
          { q: "'염색체'에 대한 설명으로 알맞은 것은?", options: ["색을 나타내는 물질", "DNA가 뭉쳐진 구조물", "세포의 에너지원", "세포막의 일부"], answer: 1, explanation: "정답은 ②번. 염색체는 DNA가 뭉쳐진 구조물입니다." },
          { q: "'복제'의 뜻으로 알맞은 것은?", options: ["없애는 것", "똑같이 만드는 것", "합치는 것", "나누는 것"], answer: 1, explanation: "정답은 ②번. 복제는 똑같이 만드는 것입니다." }
        ]
      },
      inferential: {
        title: "보완학습 | 추론·통합력",
        problems: [
          { q: "상처가 아물 때 일어나는 현상으로 추론할 수 있는 것은?", options: ["세포가 죽는다", "세포 분열로 새 세포가 만들어진다", "세포가 사라진다", "아무 일도 일어나지 않는다"], answer: 1, explanation: "정답은 ②번. 상처가 아물 때 세포 분열로 새 세포가 만들어집니다." },
          { q: "DNA가 정확히 복제되어야 하는 이유로 추론할 수 있는 것은?", options: ["예쁘게 보이려고", "유전 정보를 정확히 전달하려고", "크기를 키우려고", "색깔을 바꾸려고"], answer: 1, explanation: "정답은 ②번. DNA가 정확히 복제되어야 유전 정보가 정확히 전달됩니다." }
        ]
      },
      critical: {
        title: "보완학습 | 비판·적용력",
        problems: [
          { q: "세포 분열이 중요한 이유로 알맞은 것은?", options: ["에너지를 낭비하기 위해", "생명체의 성장과 유지에 필수적이기 때문에", "세포를 없애기 위해", "DNA를 파괴하기 위해"], answer: 1, explanation: "정답은 ②번. 세포 분열은 생명체의 성장과 유지에 필수적입니다." },
          { q: "암세포의 특징으로 알맞은 것은?", options: ["세포 분열을 하지 않는다", "세포 분열이 조절되지 않아 비정상적으로 증식한다", "DNA가 없다", "핵이 없다"], answer: 1, explanation: "정답은 ②번. 암세포는 세포 분열이 조절되지 않아 비정상적으로 증식합니다." }
        ]
      }
    }
  },
  '10': {
    title: '피자 한 조각의 대모험',
    problems: {
      literal: {
        title: "보완학습 | 핵심 이해력",
        problems: [
          { q: "소화의 시작이 일어나는 곳은?", options: ["위", "입", "소장", "대장"], answer: 1, explanation: "정답은 ②번. 소화는 입에서 시작되며 이로 음식을 씹고 침으로 분해가 시작됩니다." },
          { q: "영양분 흡수가 주로 일어나는 곳은?", options: ["입", "위", "소장", "대장"], answer: 2, explanation: "정답은 ③번. 소장에서 영양분 흡수가 주로 일어납니다." }
        ]
      },
      structural: {
        title: "보완학습 | 구조 파악력",
        problems: [
          { q: "소화 기관의 순서로 알맞은 것은?", options: ["입→위→소장→대장", "위→입→대장→소장", "소장→입→위→대장", "대장→소장→위→입"], answer: 0, explanation: "정답은 ①번. 음식은 입→위→소장→대장 순서로 이동합니다." },
          { q: "위의 역할로 알맞은 것은?", options: ["영양분 흡수", "음식을 저장하고 위산으로 분해", "수분 흡수", "찌꺼기 배출"], answer: 1, explanation: "정답은 ②번. 위는 음식을 저장하고 위산으로 분해합니다." }
        ]
      },
      lexical: {
        title: "보완학습 | 어휘 맥락력",
        problems: [
          { q: "'소화 효소'의 역할은?", options: ["음식을 크게 만든다", "음식을 작은 영양분으로 분해한다", "음식을 저장한다", "음식을 배출한다"], answer: 1, explanation: "정답은 ②번. 소화 효소는 음식을 작은 영양분으로 분해합니다." },
          { q: "'융털'에 대한 설명으로 알맞은 것은?", options: ["위에 있는 주름", "소장 안쪽의 작은 돌기로 흡수 면적을 넓힘", "대장의 세균", "입안의 침샘"], answer: 1, explanation: "정답은 ②번. 융털은 소장 안쪽의 작은 돌기로 흡수 면적을 넓힙니다." }
        ]
      },
      inferential: {
        title: "보완학습 | 추론·통합력",
        problems: [
          { q: "소장이 길고 융털이 있는 이유로 추론할 수 있는 것은?", options: ["음식을 저장하려고", "영양분을 최대한 많이 흡수하려고", "음식을 빨리 배출하려고", "위산을 만들려고"], answer: 1, explanation: "정답은 ②번. 소장이 길고 융털이 있어 영양분을 최대한 많이 흡수할 수 있습니다." },
          { q: "침에 포함된 소화 효소가 분해하는 영양소는?", options: ["단백질", "탄수화물(녹말)", "지방", "비타민"], answer: 1, explanation: "정답은 ②번. 침의 아밀라아제는 탄수화물(녹말)을 분해합니다." }
        ]
      },
      critical: {
        title: "보완학습 | 비판·적용력",
        problems: [
          { q: "음식을 잘 씹어 먹어야 하는 이유로 알맞은 것은?", options: ["맛이 없어서", "소화가 잘 되도록 하기 위해", "빨리 먹으려고", "소리를 내려고"], answer: 1, explanation: "정답은 ②번. 음식을 잘 씹으면 작은 조각이 되어 소화가 잘 됩니다." },
          { q: "대장의 역할로 알맞은 것은?", options: ["영양분 흡수", "음식 분해", "수분 흡수와 찌꺼기 배출 준비", "침 분비"], answer: 2, explanation: "정답은 ③번. 대장은 수분을 흡수하고 찌꺼기를 배출할 준비를 합니다." }
        ]
      }
    }
  }
};

// learning-common.js 로드 전에 window.REMEDIAL_BANK 삽입
const learningCommonPattern = /<script src="\/assets\/js\/learning-common\.js[^"]*"><\/script>/;

for (let i = 1; i <= 10; i++) {
  const num = String(i).padStart(2, '0');
  const filePath = path.join(__dirname, 'public', 'BRAINUP', 'science', `fit_bio_${num}.html`);

  if (!fs.existsSync(filePath)) {
    console.log(`[SKIP] ${filePath} 파일 없음`);
    continue;
  }

  let content = fs.readFileSync(filePath, 'utf8');
  const bioData = BIO_DATA[num];

  if (!bioData) {
    console.log(`[SKIP] fit_bio_${num} 데이터 없음`);
    continue;
  }

  // 이미 window.REMEDIAL_BANK가 learning-common.js 전에 있는지 확인
  const hasWindowRemedial = /<!-- ✅ 보완학습 데이터[\s\S]*?window\.REMEDIAL_BANK[\s\S]*?<\/script>\s*<script src="\/assets\/js\/learning-common\.js/.test(content);

  if (hasWindowRemedial) {
    console.log(`[SKIP] fit_bio_${num} 이미 window.REMEDIAL_BANK 설정됨`);
    continue;
  }

  const match = content.match(learningCommonPattern);
  if (!match) {
    console.log(`[SKIP] fit_bio_${num} learning-common.js 패턴 없음`);
    continue;
  }

  // REMEDIAL_BANK 스크립트 생성
  const remedialScript = `<!-- ✅ 보완학습 데이터 (learning-common.js 로드 전에 정의) -->
<script>
window.REMEDIAL_BANK = ${JSON.stringify(bioData.problems, null, 2)};
</script>

${match[0]}`;

  content = content.replace(learningCommonPattern, remedialScript);
  fs.writeFileSync(filePath, content, 'utf8');
  console.log(`[OK] fit_bio_${num} (${bioData.title}) REMEDIAL_BANK 삽입 완료`);
}

console.log('\n✅ fit_bio_01~10 보완학습 데이터 삽입 완료!');
