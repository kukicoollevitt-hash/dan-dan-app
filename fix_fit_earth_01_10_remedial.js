const fs = require('fs');
const path = require('path');

// fit_earth_01~10 보완학습 데이터 (fit_earth_content.js 기반)
const EARTH_DATA = {
  fit_earth_01: {
    title: '46억 살 지구의 탄생 비밀',
    problems: {
      literal: {
        title: '핵심 이해력',
        problems: [
          { q: '지구의 핵은 어떤 성분으로 이루어져 있나요?', options: ['가벼운 암석', '무거운 철과 니켈', '가스와 먼지', '물과 수증기'], answer: 1, explanation: '지구의 핵은 무거운 철과 니켈 성분으로 이루어져 있습니다.' },
          { q: '원시 지구의 표면은 어떤 상태였나요?', options: ['차가운 얼음', '마그마의 바다', '푸른 바다', '녹색 숲'], answer: 1, explanation: '원시 지구의 표면은 마그마의 바다로 뒤덮여 있었습니다.' },
          { q: '지구의 가장 바깥 부분을 무엇이라 하나요?', options: ['핵', '맨틀', '지각', '마그마'], answer: 2, explanation: '지각은 지구의 가장 바깥 부분으로 단단한 암석층입니다.' },
          { q: '행성이 되기 전 단계의 암석 덩어리를 무엇이라 하나요?', options: ['소행성', '미행성', '혜성', '위성'], answer: 1, explanation: '미행성은 행성이 되기 전 단계의 커다란 암석 덩어리입니다.' }
        ]
      },
      structural: {
        title: '구조 파악력',
        problems: [
          { q: '1문단의 주요 내용은?', options: ['지구 내부 구조', '가스와 먼지의 형성', '지각과 바다 형성', '미행성 충돌'], answer: 1, explanation: '1문단은 가스와 먼지가 모여 원반을 형성하는 과정을 설명합니다.' },
          { q: '3문단에서 설명하는 것은?', options: ['바다의 형성', '지구 내부 구조 형성', '가스의 특성', '생명체 탄생'], answer: 1, explanation: '3문단은 핵과 맨틀 등 지구 내부 구조 형성을 설명합니다.' },
          { q: '글의 시간 순서로 올바른 것은?', options: ['지각→마그마→핵', '가스→미행성→원시지구→지각', '바다→지각→핵', '생명체→바다→지각'], answer: 1, explanation: '가스와 먼지가 모여 미행성이 되고, 원시 지구, 지각 순으로 형성되었습니다.' }
        ]
      },
      lexical: {
        title: '어휘 맥락력',
        problems: [
          { q: '\'마그마\'의 의미는?', options: ['차가운 얼음', '뜨거운 열로 녹아 있는 암석', '굳어진 바위', '물에 녹은 광물'], answer: 1, explanation: '마그마는 지구 내부의 뜨거운 열 때문에 녹아 있는 암석입니다.' },
          { q: '\'중력\'의 역할은?', options: ['물체를 밀어냄', '물체를 끌어당김', '물체를 회전시킴', '물체를 녹임'], answer: 1, explanation: '중력은 물체를 끌어당기는 힘입니다.' },
          { q: '\'냉각\'이란?', options: ['온도가 올라감', '온도가 내려감', '부피가 커짐', '색이 변함'], answer: 1, explanation: '냉각은 온도가 내려가면서 식는 과정입니다.' }
        ]
      },
      inferential: {
        title: '추론·통합력',
        problems: [
          { q: '마그마가 식지 않았다면?', options: ['지각이 형성됨', '바다가 생김', '지각이 형성되지 않음', '생명체가 먼저 등장함'], answer: 2, explanation: '마그마가 식어야 지각이 형성되므로, 식지 않으면 지각이 형성되지 않습니다.' },
          { q: '지구에 바다가 생긴 이유는?', options: ['마그마가 뜨거워서', '지각이 형성되고 수증기가 비가 되어서', '핵이 녹아서', '먼지가 모여서'], answer: 1, explanation: '지각이 형성된 후 수증기가 비가 되어 바다가 만들어졌습니다.' }
        ]
      },
      critical: {
        title: '비판·적용력',
        problems: [
          { q: '지구 탄생 과정 연구의 중요성은?', options: ['별 관계없음', '지구와 우주의 역사를 이해하는 데 도움', '농사에 필요', '날씨 예보에 필요'], answer: 1, explanation: '지구 탄생 과정 연구는 지구와 우주의 역사를 이해하는 데 중요합니다.' },
          { q: '지구 내부 구조를 아는 것이 중요한 이유는?', options: ['요리에 필요', '지진과 화산 등 자연현상 이해', '패션에 필요', '음악에 필요'], answer: 1, explanation: '지구 내부 구조를 알면 지진, 화산 등 자연현상을 이해할 수 있습니다.' }
        ]
      }
    }
  },
  fit_earth_02: {
    title: '펄펄 끓는 지구 속 용암 여행',
    problems: {
      literal: {
        title: '핵심 이해력',
        problems: [
          { q: '마그마가 한곳에 모이면 무엇이 높아지나요?', options: ['온도만', '압력', '습도', '밝기'], answer: 1, explanation: '마그마가 한곳에 모이면 압력이 높아집니다.' },
          { q: '화산 토양의 특징은?', options: ['농작물이 자라기 어려움', '매우 비옥함', '건조함', '암석뿐임'], answer: 1, explanation: '화산 물질이 쌓인 토양은 매우 비옥해서 농작물이 잘 자랍니다.' },
          { q: '지열 발전소는 무엇을 이용해 전기를 만드나요?', options: ['바람', '물', '땅속의 열', '태양빛'], answer: 2, explanation: '지열 발전소는 땅속의 열을 이용해 전기를 만듭니다.' },
          { q: '지표면 위로 나온 뜨거운 마그마를 무엇이라 하나요?', options: ['화산재', '용암', '연기', '먼지'], answer: 1, explanation: '용암은 지표면 위로 나온 뜨거운 마그마입니다.' }
        ]
      },
      structural: {
        title: '구조 파악력',
        problems: [
          { q: '1문단의 주요 내용은?', options: ['화산의 혜택', '마그마와 화산 폭발 원리', '화산 지형 활용', '온천의 효능'], answer: 1, explanation: '1문단은 마그마와 화산 폭발의 원리를 설명합니다.' },
          { q: '3문단에서 설명하는 화산의 혜택이 아닌 것은?', options: ['비옥한 토양', '온천', '건물 파괴', '광물질'], answer: 2, explanation: '건물 파괴는 화산의 피해이며, 3문단은 혜택을 설명합니다.' },
          { q: '글 전체 흐름으로 적절한 것은?', options: ['폭발 원리→피해→혜택→활용', '혜택→폭발→피해→활용', '활용→피해→혜택→폭발', '피해→활용→폭발→혜택'], answer: 0, explanation: '글은 폭발 원리→피해와 회복→혜택→활용 순으로 전개됩니다.' }
        ]
      },
      lexical: {
        title: '어휘 맥락력',
        problems: [
          { q: '\'압력\'의 의미는?', options: ['끌어당기는 힘', '한 곳에 집중되어 밀어내는 힘', '회전하는 힘', '녹이는 힘'], answer: 1, explanation: '압력은 한 곳에 집중되어 밀어내는 힘입니다.' },
          { q: '\'폭발\'이란?', options: ['천천히 나오는 것', '갑자기 세게 터져 나오는 것', '조용히 스며드는 것', '식는 것'], answer: 1, explanation: '폭발은 갑자기 세게 터져 나오는 현상입니다.' },
          { q: '\'화석연료\'란?', options: ['화산에서 나오는 연료', '석유, 석탄처럼 오래 묻혀 만들어진 연료', '물로 만든 연료', '바람으로 만든 연료'], answer: 1, explanation: '화석연료는 석유, 석탄처럼 오랜 시간 묻혀 만들어진 연료입니다.' }
        ]
      },
      inferential: {
        title: '추론·통합력',
        problems: [
          { q: '화산 활동이 없는 지역에서는?', options: ['온천이 많음', '온천이 만들어지기 어려움', '농사가 안 됨', '바다가 없음'], answer: 1, explanation: '화산 활동이 없으면 땅속 열이 전달되지 않아 온천이 만들어지기 어렵습니다.' },
          { q: '지열 발전이 친환경인 이유는?', options: ['화석연료 사용', '화석연료를 사용하지 않음', '물을 많이 사용', '공기를 오염시킴'], answer: 1, explanation: '지열 발전은 화석연료를 사용하지 않는 친환경 에너지입니다.' }
        ]
      },
      critical: {
        title: '비판·적용력',
        problems: [
          { q: '화산 근처에서 농사를 짓는 이유는?', options: ['위험해서', '토양이 비옥해서', '바람이 없어서', '물이 많아서'], answer: 1, explanation: '화산 토양은 비옥해서 농작물이 잘 자라기 때문입니다.' },
          { q: '화산 활동을 연구하는 이유는?', options: ['관광 때문만', '피해 예방과 지구 이해', '돈벌이', '취미 활동'], answer: 1, explanation: '화산 활동 연구는 피해 예방과 지구 내부 이해에 중요합니다.' }
        ]
      }
    }
  },
  fit_earth_03: {
    title: '세 가지 얼굴을 가진 암석',
    problems: {
      literal: {
        title: '핵심 이해력',
        problems: [
          { q: '마그마가 식어서 굳어진 암석은?', options: ['퇴적암', '변성암', '화성암', '석회암'], answer: 2, explanation: '화성암은 마그마가 식어서 굳어진 암석입니다.' },
          { q: '퇴적암의 층에서 발견되는 것은?', options: ['마그마', '화석', '용암', '금속'], answer: 1, explanation: '퇴적암의 층 사이에서 화석이 발견됩니다.' },
          { q: '석회암이 열과 압력을 받으면 무엇이 되나요?', options: ['화강암', '사암', '대리암', '현무암'], answer: 2, explanation: '석회암이 열과 압력을 받으면 대리암이 됩니다.' },
          { q: '땅속 깊은 곳에서 마그마가 천천히 식으면?', options: ['화산암', '심성암', '퇴적암', '변성암'], answer: 1, explanation: '심성암은 땅속 깊은 곳에서 마그마가 천천히 식어 만들어집니다.' }
        ]
      },
      structural: {
        title: '구조 파악력',
        problems: [
          { q: '1문단의 주요 내용은?', options: ['화성암 설명', '암석의 세 가지 분류', '변성암 설명', '퇴적암 설명'], answer: 1, explanation: '1문단은 암석을 화성암, 퇴적암, 변성암 세 가지로 분류합니다.' },
          { q: '2문단에서 설명하는 암석은?', options: ['퇴적암', '변성암', '화성암', '대리암'], answer: 2, explanation: '2문단은 화성암(심성암, 화산암)을 설명합니다.' },
          { q: '글의 전개 순서는?', options: ['분류→화성암→퇴적암→변성암', '화성암→분류→퇴적암→변성암', '변성암→퇴적암→화성암→분류', '퇴적암→변성암→화성암→분류'], answer: 0, explanation: '글은 분류 소개→화성암→퇴적암→변성암 순으로 설명합니다.' }
        ]
      },
      lexical: {
        title: '어휘 맥락력',
        problems: [
          { q: '\'퇴적암\'이란?', options: ['마그마가 굳은 것', '흙, 모래가 쌓여 굳은 암석', '열과 압력으로 변한 것', '금속으로 된 암석'], answer: 1, explanation: '퇴적암은 흙, 모래, 자갈 등이 쌓여 굳어진 암석입니다.' },
          { q: '\'화석\'이란?', options: ['뜨거운 돌', '옛날 생물의 흔적이 암석에 남은 것', '금속 덩어리', '마그마의 조각'], answer: 1, explanation: '화석은 옛날 생물의 흔적이 암석 속에 남은 것입니다.' },
          { q: '\'변성암\'의 형성 조건은?', options: ['물에 녹음', '높은 열과 압력', '바람에 깎임', '빠른 냉각'], answer: 1, explanation: '변성암은 기존 암석이 높은 열과 압력을 받아 형성됩니다.' }
        ]
      },
      inferential: {
        title: '추론·통합력',
        problems: [
          { q: '열과 압력이 없다면 변성암은?', options: ['더 많이 생김', '만들어지기 어려움', '색이 변함', '더 부드러워짐'], answer: 1, explanation: '열과 압력이 없으면 암석의 성질 변화가 없어 변성암이 만들어지기 어렵습니다.' },
          { q: '화강암이 건축에 많이 쓰이는 이유는?', options: ['부드러워서', '단단하고 무늬가 아름다워서', '녹기 쉬워서', '가벼워서'], answer: 1, explanation: '화강암은 단단하고 무늬가 아름다워 건축에 많이 사용됩니다.' }
        ]
      },
      critical: {
        title: '비판·적용력',
        problems: [
          { q: '암석의 종류를 아는 것이 중요한 이유는?', options: ['장식용만', '지역의 과거 환경을 알 수 있음', '요리에 필요', '옷 만들기에 필요'], answer: 1, explanation: '암석의 종류를 알면 그 지역에서 과거에 어떤 일이 있었는지 알 수 있습니다.' },
          { q: '제주도 돌담이 검은 이유는?', options: ['페인트 때문', '현무암(화산암)으로 만들어서', '오래되어서', '습기 때문'], answer: 1, explanation: '제주도 돌담은 화산 활동으로 만들어진 검은 현무암으로 만들어졌습니다.' }
        ]
      }
    }
  },
  fit_earth_04: {
    title: '바위가 모래가 되는 마법',
    problems: {
      literal: {
        title: '핵심 이해력',
        problems: [
          { q: '암석이 자연의 힘으로 잘게 부서지는 과정은?', options: ['퇴적 작용', '풍화 작용', '화산 폭발', '지진'], answer: 1, explanation: '풍화 작용은 암석이 자연의 힘으로 잘게 부서지는 과정입니다.' },
          { q: '온도가 올라가면 물질의 부피는?', options: ['작아짐', '커짐(팽창)', '변하지 않음', '사라짐'], answer: 1, explanation: '팽창은 온도가 올라가면서 물질의 부피가 커지는 현상입니다.' },
          { q: '식물 뿌리가 바위 틈에서 자라면?', options: ['바위가 더 단단해짐', '바위가 깨질 수 있음', '바위가 녹음', '바위가 떠오름'], answer: 1, explanation: '뿌리가 점점 굵어지면서 틈을 벌려 바위를 깨뜨릴 수 있습니다.' },
          { q: '산소와 이산화탄소가 암석과 반응하면?', options: ['암석이 더 단단해짐', '암석이 약해지거나 녹음', '암석이 커짐', '암석이 떠오름'], answer: 1, explanation: '화학적 풍화로 암석이 약해지거나 녹을 수 있습니다.' }
        ]
      },
      structural: {
        title: '구조 파악력',
        problems: [
          { q: '1문단에서 설명하는 풍화의 원인은?', options: ['생물', '화학 반응', '온도 변화', '바람'], answer: 2, explanation: '1문단은 온도 변화에 의한 풍화(팽창·수축)를 설명합니다.' },
          { q: '3문단에서 설명하는 것은?', options: ['물리적 풍화', '화학적 풍화', '흙의 형성', '생물에 의한 풍화'], answer: 1, explanation: '3문단은 산소와 이산화탄소에 의한 화학적 풍화를 설명합니다.' },
          { q: '글의 마지막 문단에서 강조하는 것은?', options: ['풍화의 종류', '흙의 소중함', '암석의 크기', '온도의 변화'], answer: 1, explanation: '마지막 문단은 오랜 시간 자연이 빚어낸 흙의 소중함을 강조합니다.' }
        ]
      },
      lexical: {
        title: '어휘 맥락력',
        problems: [
          { q: '\'수축\'이란?', options: ['부피가 커짐', '온도가 내려가며 부피가 작아짐', '색이 변함', '녹는 것'], answer: 1, explanation: '수축은 온도가 내려가면서 물질의 부피가 작아지는 현상입니다.' },
          { q: '\'상류\'와 \'하류\'의 차이는?', options: ['깊이 차이', '강에서 위쪽과 아래쪽', '온도 차이', '색깔 차이'], answer: 1, explanation: '상류는 강의 위쪽, 하류는 강의 아래쪽입니다.' },
          { q: '\'유기물\'이란?', options: ['금속', '생물의 몸에서 나온 탄소 포함 물질', '암석', '가스'], answer: 1, explanation: '유기물은 생물의 몸에서 나온 탄소를 포함한 물질입니다.' }
        ]
      },
      inferential: {
        title: '추론·통합력',
        problems: [
          { q: '낮과 밤의 온도 차이가 크면?', options: ['풍화가 느려짐', '풍화가 빨라짐', '암석이 더 단단해짐', '변화 없음'], answer: 1, explanation: '온도 차이가 크면 팽창과 수축이 심해져 풍화가 빨라집니다.' },
          { q: '흙에 유기물이 중요한 이유는?', options: ['색이 예뻐서', '식물에 영양분을 제공해서', '무거워서', '빛나서'], answer: 1, explanation: '유기물은 식물이 자라는 데 필요한 영양분을 제공합니다.' }
        ]
      },
      critical: {
        title: '비판·적용력',
        problems: [
          { q: '흙이 소중한 이유는?', options: ['쉽게 만들어져서', '수천 년 자연 변화의 결과이며 생명의 터전', '색이 예뻐서', '무거워서'], answer: 1, explanation: '흙은 오랜 시간 자연이 빚어낸 소중한 작품이며 생명의 터전입니다.' },
          { q: '사막에서 바위가 잘 부서지는 이유는?', options: ['비가 많아서', '낮과 밤의 온도 차이가 커서', '식물이 많아서', '물이 많아서'], answer: 1, explanation: '사막은 낮과 밤의 온도 차이가 커서 풍화가 활발합니다.' }
        ]
      }
    }
  },
  fit_earth_05: {
    title: '물방울이 만든 거대한 협곡',
    problems: {
      literal: {
        title: '핵심 이해력',
        problems: [
          { q: '물이 땅이나 암석을 깎아 내리는 과정은?', options: ['퇴적', '침식', '풍화', '융기'], answer: 1, explanation: '침식은 물이나 바람이 땅이나 암석을 깎아 내리는 과정입니다.' },
          { q: '상류에서 형성되는 좁고 깊은 계곡은?', options: ['선상지', 'V자 계곡', '삼각주', '곡류 하천'], answer: 1, explanation: 'V자 계곡은 상류에서 물이 빠르게 흘러 형성됩니다.' },
          { q: '강이 바다와 만나는 곳에 형성되는 지형은?', options: ['V자 계곡', '선상지', '삼각주', '폭포'], answer: 2, explanation: '삼각주는 강이 바다와 만나는 곳에 퇴적물이 쌓여 형성됩니다.' },
          { q: 'S자 모양으로 굽이치며 흐르는 강은?', options: ['직선 하천', '곡류 하천', '폭포', 'V자 계곡'], answer: 1, explanation: '곡류 하천은 S자 모양으로 굽이치며 흐르는 강입니다.' }
        ]
      },
      structural: {
        title: '구조 파악력',
        problems: [
          { q: '1문단의 주요 내용은?', options: ['상류 지형', '침식과 퇴적의 개념', '하류 지형', '중류 지형'], answer: 1, explanation: '1문단은 침식과 퇴적의 개념 및 유속과의 관계를 설명합니다.' },
          { q: '글에서 상류→중류→하류 순서로 설명하는 이유는?', options: ['글쓴이 마음', '강물의 흐름 방향 따라서', '알파벳 순서', '크기 순서'], answer: 1, explanation: '강물이 상류에서 하류로 흐르는 방향에 따라 설명합니다.' },
          { q: '4문단에서 설명하는 것은?', options: ['상류 지형', '중류 지형', '하류 지형과 삼각주', '침식의 정의'], answer: 2, explanation: '4문단은 하류 지형과 삼각주 형성을 설명합니다.' }
        ]
      },
      lexical: {
        title: '어휘 맥락력',
        problems: [
          { q: '\'퇴적\'이란?', options: ['깎아 내리는 것', '흙, 모래가 쌓이는 것', '녹는 것', '솟아오르는 것'], answer: 1, explanation: '퇴적은 흙, 모래, 자갈 등이 쌓이는 현상입니다.' },
          { q: '\'유속\'이란?', options: ['물의 깊이', '물이 흐르는 속도', '물의 온도', '물의 색깔'], answer: 1, explanation: '유속은 물이 흐르는 속도입니다.' },
          { q: '\'선상지\'가 형성되는 곳은?', options: ['바다', '산에서 평지로 나오는 지점', '강 하류', '폭포 아래'], answer: 1, explanation: '선상지는 산에서 평지로 나오는 지점에 형성됩니다.' }
        ]
      },
      inferential: {
        title: '추론·통합력',
        problems: [
          { q: '하류로 갈수록 퇴적이 활발한 이유는?', options: ['물이 빨라져서', '물이 느려져서', '물이 없어서', '바위가 많아서'], answer: 1, explanation: '하류로 갈수록 경사가 완만해져 물이 느려지면서 퇴적이 활발해집니다.' },
          { q: '곡류 하천의 바깥쪽에서 일어나는 것은?', options: ['퇴적', '침식', '융기', '풍화'], answer: 1, explanation: '곡류 하천의 굽은 부분 바깥쪽은 물살이 강해서 침식이 일어납니다.' }
        ]
      },
      critical: {
        title: '비판·적용력',
        problems: [
          { q: '삼각주가 농사에 적합한 이유는?', options: ['돌이 많아서', '토양이 비옥해서', '물이 없어서', '춥기 때문'], answer: 1, explanation: '삼각주는 퇴적물이 쌓여 토양이 비옥해서 농사에 적합합니다.' },
          { q: '강의 지형 변화를 연구하는 이유는?', options: ['놀이 때문', '홍수 예방과 토지 이용 계획', '색 때문', '소리 때문'], answer: 1, explanation: '강의 지형 변화 연구는 홍수 예방과 토지 이용 계획에 중요합니다.' }
        ]
      }
    }
  },
  fit_earth_06: {
    title: '지구가 화났을 때 일어나는 일',
    problems: {
      literal: {
        title: '핵심 이해력',
        problems: [
          { q: '지구 표면을 이루는 거대한 암석 조각은?', options: ['맨틀', '핵', '판', '지각'], answer: 2, explanation: '판은 지구 표면을 이루는 거대한 암석 조각입니다.' },
          { q: '태평양 주변에서 지진과 화산이 많이 발생하는 지역은?', options: ['대서양 중앙', '환태평양 화산대', '북극', '남극'], answer: 1, explanation: '환태평양 화산대(불의 고리)에서 지진과 화산이 집중적으로 발생합니다.' },
          { q: '지진이 발생했을 때 방출된 에너지의 크기를 나타내는 것은?', options: ['진도', '규모', '진앙', '진원'], answer: 1, explanation: '규모는 지진이 발생했을 때 방출된 에너지의 크기입니다.' },
          { q: '우리나라는 환태평양 화산대에서?', options: ['중심에 있음', '조금 떨어져 있음', '가장 가까움', '전혀 영향 없음'], answer: 1, explanation: '우리나라는 환태평양 화산대에서 조금 떨어져 있습니다.' }
        ]
      },
      structural: {
        title: '구조 파악력',
        problems: [
          { q: '1문단의 주요 내용은?', options: ['화산과 화산재', '판과 지진 발생 원리', '지진 대비 방법', '우리나라 지진'], answer: 1, explanation: '1문단은 판의 구조와 지진 발생 원리를 설명합니다.' },
          { q: '4문단에서 설명하는 것은?', options: ['화산의 종류', '우리나라 지진과 대비 방법', '환태평양 화산대', '마그마의 성질'], answer: 1, explanation: '4문단은 우리나라의 지진 사례와 대비 방법을 설명합니다.' },
          { q: '글의 전개 순서는?', options: ['판→화산→발생지역→대비', '화산→판→대비→발생지역', '대비→판→화산→발생지역', '발생지역→대비→판→화산'], answer: 0, explanation: '글은 판과 지진→화산→발생 지역→대비 방법 순으로 전개됩니다.' }
        ]
      },
      lexical: {
        title: '어휘 맥락력',
        problems: [
          { q: '\'진앙\'이란?', options: ['지진이 시작된 땅속 지점', '진원 바로 위의 지표면 지점', '지진파의 종류', '화산의 종류'], answer: 1, explanation: '진앙은 지진이 시작된 진원 바로 위의 지표면 지점입니다.' },
          { q: '\'맨틀\'이란?', options: ['지구 표면의 판', '지각 아래의 뜨거운 암석층', '지구의 핵', '화산재'], answer: 1, explanation: '맨틀은 지각 아래에 있는 뜨거운 암석층입니다.' },
          { q: '\'화산재\'가 비행기에 위험한 이유는?', options: ['무겁기 때문', '엔진에 들어가면 고장', '예뻐서', '냄새가 나서'], answer: 1, explanation: '화산재가 비행기 엔진에 들어가면 고장을 일으킬 수 있습니다.' }
        ]
      },
      inferential: {
        title: '추론·통합력',
        problems: [
          { q: '판이 만나는 경계에서 일어나는 현상은?', options: ['아무 일도 없음', '지진과 화산이 자주 발생', '물이 생김', '식물이 자람'], answer: 1, explanation: '판이 만나는 경계에서 지진과 화산이 자주 발생합니다.' },
          { q: '지진 대비 훈련이 중요한 이유는?', options: ['재미있어서', '위험 상황에 빠르게 대처하기 위해', '운동이 되어서', '상을 받으려고'], answer: 1, explanation: '지진 대비 훈련은 위험 상황에 빠르게 대처하기 위해 중요합니다.' }
        ]
      },
      critical: {
        title: '비판·적용력',
        problems: [
          { q: '지진이 발생하면 먼저 해야 할 일은?', options: ['창문 열기', '책상 아래로 들어가 머리 보호', '밖으로 뛰어나가기', '전화하기'], answer: 1, explanation: '지진 시 먼저 책상 아래로 들어가 머리를 보호해야 합니다.' },
          { q: '가스와 전기를 차단하는 이유는?', options: ['전기 아끼려고', '화재와 폭발 방지', '조용해지려고', '밝아지려고'], answer: 1, explanation: '지진 후 가스와 전기 차단은 화재와 폭발을 방지하기 위함입니다.' }
        ]
      }
    }
  },
  fit_earth_07: {
    title: '움직이는 땅, 판의 대충돌',
    problems: {
      literal: {
        title: '핵심 이해력',
        problems: [
          { q: '두 판이 충돌하여 땅이 접히면서 만들어진 산맥은?', options: ['화산', '습곡 산맥', '해령', '해구'], answer: 1, explanation: '습곡 산맥은 두 판이 충돌하여 땅이 접히면서 만들어집니다.' },
          { q: '바다에서 가장 깊은 골짜기 모양의 지형은?', options: ['해령', '대륙붕', '해구', '삼각주'], answer: 2, explanation: '해구는 바다에서 가장 깊은 골짜기 모양의 지형입니다.' },
          { q: '해령에서는 무엇이 만들어지나요?', options: ['해구', '새로운 해양 지각', '대륙붕', '삼각주'], answer: 1, explanation: '해령에서는 마그마가 올라와 새로운 해양 지각이 만들어집니다.' },
          { q: '육지에서 바다로 완만하게 이어지는 얕은 해저는?', options: ['해구', '해령', '대륙붕', '대륙사면'], answer: 2, explanation: '대륙붕은 육지에서 바다로 완만하게 이어지는 얕은 해저 지역입니다.' }
        ]
      },
      structural: {
        title: '구조 파악력',
        problems: [
          { q: '1문단의 주요 내용은?', options: ['풍화와 침식', '융기와 습곡 산맥', '해저 지형', '해령'], answer: 1, explanation: '1문단은 융기와 습곡 산맥(히말라야)을 설명합니다.' },
          { q: '3문단에서 설명하는 것은?', options: ['산의 형성', '풍화와 침식', '해저 지형', '해령'], answer: 2, explanation: '3문단은 대륙붕, 대륙사면, 해구 등 해저 지형을 설명합니다.' },
          { q: '글의 전개 순서는?', options: ['융기→풍화→해저→해령', '해령→융기→풍화→해저', '풍화→해저→융기→해령', '해저→해령→융기→풍화'], answer: 0, explanation: '글은 융기와 산→풍화·침식→해저 지형→해령 순으로 전개됩니다.' }
        ]
      },
      lexical: {
        title: '어휘 맥락력',
        problems: [
          { q: '\'융기\'란?', options: ['땅이 내려앉는 것', '땅이 위로 솟아오르는 것', '땅이 갈라지는 것', '땅이 녹는 것'], answer: 1, explanation: '융기는 지구 내부의 힘으로 땅이 위로 솟아오르는 현상입니다.' },
          { q: '\'풍화\'와 \'침식\'의 차이는?', options: ['같은 것', '풍화는 부서짐, 침식은 운반', '침식이 먼저', '관계없음'], answer: 1, explanation: '풍화는 바위가 부서지는 것, 침식은 부서진 물질이 운반되는 것입니다.' },
          { q: '\'퇴적암\'이란?', options: ['마그마가 굳은 것', '퇴적물이 쌓여 굳은 암석', '변성된 암석', '금속 암석'], answer: 1, explanation: '퇴적암은 퇴적물이 오랜 시간 쌓이고 굳어서 만들어진 암석입니다.' }
        ]
      },
      inferential: {
        title: '추론·통합력',
        problems: [
          { q: '해구가 만들어지는 곳은?', options: ['판이 벌어지는 곳', '판이 다른 판 아래로 들어가는 곳', '대륙 중앙', '산꼭대기'], answer: 1, explanation: '해구는 판이 다른 판 아래로 들어가는 곳에서 만들어집니다.' },
          { q: '대륙붕에 해양 생물이 많은 이유는?', options: ['깊어서', '얕아서 햇빛이 잘 들어서', '춥기 때문', '바람이 강해서'], answer: 1, explanation: '대륙붕은 수심이 얕아 햇빛이 잘 들어 다양한 해양 생물이 삽니다.' }
        ]
      },
      critical: {
        title: '비판·적용력',
        problems: [
          { q: '히말라야 산맥이 지금도 높아지는 이유는?', options: ['비가 와서', '판이 계속 충돌해서', '바람 때문', '사람이 쌓아서'], answer: 1, explanation: '인도 판과 유라시아 판이 계속 충돌하기 때문입니다.' },
          { q: '해저 지형 연구가 중요한 이유는?', options: ['예뻐서', '자원 탐사와 지구 이해', '취미', '유행'], answer: 1, explanation: '해저 지형 연구는 자원 탐사와 지구의 역사 이해에 중요합니다.' }
        ]
      }
    }
  },
  fit_earth_08: {
    title: '지층이 써 내려간 지구 일기장',
    problems: {
      literal: {
        title: '핵심 이해력',
        problems: [
          { q: '마그마가 천천히 식어 알갱이가 큰 암석은?', options: ['현무암', '화강암', '사암', '대리암'], answer: 1, explanation: '화강암은 마그마가 천천히 식어 알갱이가 큰 화성암입니다.' },
          { q: '모래가 굳어서 된 퇴적암은?', options: ['석회암', '셰일', '사암', '역암'], answer: 2, explanation: '사암은 모래가 굳어서 된 퇴적암입니다.' },
          { q: '암석이 서로 변하는 과정을 무엇이라 하나요?', options: ['풍화', '침식', '암석의 순환', '퇴적'], answer: 2, explanation: '암석의 순환은 암석이 서로 변하는 과정입니다.' },
          { q: '변성암의 특징은?', options: ['무르고 약함', '원래 암석보다 단단하고 치밀함', '알갱이가 큼', '구멍이 많음'], answer: 1, explanation: '변성암은 원래 암석보다 더 단단하고 치밀한 구조를 가집니다.' }
        ]
      },
      structural: {
        title: '구조 파악력',
        problems: [
          { q: '글의 전개 순서는?', options: ['화성암→퇴적암→변성암→순환', '퇴적암→화성암→변성암→순환', '변성암→퇴적암→화성암→순환', '순환→화성암→퇴적암→변성암'], answer: 0, explanation: '글은 화성암→퇴적암→변성암→암석의 순환 순으로 설명합니다.' },
          { q: '2문단에서 설명하는 암석은?', options: ['화성암', '퇴적암', '변성암', '대리암'], answer: 1, explanation: '2문단은 퇴적암(사암, 셰일, 석회암)을 설명합니다.' },
          { q: '암석의 순환에서 마그마가 되는 것은?', options: ['화성암만', '퇴적암만', '모든 암석', '변성암만'], answer: 2, explanation: '모든 암석은 녹아 마그마가 되어 다시 화성암이 될 수 있습니다.' }
        ]
      },
      lexical: {
        title: '어휘 맥락력',
        problems: [
          { q: '\'현무암\'의 특징은?', options: ['알갱이가 큼', '용암이 빨리 식어 알갱이가 작음', '변성암임', '퇴적암임'], answer: 1, explanation: '현무암은 용암이 빨리 식어 알갱이가 작거나 보이지 않습니다.' },
          { q: '\'편마암\'은 무엇이 변성된 것인가요?', options: ['석회암', '사암', '화강암', '셰일'], answer: 2, explanation: '편마암은 화강암이 변성된 암석입니다.' },
          { q: '퇴적암에서 아래층이 오래된 이유는?', options: ['무거워서', '먼저 쌓였기 때문', '색이 달라서', '딱딱해서'], answer: 1, explanation: '먼저 쌓인 층이 아래에 있으므로 아래층이 더 오래되었습니다.' }
        ]
      },
      inferential: {
        title: '추론·통합력',
        problems: [
          { q: '제주도 돌담이 검은 이유는?', options: ['페인트', '현무암(화산암)으로 만들어서', '오래되어서', '비 때문'], answer: 1, explanation: '제주도 돌담은 화산 활동으로 생긴 검은 현무암으로 만들어졌습니다.' },
          { q: '암석의 순환이 지구가 살아있다는 증거인 이유는?', options: ['암석이 움직여서', '암석이 계속 변하기 때문', '암석이 말해서', '암석이 자라서'], answer: 1, explanation: '암석이 끊임없이 변하는 것은 지구가 활동하고 있다는 증거입니다.' }
        ]
      },
      critical: {
        title: '비판·적용력',
        problems: [
          { q: '대리암이 조각품에 쓰이는 이유는?', options: ['값이 싸서', '매끄럽고 아름다워서', '가벼워서', '투명해서'], answer: 1, explanation: '대리암은 매끄럽고 아름다운 무늬가 있어 조각품에 사용됩니다.' },
          { q: '암석 연구가 중요한 이유는?', options: ['돈벌이', '지구 역사와 자원 이해', '취미', '운동'], answer: 1, explanation: '암석 연구는 지구의 역사와 자원을 이해하는 데 중요합니다.' }
        ]
      }
    }
  },
  fit_earth_09: {
    title: '공룡 뼈가 전하는 비밀 메시지',
    problems: {
      literal: {
        title: '핵심 이해력',
        problems: [
          { q: '화석이 주로 발견되는 암석은?', options: ['화성암', '변성암', '퇴적암', '화강암'], answer: 2, explanation: '화석은 주로 퇴적암에서 발견됩니다.' },
          { q: '공룡이 지배한 시대는?', options: ['고생대', '중생대', '신생대', '선캄브리아대'], answer: 1, explanation: '중생대는 공룡이 지배한 시대입니다.' },
          { q: '특정 시대를 대표하는 화석은?', options: ['시상 화석', '표준 화석', '흔적 화석', '변성 화석'], answer: 1, explanation: '표준 화석은 특정 시대를 대표하는 화석입니다.' },
          { q: '삼엽충은 어느 시대를 대표하나요?', options: ['신생대', '중생대', '고생대', '선캄브리아대'], answer: 2, explanation: '삼엽충은 고생대를 대표하는 표준 화석입니다.' }
        ]
      },
      structural: {
        title: '구조 파악력',
        problems: [
          { q: '글의 전개 순서는?', options: ['화석 정의→선캄브리아·고생대→중생대·신생대→표준·시상 화석', '중생대→고생대→신생대→화석 정의', '표준 화석→화석 정의→시대 설명', '신생대→중생대→고생대→선캄브리아대'], answer: 0, explanation: '글은 화석 정의→지질 시대(시간 순)→화석의 종류 순으로 설명합니다.' },
          { q: '4문단에서 설명하는 것은?', options: ['지질 시대', '표준 화석과 시상 화석', '화석의 정의', '중생대'], answer: 1, explanation: '4문단은 표준 화석과 시상 화석의 개념을 설명합니다.' },
          { q: '시상 화석의 예로 적절한 것은?', options: ['삼엽충', '암모나이트', '산호 화석', '공룡 뼈'], answer: 2, explanation: '산호 화석은 따뜻한 얕은 바다였음을 알려주는 시상 화석입니다.' }
        ]
      },
      lexical: {
        title: '어휘 맥락력',
        problems: [
          { q: '\'지질 시대\'란?', options: ['날씨의 변화', '지구 역사를 생물 변화로 나눈 시대', '암석의 종류', '화산의 활동'], answer: 1, explanation: '지질 시대는 지구 역사를 생물 변화로 나눈 시대 구분입니다.' },
          { q: '\'시상 화석\'이 알려주는 것은?', options: ['시대', '당시 환경', '암석 종류', '온도만'], answer: 1, explanation: '시상 화석은 당시의 환경을 알려줍니다.' },
          { q: '\'암모나이트\'는 어느 시대의 표준 화석인가요?', options: ['고생대', '중생대', '신생대', '선캄브리아대'], answer: 1, explanation: '암모나이트는 중생대를 대표하는 표준 화석입니다.' }
        ]
      },
      inferential: {
        title: '추론·통합력',
        problems: [
          { q: '산에서 조개 화석이 발견되면?', options: ['원래 산이었음', '과거에 바다였다가 융기했음', '조개가 올라갔음', '누가 놓았음'], answer: 1, explanation: '산에서 조개 화석이 발견되면 과거에 바다였다가 융기한 것입니다.' },
          { q: '삼엽충 화석이 발견된 암석의 나이는?', options: ['신생대', '중생대', '고생대', '미래'], answer: 2, explanation: '삼엽충은 고생대의 표준 화석이므로 그 암석은 고생대에 형성되었습니다.' }
        ]
      },
      critical: {
        title: '비판·적용력',
        problems: [
          { q: '화석 연구가 중요한 이유는?', options: ['예쁘기 때문', '과거 생물과 환경을 알 수 있어서', '비싸서', '무거워서'], answer: 1, explanation: '화석 연구로 과거 생물과 환경을 알 수 있어 중요합니다.' },
          { q: '고사리 화석이 발견되면 그 지역의 과거 환경은?', options: ['사막', '습하고 따뜻한 육지', '차가운 바다', '극지방'], answer: 1, explanation: '고사리 화석은 습하고 따뜻한 육지 환경을 알려줍니다.' }
        ]
      }
    }
  },
  fit_earth_10: {
    title: '나침반이 북쪽을 가리키는 이유',
    problems: {
      literal: {
        title: '핵심 이해력',
        problems: [
          { q: '지구 자기장은 어디에서 만들어지나요?', options: ['지각', '맨틀', '외핵', '내핵'], answer: 2, explanation: '지구 자기장은 외핵에서 만들어집니다.' },
          { q: '오로라가 나타나는 이유는?', options: ['별빛 때문', '태양풍 입자가 대기와 부딪혀서', '구름 때문', '바람 때문'], answer: 1, explanation: '오로라는 태양풍 입자가 극지방 대기와 부딪혀 생깁니다.' },
          { q: '지구 자기장의 방향이 바뀌는 현상은?', options: ['오로라', '해령', '지자기 역전', '풍화'], answer: 2, explanation: '지자기 역전은 지구 자기장의 방향이 바뀌는 현상입니다.' },
          { q: '자북의 위치는?', options: ['절대 변하지 않음', '매년 조금씩 이동', '하루에 한 번 바뀜', '계절마다 바뀜'], answer: 1, explanation: '자북의 위치는 매년 수십 킬로미터씩 이동하고 있습니다.' }
        ]
      },
      structural: {
        title: '구조 파악력',
        problems: [
          { q: '1문단의 주요 내용은?', options: ['오로라', '지구 자기장의 생성', '지자기 역전', '해저 확장설'], answer: 1, explanation: '1문단은 지구 자기장이 외핵에서 어떻게 생성되는지 설명합니다.' },
          { q: '2문단에서 설명하는 것은?', options: ['자기장 생성', '자기장의 보호 역할과 오로라', '지자기 역전', '자기장 변화'], answer: 1, explanation: '2문단은 자기장이 태양풍을 막는 역할과 오로라를 설명합니다.' },
          { q: '글의 전개 순서는?', options: ['생성→보호→역전→변화', '역전→생성→보호→변화', '변화→생성→역전→보호', '보호→역전→생성→변화'], answer: 0, explanation: '글은 생성→보호 역할→지자기 역전→변화와 영향 순으로 전개됩니다.' }
        ]
      },
      lexical: {
        title: '어휘 맥락력',
        problems: [
          { q: '\'외핵\'의 특징은?', options: ['고체 암석', '액체 상태의 철과 니켈', '가스 상태', '얼음'], answer: 1, explanation: '외핵은 액체 상태의 철과 니켈로 이루어져 있습니다.' },
          { q: '\'태양풍\'이란?', options: ['태양에서 불어오는 바람', '태양에서 방출되는 고에너지 입자', '뜨거운 공기', '태양 주변의 구름'], answer: 1, explanation: '태양풍은 태양에서 방출되는 고에너지 입자입니다.' },
          { q: '\'해저 확장설\'이란?', options: ['바다가 줄어드는 것', '해저가 해령에서 확장된다는 이론', '대륙이 커지는 것', '산이 높아지는 것'], answer: 1, explanation: '해저 확장설은 해저가 해령에서 확장된다는 이론입니다.' }
        ]
      },
      inferential: {
        title: '추론·통합력',
        problems: [
          { q: '지구 자기장이 없다면?', options: ['아무 일 없음', '태양풍이 직접 지구에 도달해 해로움', '더 따뜻해짐', '더 추워짐'], answer: 1, explanation: '자기장이 없으면 태양풍이 직접 지구에 도달해 생물에게 해롭습니다.' },
          { q: '철새가 길을 잃을 수 있는 상황은?', options: ['날씨가 좋을 때', '지구 자기장이 약해질 때', '먹이가 많을 때', '따뜻할 때'], answer: 1, explanation: '철새는 자기장을 이용해 길을 찾기 때문에 자기장이 약해지면 영향을 받습니다.' }
        ]
      },
      critical: {
        title: '비판·적용력',
        problems: [
          { q: '지구 자기장 연구가 중요한 이유는?', options: ['예뻐서', '지구와 생물 보호 이해', '취미', '돈벌이'], answer: 1, explanation: '지구 자기장 연구는 지구와 생물 보호를 이해하는 데 중요합니다.' },
          { q: '오로라를 보려면 어디로 가야 하나요?', options: ['적도', '극지방(북극이나 남극)', '사막', '열대우림'], answer: 1, explanation: '오로라는 극지방에서 볼 수 있습니다.' }
        ]
      }
    }
  }
};

// 패턴: learning-common.js 로드 전에 REMEDIAL_BANK 삽입
const learningCommonPattern = /(<script[^>]*src="[^"]*learning-common\.js[^"]*"[^>]*><\/script>)/;

for (let i = 1; i <= 10; i++) {
  const num = String(i).padStart(2, '0');
  const unitKey = `fit_earth_${num}`;
  const filePath = path.join(__dirname, 'public', 'BRAINUP', 'science', `fit_earth_${num}.html`);

  if (!fs.existsSync(filePath)) {
    console.log(`[SKIP] ${filePath} 파일 없음`);
    continue;
  }

  let content = fs.readFileSync(filePath, 'utf8');
  const earthData = EARTH_DATA[unitKey];

  if (!earthData) {
    console.log(`[SKIP] fit_earth_${num} 데이터 없음`);
    continue;
  }

  // 이미 window.REMEDIAL_BANK가 있는지 확인
  if (content.includes('window.REMEDIAL_BANK = {')) {
    console.log(`[SKIP] fit_earth_${num} 이미 window.REMEDIAL_BANK 존재`);
    continue;
  }

  const match = content.match(learningCommonPattern);
  if (!match) {
    console.log(`[SKIP] fit_earth_${num} learning-common.js 패턴 없음`);
    continue;
  }

  // REMEDIAL_BANK 스크립트 생성
  const remedialScript = `<!-- ✅ 보완학습 데이터 (learning-common.js 로드 전에 정의) -->
<script>
window.REMEDIAL_BANK = ${JSON.stringify(earthData.problems, null, 2)};
</script>

${match[0]}`;

  content = content.replace(learningCommonPattern, remedialScript);
  fs.writeFileSync(filePath, content, 'utf8');
  console.log(`[OK] fit_earth_${num} REMEDIAL_BANK 추가 완료 (${earthData.title})`);
}

console.log('\n✅ fit_earth_01~10 보완학습 데이터 추가 완료!');
