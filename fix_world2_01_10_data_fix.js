const fs = require('fs');
const path = require('path');

// 세계문학(2) 01~10 보완학습 데이터 구조 수정
// 기존: { literal: [...], structural: [...] }
// 수정: { literal: { title: "...", problems: [...] }, ... }

const AREA_TITLES = {
  literal: "사실적 이해",
  structural: "구조적 이해",
  lexical: "어휘적 이해",
  inferential: "추론적 이해",
  critical: "비판적 이해"
};

// 세계문학(2) 01~10 보완학습 데이터 (올바른 구조)
const REMEDIAL_DATA = {
  "world2_01": {
    // 윌리엄 텔 - 텔의 용기와 두려움
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "게슬러가 텔에게 사과를 쏘게 한 이유는 무엇인가요?", options: ["텔이 게슬러의 모자에 경의를 표하지 않았기 때문에", "텔이 게슬러를 모욕했기 때문에", "텔이 세금을 내지 않았기 때문에", "텔이 반란을 일으켰기 때문에"], answer: 0, explanation: "텔이 장대 위의 모자에 경의를 표하지 않아 벌로 아들 머리 위 사과를 쏘게 했습니다." },
        { q: "텔이 숨겨둔 두 번째 화살의 목적은 무엇이었나요?", options: ["예비용으로 준비한 것", "아들을 맞히면 게슬러를 쏘려고", "사냥을 위해 준비한 것", "다른 표적을 맞히기 위해"], answer: 1, explanation: "텔은 아들을 맞히면 두 번째 화살로 게슬러를 쏘려고 숨겨두었습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "이 이야기의 핵심 갈등은 무엇인가요?", options: ["아버지와 아들의 갈등", "압제자와 피압제자의 갈등", "자연과 인간의 갈등", "친구들 사이의 갈등"], answer: 1, explanation: "폭군 게슬러와 자유를 원하는 스위스 민중 사이의 갈등이 핵심입니다." },
        { q: "텔의 활쏘기 장면이 이야기에서 갖는 의미는?", options: ["단순한 기술 시험", "용기와 저항의 상징", "오락적 볼거리", "우정의 증거"], answer: 1, explanation: "활쏘기는 폭정에 대한 저항과 아버지의 용기를 상징합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'폭정'의 의미로 가장 적절한 것은?", options: ["친절한 통치", "포악하고 잔인한 정치", "민주적인 정치", "약한 권력"], answer: 1, explanation: "폭정은 포악하고 잔인하게 권력을 휘두르는 정치를 의미합니다." },
        { q: "'경의를 표하다'의 의미는?", options: ["무시하다", "존경의 뜻을 나타내다", "반항하다", "도망치다"], answer: 1, explanation: "경의를 표하다는 존경의 뜻을 나타내는 행동을 하는 것입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "텔이 화살을 쏜 후의 심정으로 적절한 것은?", options: ["후회와 슬픔", "안도와 분노", "무관심", "즐거움"], answer: 1, explanation: "아들이 무사함에 안도하면서도 게슬러에 대한 분노를 느꼈을 것입니다." },
        { q: "텔의 행동이 스위스 역사에 미친 영향은?", options: ["아무 영향 없음", "독립운동의 상징이 됨", "게슬러와 화해함", "다른 나라로 이주함"], answer: 1, explanation: "텔의 저항은 스위스 독립운동의 상징적 사건이 되었습니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "게슬러의 잔인한 명령에 대한 평가로 적절한 것은?", options: ["정당한 처벌이다", "인간의 존엄성을 무시한 폭력이다", "효과적인 통치 방법이다", "교육적 의미가 있다"], answer: 1, explanation: "무고한 아이를 위험에 빠뜨리는 것은 인간 존엄성을 무시한 폭력입니다." },
        { q: "텔의 저항 정신이 현대 사회에 주는 교훈은?", options: ["폭력으로 해결해야 한다", "부당함에 굴복해야 한다", "불의에 맞서는 용기가 필요하다", "권력에 순응해야 한다"], answer: 2, explanation: "부당한 권력에 맞서는 용기가 중요하다는 교훈을 줍니다." }
      ]
    }
  },
  "world2_02": {
    // 15소년 표류기 - 소년들의 용기와 케이트의 눈물
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "소년들이 표류하게 된 원인은 무엇인가요?", options: ["배가 폭풍을 만나서", "일부러 모험을 떠나서", "해적에게 납치당해서", "지도를 잘못 읽어서"], answer: 0, explanation: "소년들은 폭풍으로 인해 무인도에 표류하게 되었습니다." },
        { q: "소년들이 무인도에서 가장 먼저 해결해야 했던 문제는?", options: ["오락거리 찾기", "생존을 위한 식량과 주거", "보물 찾기", "배 수리하기"], answer: 1, explanation: "생존을 위해 먹을 것과 지낼 곳을 먼저 해결해야 했습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "이 이야기에서 '케이트의 눈물'이 상징하는 것은?", options: ["슬픔과 절망", "희망과 감동", "분노와 억울함", "두려움과 공포"], answer: 1, explanation: "케이트의 눈물은 소년들의 성장과 용기에 대한 감동을 나타냅니다." },
        { q: "소년들의 협동이 이야기에서 중요한 이유는?", options: ["재미를 위해", "생존과 성장을 가능하게 하므로", "어른들을 기쁘게 하기 위해", "상을 받기 위해"], answer: 1, explanation: "협동은 극한 상황에서 생존하고 성장하는 핵심 요소입니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'표류'의 의미로 적절한 것은?", options: ["목적지로 항해함", "정처 없이 떠돌아다님", "빠르게 이동함", "안전하게 정박함"], answer: 1, explanation: "표류는 방향을 잃고 물 위를 정처 없이 떠다니는 것입니다." },
        { q: "'협동'의 의미는?", options: ["혼자서 해결함", "서로 힘을 합쳐 일함", "경쟁함", "포기함"], answer: 1, explanation: "협동은 여럿이 힘을 합쳐 함께 일하는 것을 의미합니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "소년들이 무인도 생활을 통해 얻은 것은?", options: ["많은 돈", "책임감과 성장", "새로운 장난감", "편안한 생활"], answer: 1, explanation: "극한 상황에서 책임감을 배우고 인간적으로 성장했습니다." },
        { q: "케이트가 소년들을 보며 눈물 흘린 이유는?", options: ["소년들이 미워서", "소년들의 성장에 감동해서", "배가 고파서", "집이 그리워서"], answer: 1, explanation: "어려움을 극복하고 성장한 소년들의 모습에 감동했기 때문입니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 이야기가 독자들에게 전하는 메시지는?", options: ["모험은 위험하니 피해야 한다", "어려움 속에서도 협력하면 극복할 수 있다", "어른 없이는 아무것도 못한다", "무인도 생활이 편하다"], answer: 1, explanation: "협력과 용기로 어려움을 극복할 수 있다는 메시지를 전합니다." },
        { q: "현대 사회에서 이 이야기의 교훈이 적용될 수 있는 상황은?", options: ["혼자 게임할 때", "팀 프로젝트를 할 때", "TV를 볼 때", "잠을 잘 때"], answer: 1, explanation: "팀 프로젝트처럼 협력이 필요한 상황에 교훈이 적용됩니다." }
      ]
    }
  },
  "world2_03": {
    // 로빈 후드 - 로빈 후드의 은밀한 재판
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "로빈 후드가 주로 활동한 곳은 어디인가요?", options: ["런던 시내", "셔우드 숲", "왕궁", "바닷가"], answer: 1, explanation: "로빈 후드는 셔우드 숲에서 활동했습니다." },
        { q: "로빈 후드가 빼앗은 재물을 어떻게 했나요?", options: ["자기가 다 가졌다", "가난한 사람들에게 나눠줬다", "땅에 묻었다", "불태웠다"], answer: 1, explanation: "로빈 후드는 부자에게서 빼앗은 것을 가난한 사람들에게 나눠주었습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'은밀한 재판'이 의미하는 것은?", options: ["공식적인 법정 재판", "로빈 후드 나름의 정의 실현", "왕의 재판", "교회의 재판"], answer: 1, explanation: "은밀한 재판은 로빈 후드가 자신만의 방식으로 정의를 실현하는 것입니다." },
        { q: "로빈 후드 이야기의 핵심 주제는?", options: ["복수", "사회 정의와 저항", "로맨스", "공포"], answer: 1, explanation: "불의한 권력에 저항하고 사회 정의를 실현하는 것이 핵심 주제입니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'의적'의 의미로 적절한 것은?", options: ["나쁜 도둑", "의로운 일을 하는 도둑", "왕을 섬기는 기사", "평범한 농부"], answer: 1, explanation: "의적은 가난한 사람을 돕는 의로운 도둑을 말합니다." },
        { q: "'횡포'의 의미는?", options: ["친절한 행동", "제멋대로 휘두르는 폭력적 행동", "조용한 태도", "겸손한 자세"], answer: 1, explanation: "횡포는 권력을 이용해 제멋대로 하는 폭력적 행동입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "로빈 후드가 민중에게 사랑받은 이유는?", options: ["잘생겨서", "가난한 사람 편에 섰기 때문에", "왕과 친해서", "돈이 많아서"], answer: 1, explanation: "부당한 권력에 맞서 가난한 사람들을 도왔기 때문입니다." },
        { q: "당시 사회에서 로빈 후드 같은 인물이 등장한 배경은?", options: ["평화로운 사회", "빈부격차와 불평등", "풍요로운 시대", "민주주의 사회"], answer: 1, explanation: "심한 빈부격차와 권력의 횡포가 로빈 후드 같은 인물을 만들었습니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "로빈 후드의 행동을 어떻게 평가할 수 있나요?", options: ["무조건 잘못된 범죄다", "사회 정의를 위한 불가피한 저항이다", "완전히 옳은 행동이다", "의미 없는 행동이다"], answer: 1, explanation: "불의한 사회에서 정의를 위한 저항의 성격을 가집니다." },
        { q: "현대 사회에서 로빈 후드 정신이 실현될 수 있는 방법은?", options: ["직접 도둑질하기", "합법적인 사회 운동과 기부 활동", "무관심하게 살기", "권력자 편 들기"], answer: 1, explanation: "합법적인 방법으로 사회 정의를 실현하는 것이 현대적 방법입니다." }
      ]
    }
  },
  "world2_04": {
    // 말괄량이 길들이기 - 말괄량이 카타리나를 둘러싼 오해와 진실
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "카타리나의 성격은 어떻게 묘사되나요?", options: ["조용하고 순종적", "거칠고 반항적", "겁이 많음", "게으름"], answer: 1, explanation: "카타리나는 말괄량이로 거칠고 반항적인 성격입니다." },
        { q: "페트루키오가 카타리나에게 접근한 이유는?", options: ["순수한 사랑", "그녀의 지참금 때문에", "부모님의 강요", "우연히 만나서"], answer: 1, explanation: "처음에는 풍부한 지참금 때문에 접근했습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "이 이야기의 장르적 특성은?", options: ["비극", "희극(코미디)", "공포", "다큐멘터리"], answer: 1, explanation: "셰익스피어의 희극으로 유머러스한 결말을 가집니다." },
        { q: "'오해와 진실'이라는 부제가 암시하는 것은?", options: ["카타리나의 겉모습과 속마음의 차이", "날씨의 변화", "장소의 이동", "시간의 흐름"], answer: 0, explanation: "말괄량이라는 겉모습 뒤에 숨은 진짜 마음을 의미합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'말괄량이'의 의미는?", options: ["조용한 여자", "얌전하고 순한 사람", "성격이 거칠고 활발한 여자", "나이 든 여자"], answer: 2, explanation: "말괄량이는 성격이 거칠고 활발한 여자를 말합니다." },
        { q: "'지참금'의 의미는?", options: ["월급", "결혼할 때 신부 측이 주는 재산", "상품 가격", "세금"], answer: 1, explanation: "지참금은 결혼 시 신부 측에서 신랑 측에 주는 재산입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "카타리나가 말괄량이가 된 이유로 추측할 수 있는 것은?", options: ["타고난 성격만", "동생에게 가려진 소외감", "부유해서", "공부를 많이 해서"], answer: 1, explanation: "예쁜 동생에게 가려져 소외감을 느꼈을 가능성이 있습니다." },
        { q: "페트루키오의 카타리나 다루는 방식의 의도는?", options: ["그녀를 괴롭히려고", "그녀의 진짜 모습을 끌어내려고", "돈만 빼앗으려고", "무관심하려고"], answer: 1, explanation: "거친 행동으로 그녀의 진짜 마음을 끌어내려 했습니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 작품에서 '길들이기'라는 표현에 대한 현대적 시각은?", options: ["완전히 적절하다", "여성을 대상화하는 표현이라 문제가 있다", "남녀 모두에게 적용된다", "아무 의미 없다"], answer: 1, explanation: "현대적 관점에서는 여성을 대상화하는 표현으로 비판받습니다." },
        { q: "이 작품을 현대에 다시 해석한다면 어떤 메시지가 적절할까요?", options: ["여성은 순종해야 한다", "서로의 진심을 이해하는 관계가 중요하다", "결혼은 돈이 중요하다", "성격은 바꿀 수 없다"], answer: 1, explanation: "서로를 이해하고 존중하는 관계의 중요성으로 재해석됩니다." }
      ]
    }
  },
  "world2_05": {
    // 올리버 트위스트 - 올리버의 용기 있는 한마디
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "올리버가 '더 주세요'라고 말한 상황은?", options: ["식당에서", "고아원에서 죽을 더 달라고", "시장에서", "학교에서"], answer: 1, explanation: "고아원에서 배고파 죽을 더 달라고 요청한 장면입니다." },
        { q: "올리버가 런던에서 만난 소매치기 두목은 누구인가요?", options: ["범블", "페이긴", "사이크스", "브라운로우"], answer: 1, explanation: "올리버는 런던에서 소매치기 두목 페이긴을 만났습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'용기 있는 한마디'가 상징하는 것은?", options: ["반항심", "인간 존엄성을 위한 외침", "무례한 행동", "장난"], answer: 1, explanation: "기본적인 인간 존엄성을 요구하는 용기를 상징합니다." },
        { q: "이 소설의 사회비판적 성격은?", options: ["당시 영국의 빈민 문제 비판", "자연환경 파괴 비판", "전쟁 비판", "교육 제도 칭찬"], answer: 0, explanation: "빅토리아 시대 영국의 빈민과 아동 문제를 비판합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'고아원'의 의미는?", options: ["부자들의 집", "부모 없는 아이들을 돌보는 시설", "학교", "병원"], answer: 1, explanation: "고아원은 부모 없는 아이들을 돌보는 시설입니다." },
        { q: "'소매치기'의 의미는?", options: ["옷을 만드는 사람", "남의 물건을 몰래 훔치는 사람", "물건을 파는 사람", "경찰"], answer: 1, explanation: "소매치기는 남의 주머니에서 물건을 몰래 훔치는 사람입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "올리버가 범죄 조직에서 벗어날 수 있었던 이유는?", options: ["운이 좋아서만", "순수한 본성과 주변의 도움", "범죄를 잘해서", "돈이 많아서"], answer: 1, explanation: "타고난 선한 본성과 브라운로우 같은 사람들의 도움 덕분입니다." },
        { q: "디킨스가 올리버를 통해 보여주고자 한 것은?", options: ["범죄의 매력", "환경과 관계없이 지켜지는 인간성", "부자의 삶", "모험의 재미"], answer: 1, explanation: "열악한 환경에서도 지켜지는 인간 본연의 선함을 보여줍니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "올리버의 이야기가 현대 사회에 주는 시사점은?", options: ["고아는 범죄자가 된다", "사회적 약자에 대한 관심이 필요하다", "가난은 자기 탓이다", "범죄는 정당화된다"], answer: 1, explanation: "사회적 약자와 아동 복지에 대한 관심의 중요성을 일깨웁니다." },
        { q: "올리버의 '더 주세요'라는 말이 오늘날 의미하는 것은?", options: ["욕심", "기본권에 대한 정당한 요구", "무례함", "반사회적 행동"], answer: 1, explanation: "인간다운 삶에 대한 정당한 요구를 의미합니다." }
      ]
    }
  },
  "world2_06": {
    // 허클베리 핀의 모험 - 자유를 찾아 떠난 소년
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "허클베리 핀이 도망친 이유는 무엇인가요?", options: ["학교가 싫어서", "폭력적인 아버지에게서 벗어나려고", "모험을 하고 싶어서만", "친구를 만나려고"], answer: 1, explanation: "허크는 폭력적인 아버지에게서 벗어나려고 도망쳤습니다." },
        { q: "허크와 함께 뗏목 여행을 한 사람은 누구인가요?", options: ["톰 소여", "짐", "아버지", "더글러스 부인"], answer: 1, explanation: "도망 노예 짐과 함께 미시시피 강을 따라 여행했습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'자유를 찾아 떠난 소년'이라는 제목이 의미하는 것은?", options: ["단순한 여행", "사회적 속박에서 벗어나려는 여정", "학교 견학", "가출"], answer: 1, explanation: "허크와 짐 모두 각자의 속박에서 벗어나 자유를 찾는 여정입니다." },
        { q: "미시시피 강이 이야기에서 상징하는 것은?", options: ["위험", "자유와 모험의 공간", "죽음", "두려움"], answer: 1, explanation: "강은 문명의 속박에서 벗어난 자유의 공간을 상징합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'뗏목'의 의미는?", options: ["큰 배", "나무를 엮어 만든 간단한 배", "잠수함", "비행기"], answer: 1, explanation: "뗏목은 나무를 엮어 만든 간단한 수상 이동 수단입니다." },
        { q: "'속박'의 의미는?", options: ["자유", "묶여서 자유롭지 못한 상태", "행복", "여행"], answer: 1, explanation: "속박은 자유롭게 움직이지 못하도록 묶인 상태를 말합니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "허크가 짐을 도와주기로 한 결정의 의미는?", options: ["법을 어기는 범죄", "인간애가 사회 규범을 넘어선 것", "돈을 벌기 위해", "심심해서"], answer: 1, explanation: "당시 법을 어기더라도 인간으로서 옳은 일을 선택한 것입니다." },
        { q: "이 소설이 노예제에 대해 말하고자 하는 것은?", options: ["노예제를 지지함", "노예제의 비인간성 비판", "관심 없음", "노예제가 필요함"], answer: 1, explanation: "노예제의 비인간성과 인종차별의 부당함을 비판합니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "허크의 도덕적 갈등이 현대 독자에게 주는 교훈은?", options: ["법을 무조건 따라야 한다", "사회 규범보다 인간애가 중요할 때가 있다", "규칙은 의미 없다", "다른 사람을 무시해도 된다"], answer: 1, explanation: "때로는 양심이 사회 규범보다 중요할 수 있다는 교훈입니다." },
        { q: "마크 트웨인이 이 소설을 통해 비판한 것은?", options: ["자연환경", "미국 남부의 인종차별과 위선", "산업화", "교육 제도"], answer: 1, explanation: "미국 남부 사회의 인종차별과 도덕적 위선을 비판했습니다." }
      ]
    }
  },
  "world2_07": {
    // 비밀의 화원 - 잠든 정원이 깨어나다
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "메리가 비밀의 화원을 발견하게 된 계기는?", options: ["지도를 보고", "울새가 열쇠를 알려줘서", "어른에게 들어서", "책에서 읽고"], answer: 1, explanation: "울새가 땅에 묻힌 열쇠의 위치를 알려주었습니다." },
        { q: "콜린이 앓고 있다고 생각한 병의 진짜 원인은?", options: ["전염병", "심리적 문제와 운동 부족", "유전병", "사고"], answer: 1, explanation: "콜린의 병은 심리적 문제와 운동 부족이 원인이었습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'잠든 정원이 깨어나다'가 상징하는 것은?", options: ["계절 변화만", "인물들의 마음이 치유되는 과정", "정원 관리", "잠자기"], answer: 1, explanation: "정원의 회복은 메리와 콜린의 마음이 치유되는 것을 상징합니다." },
        { q: "정원이 비밀로 유지된 이유는?", options: ["관리가 어려워서", "콜린 어머니의 죽음과 관련된 슬픔 때문에", "벌레가 많아서", "너무 작아서"], answer: 1, explanation: "콜린 어머니가 정원에서 사고로 죽은 후 봉인되었습니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'황폐하다'의 의미는?", options: ["아름답다", "거칠고 쓸쓸하게 버려진 상태", "깨끗하다", "새롭다"], answer: 1, explanation: "황폐하다는 돌보지 않아 거칠고 쓸쓸해진 상태입니다." },
        { q: "'치유'의 의미는?", options: ["병들게 함", "아픔이나 상처를 낫게 함", "숨기기", "파괴하기"], answer: 1, explanation: "치유는 아픔이나 상처를 낫게 하는 것입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "메리의 성격이 변한 원인으로 적절한 것은?", options: ["좋은 음식", "자연과 우정을 통한 정서적 성장", "새 옷", "많은 돈"], answer: 1, explanation: "자연 속에서 일하고 친구를 사귀면서 정서적으로 성장했습니다." },
        { q: "콜린이 걸을 수 있게 된 진짜 이유는?", options: ["약을 먹어서", "마음을 열고 활동했기 때문에", "수술을 받아서", "마법 때문에"], answer: 1, explanation: "부정적 생각을 버리고 정원에서 활동하며 건강해졌습니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 전하는 자연의 힘에 대한 메시지는?", options: ["자연은 무섭다", "자연은 몸과 마음을 치유할 수 있다", "자연은 의미 없다", "자연을 피해야 한다"], answer: 1, explanation: "자연이 인간의 몸과 마음을 치유하는 힘이 있다는 메시지입니다." },
        { q: "현대 사회에서 이 이야기의 교훈이 적용되는 부분은?", options: ["정원 가꾸기만", "자연치유와 정신건강의 중요성", "실내 생활 권장", "기술 발전"], answer: 1, explanation: "현대의 자연치유, 원예치료, 정신건강 중요성과 연결됩니다." }
      ]
    }
  },
  "world2_08": {
    // 80일간의 세계일주 - 시간을 다투는 대모험
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "포그가 세계일주를 시작한 이유는?", options: ["여행이 좋아서", "클럽에서 한 내기 때문에", "도망치려고", "사업 때문에"], answer: 1, explanation: "포그는 클럽에서 80일 안에 세계일주가 가능하다는 내기를 했습니다." },
        { q: "포그의 여행 동반자는 누구인가요?", options: ["형사 픽스", "하인 파스파르투", "아우다 공주", "은행장"], answer: 1, explanation: "프랑스인 하인 파스파르투가 함께 여행했습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'시간을 다투는 대모험'이 의미하는 것은?", options: ["느긋한 여행", "제한 시간 내 목표 달성을 위한 긴박한 여정", "시계 수리", "잠자기"], answer: 1, explanation: "80일이라는 제한 시간 안에 세계를 도는 긴박한 모험입니다." },
        { q: "형사 픽스의 역할이 이야기에서 만드는 효과는?", options: ["평화로움", "긴장감과 갈등", "지루함", "슬픔"], answer: 1, explanation: "포그를 쫓는 픽스가 이야기에 긴장감을 더합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'내기'의 의미는?", options: ["선물 교환", "승패를 걸고 겨루는 것", "여행 계획", "공부"], answer: 1, explanation: "내기는 어떤 일의 결과에 무언가를 걸고 겨루는 것입니다." },
        { q: "'긴박하다'의 의미는?", options: ["여유롭다", "매우 급하고 조마조마하다", "편안하다", "지루하다"], answer: 1, explanation: "긴박하다는 시간이나 상황이 매우 급하고 조마조마한 것입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "포그가 여행 중 보여준 특성으로 적절한 것은?", options: ["감정적이고 충동적", "침착하고 계획적", "게으르고 무관심", "비겁하고 소심"], answer: 1, explanation: "포그는 어떤 상황에서도 침착하고 계획적으로 행동했습니다." },
        { q: "포그가 날짜를 착각한 이유는?", options: ["달력을 안 봐서", "동쪽으로 여행하며 날짜변경선을 넘어서", "시계가 고장나서", "일부러 속여서"], answer: 1, explanation: "동쪽으로 지구를 돌며 날짜변경선을 넘어 하루를 벌었습니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 당시 독자들에게 준 영향은?", options: ["여행에 대한 두려움", "기술 발전과 세계화에 대한 기대", "집에만 있고 싶은 마음", "과학에 대한 불신"], answer: 1, explanation: "19세기 기술 발전으로 세계가 좁아진다는 기대를 반영했습니다." },
        { q: "현대에 80일간의 세계일주를 다시 쓴다면 달라질 점은?", options: ["불가능해짐", "비행기로 며칠 만에 가능", "더 오래 걸림", "바다로만 가능"], answer: 1, explanation: "현대의 비행기로는 훨씬 빠르게 세계일주가 가능합니다." }
      ]
    }
  },
  "world2_09": {
    // 해저 2만리 - 신비로운 바닷속 세계
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "네모 선장의 잠수함 이름은 무엇인가요?", options: ["노틸러스호", "타이타닉호", "메이플라워호", "빅토리아호"], answer: 0, explanation: "네모 선장의 잠수함 이름은 노틸러스호입니다." },
        { q: "아로낙스 교수가 잠수함에 머물게 된 이유는?", options: ["초대받아서", "바다괴물 조사 중 사로잡혀서", "휴가 여행", "연구비를 받아서"], answer: 1, explanation: "바다괴물을 조사하다가 노틸러스호에 사로잡히게 되었습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'신비로운 바닷속 세계'가 독자에게 주는 느낌은?", options: ["공포", "경이로움과 호기심", "지루함", "슬픔"], answer: 1, explanation: "미지의 해저 세계에 대한 경이로움과 호기심을 불러일으킵니다." },
        { q: "네모 선장이 육지 세계를 떠난 이유가 암시하는 것은?", options: ["여행이 좋아서", "인간 사회에 대한 깊은 상처", "돈을 벌려고", "취미 활동"], answer: 1, explanation: "네모 선장은 인간 사회에서 받은 상처로 바다로 떠났습니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'잠수함'의 의미는?", options: ["하늘을 나는 배", "물속을 다니는 배", "육지를 다니는 배", "우주를 다니는 배"], answer: 1, explanation: "잠수함은 물속에 잠겨서 다닐 수 있는 배입니다." },
        { q: "'미지의'의 의미는?", options: ["잘 알려진", "아직 알려지지 않은", "오래된", "가까운"], answer: 1, explanation: "미지의는 아직 알려지지 않은, 모르는 것을 의미합니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "네모 선장의 성격으로 적절한 것은?", options: ["단순하고 명랑함", "복잡하고 신비로움", "수다스럽고 사교적", "무지하고 어리석음"], answer: 1, explanation: "네모 선장은 깊은 내면을 가진 복잡하고 신비로운 인물입니다." },
        { q: "쥘 베른이 이 소설에서 보여준 것은?", options: ["과거에 대한 향수", "미래 과학기술에 대한 상상력", "현재에 대한 만족", "기술에 대한 두려움"], answer: 1, explanation: "당시에는 없던 잠수함 등 미래 기술을 상상했습니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "네모 선장의 인간 사회 거부가 시사하는 것은?", options: ["사회가 완벽하다", "문명 사회의 문제점에 대한 비판", "바다가 위험하다", "기술이 나쁘다"], answer: 1, explanation: "네모 선장을 통해 인간 문명의 폭력성을 비판합니다." },
        { q: "이 소설의 과학적 상상력이 현대에 미친 영향은?", options: ["아무 영향 없음", "실제 잠수함 발전에 영감을 줌", "바다 탐사를 막음", "과학을 두렵게 함"], answer: 1, explanation: "소설 속 상상이 실제 잠수함 기술 발전에 영감을 주었습니다." }
      ]
    }
  },
  "world2_10": {
    // 왕자와 거지 - 바뀐 운명, 바뀐 세상
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "에드워드 왕자와 톰 캔티가 바꾼 것은 무엇인가요?", options: ["이름만", "옷과 신분", "친구", "직업만"], answer: 1, explanation: "똑같이 생긴 두 소년이 옷을 바꿔 입고 신분이 바뀌었습니다." },
        { q: "두 소년이 서로를 만난 장소는 어디인가요?", options: ["학교", "궁전 근처", "시장", "교회"], answer: 1, explanation: "톰이 궁전 근처에서 에드워드를 우연히 만났습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'바뀐 운명, 바뀐 세상'이 의미하는 것은?", options: ["단순한 장난", "신분 교환을 통해 세상을 다르게 보게 됨", "날씨 변화", "계절 변화"], answer: 1, explanation: "신분이 바뀌면서 각자 다른 세상을 경험하게 되는 것입니다." },
        { q: "이 이야기의 구조적 특징은?", options: ["한 인물의 이야기", "두 인물의 대조적 경험", "여러 세대의 이야기", "미래 이야기"], answer: 1, explanation: "왕자와 거지의 대조적 경험을 교차로 보여줍니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'신분'의 의미는?", options: ["키와 몸무게", "사회적 지위와 계급", "취미", "성격"], answer: 1, explanation: "신분은 사회에서 가지는 지위나 계급을 말합니다." },
        { q: "'빈민'의 의미는?", options: ["부자", "가난한 사람", "왕족", "귀족"], answer: 1, explanation: "빈민은 가난하여 어렵게 사는 사람을 말합니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "에드워드 왕자가 거지로 살며 깨달은 것은?", options: ["부자가 최고다", "백성들의 고통과 불공평한 현실", "거지 생활이 편하다", "공부가 중요하다"], answer: 1, explanation: "백성들이 겪는 고통과 사회의 불공평함을 직접 경험했습니다." },
        { q: "톰 캔티가 왕자로 살며 느낀 것은?", options: ["왕자는 편하다", "권력의 무게와 책임", "공부만 하면 된다", "놀기만 하면 된다"], answer: 1, explanation: "왕자의 삶에도 무거운 책임이 따른다는 것을 느꼈습니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 이야기가 비판하는 사회 문제는?", options: ["환경오염", "신분제도와 빈부격차", "기술 발전", "교육 제도"], answer: 1, explanation: "태어난 신분에 따라 삶이 달라지는 불평등을 비판합니다." },
        { q: "현대 사회에 이 이야기가 주는 교훈은?", options: ["신분제도를 부활시켜야 한다", "다른 입장을 경험하면 서로를 이해할 수 있다", "가난한 것은 본인 탓이다", "부자만 행복하다"], answer: 1, explanation: "서로 다른 처지를 이해하려는 노력의 중요성을 말합니다." }
      ]
    }
  }
};

// 기존 REMEDIAL_BANK 블록 제거 후 새로운 데이터 삽입
for (let i = 1; i <= 10; i++) {
  const num = String(i).padStart(2, '0');
  const filePath = path.join(__dirname, 'public', 'BRAINUP', 'worldlit', `world2_${num}.html`);

  if (!fs.existsSync(filePath)) {
    console.log(`[SKIP] ${filePath} 파일 없음`);
    continue;
  }

  let content = fs.readFileSync(filePath, 'utf8');
  const key = `world2_${num}`;
  const data = REMEDIAL_DATA[key];

  if (!data) {
    console.log(`[SKIP] world2_${num} 데이터 없음`);
    continue;
  }

  // 기존 잘못된 REMEDIAL_BANK 블록 제거
  const oldRemedialPattern = /<!-- ✅ 보완학습 데이터 \(learning-common\.js 로드 전에 정의\) -->\s*<script>\s*window\.REMEDIAL_BANK = \{[\s\S]*?\};\s*<\/script>\s*\n*/;

  if (oldRemedialPattern.test(content)) {
    content = content.replace(oldRemedialPattern, '');
    console.log(`[OK] world2_${num} 기존 REMEDIAL_BANK 블록 제거`);
  }

  // 새로운 올바른 구조로 삽입
  const remedialScript = `<!-- ✅ 보완학습 데이터 (learning-common.js 로드 전에 정의) -->
<script>
window.REMEDIAL_BANK = ${JSON.stringify(data, null, 2)};
</script>

`;

  const commonJsPattern = /<script src="\/assets\/js\/learning-common\.js[^"]*"><\/script>/;

  if (commonJsPattern.test(content)) {
    content = content.replace(commonJsPattern, (match) => remedialScript + match);
    fs.writeFileSync(filePath, content, 'utf8');
    console.log(`[OK] world2_${num} 올바른 구조로 REMEDIAL_BANK 삽입 완료`);
  } else {
    console.log(`[SKIP] world2_${num} learning-common.js 패턴 없음`);
  }
}

console.log('\n✅ world2_01~10 보완학습 데이터 구조 수정 완료!');
