const fs = require('fs');
const path = require('path');

// 세계문학(2) 11~20 보완학습 데이터 (올바른 구조: title + problems)
const REMEDIAL_DATA = {
  "world2_11": {
    // 톰 소여의 모험 - 미시시피 강의 장난꾸러기
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "톰 소여가 사는 마을은 어디인가요?", options: ["뉴욕", "세인트 피터스버그", "시카고", "보스턴"], answer: 1, explanation: "톰은 미시시피 강변의 세인트 피터스버그 마을에 삽니다." },
        { q: "톰이 담장 페인트칠을 할 때 사용한 방법은?", options: ["혼자 열심히 했다", "친구들이 하고 싶게 만들어 대신 시켰다", "폴리 이모에게 부탁했다", "페인트칠을 안 했다"], answer: 1, explanation: "톰은 페인트칠이 재미있는 것처럼 행동해 친구들이 대신 하게 만들었습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'장난꾸러기'라는 표현이 톰의 성격에서 의미하는 것은?", options: ["나쁜 아이", "창의적이고 자유로운 영혼", "게으른 성격", "공부 잘하는 아이"], answer: 1, explanation: "톰의 장난은 창의성과 자유로운 정신을 보여줍니다." },
        { q: "톰과 허크의 모험이 이야기에서 하는 역할은?", options: ["단순한 소동", "성장과 우정의 상징", "어른들을 괴롭히기", "학교 도망치기"], answer: 1, explanation: "모험을 통해 두 소년은 성장하고 우정을 쌓아갑니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'모험'의 의미로 적절한 것은?", options: ["안전한 일상", "위험을 무릅쓰고 새로운 경험을 함", "공부하기", "집에서 쉬기"], answer: 1, explanation: "모험은 위험을 감수하며 새로운 경험을 하는 것입니다." },
        { q: "'장난꾸러기'의 의미는?", options: ["조용한 아이", "심술궂은 아이", "재미있는 장난을 즐기는 아이", "착한 아이"], answer: 2, explanation: "장난꾸러기는 재미있는 장난을 즐기는 아이를 말합니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "톰이 자신의 장례식에 나타난 이유는?", options: ["유령이 되어서", "사람들이 자신을 그리워하는지 보려고", "음식을 먹으려고", "실수로"], answer: 1, explanation: "톰은 자신이 죽은 줄 알고 슬퍼하는 사람들을 보고 싶었습니다." },
        { q: "마크 트웨인이 톰을 통해 보여주고자 한 것은?", options: ["어린이의 순수함과 상상력", "어른이 되면 좋다는 것", "공부의 중요성", "규칙을 지키는 것"], answer: 0, explanation: "어린 시절의 순수한 상상력과 자유를 보여줍니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "톰의 행동이 현대 교육에 주는 시사점은?", options: ["장난은 무조건 나쁘다", "창의성과 자율성도 존중해야 한다", "규칙만 지키면 된다", "어른 말만 들어야 한다"], answer: 1, explanation: "아이들의 창의성과 자율성을 존중하는 교육이 필요합니다." },
        { q: "이 소설이 고전으로 남은 이유는?", options: ["글이 길어서", "어린 시절에 대한 보편적 향수를 담아서", "어려운 단어가 많아서", "무서워서"], answer: 1, explanation: "어린 시절의 자유와 모험에 대한 보편적 그리움을 담고 있습니다." }
      ]
    }
  },
  "world2_12": {
    // 정글북 - 정글의 아이 모글리
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "모글리를 키운 동물 가족은 누구인가요?", options: ["원숭이 가족", "늑대 가족", "코끼리 가족", "곰 가족"], answer: 1, explanation: "모글리는 늑대 가족에게 키워졌습니다." },
        { q: "모글리를 죽이려고 했던 호랑이의 이름은?", options: ["바기라", "발루", "쉬어 칸", "카아"], answer: 2, explanation: "쉬어 칸은 모글리를 죽이려 했던 호랑이입니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'정글의 법칙'이 이야기에서 상징하는 것은?", options: ["무질서", "자연의 질서와 규칙", "인간의 법", "혼란"], answer: 1, explanation: "정글의 법칙은 자연 세계의 질서와 규칙을 상징합니다." },
        { q: "모글리가 인간 세상과 정글 사이에서 갈등하는 이유는?", options: ["음식 때문에", "두 세계 모두에 속하면서 어디에도 완전히 속하지 못해서", "날씨 때문에", "친구가 없어서"], answer: 1, explanation: "모글리는 두 세계 사이에서 정체성 갈등을 겪습니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'정글'의 의미는?", options: ["도시", "열대 지방의 빽빽한 숲", "사막", "바다"], answer: 1, explanation: "정글은 열대 지방의 나무와 식물이 빽빽한 숲입니다." },
        { q: "'야생'의 의미로 적절한 것은?", options: ["사람이 기른", "자연 상태 그대로의", "도시의", "인공적인"], answer: 1, explanation: "야생은 사람 손을 타지 않은 자연 상태를 말합니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "모글리가 '불'을 다룰 수 있는 것의 의미는?", options: ["요리를 잘함", "인간으로서의 우월성과 힘", "무서움", "더움"], answer: 1, explanation: "불은 동물이 두려워하는 것으로 인간 모글리의 힘을 상징합니다." },
        { q: "키플링이 이 이야기를 통해 말하고자 한 것은?", options: ["동물이 무섭다", "자연과 인간의 관계, 정체성 탐구", "정글에 가면 안 된다", "혼자 살아야 한다"], answer: 1, explanation: "자연과 인간의 관계, 정체성에 대한 탐구를 담고 있습니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 이야기가 환경 문제에 주는 시사점은?", options: ["자연을 파괴해야 한다", "인간과 자연의 공존이 중요하다", "동물은 위험하다", "정글을 없애야 한다"], answer: 1, explanation: "인간과 자연이 조화롭게 공존해야 함을 시사합니다." },
        { q: "모글리의 이야기가 현대 독자에게 주는 교훈은?", options: ["문명이 항상 좋다", "다양한 정체성을 존중해야 한다", "동물과 살면 안 된다", "규칙을 어겨야 한다"], answer: 1, explanation: "다양한 배경과 정체성에 대한 존중을 배울 수 있습니다." }
      ]
    }
  },
  "world2_13": {
    // 피터 팬 - 영원히 자라지 않는 소년
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "피터 팬이 사는 곳은 어디인가요?", options: ["런던", "네버랜드", "뉴욕", "파리"], answer: 1, explanation: "피터 팬은 네버랜드에 삽니다." },
        { q: "피터 팬의 적은 누구인가요?", options: ["웬디", "팅커벨", "후크 선장", "인디언"], answer: 2, explanation: "후크 선장은 피터 팬의 숙적입니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'영원히 자라지 않는다'는 것의 상징적 의미는?", options: ["병에 걸림", "어린 시절의 순수함을 영원히 간직함", "키가 작음", "음식을 안 먹음"], answer: 1, explanation: "영원한 어린 시절과 순수함을 상징합니다." },
        { q: "웬디가 결국 런던으로 돌아온 이유는?", options: ["네버랜드가 싫어서", "성장과 책임을 받아들이기 위해", "음식이 없어서", "친구가 없어서"], answer: 1, explanation: "웬디는 성장이 필요함을 깨닫고 현실로 돌아옵니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'네버랜드'의 의미로 적절한 것은?", options: ["실제 나라", "꿈과 상상의 세계", "무서운 곳", "학교"], answer: 1, explanation: "네버랜드는 상상 속의 영원한 어린 시절의 세계입니다." },
        { q: "'순수함'의 의미는?", options: ["더러움", "복잡함", "때 묻지 않은 깨끗함", "어른스러움"], answer: 2, explanation: "순수함은 세상 물정에 때 묻지 않은 깨끗한 상태입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "피터 팬이 어른이 되기를 거부하는 진짜 이유는?", options: ["어른이 무서워서", "어른이 되면 잃는 것들이 두려워서", "일하기 싫어서", "공부하기 싫어서"], answer: 1, explanation: "어른이 되면 잃는 상상력, 자유, 순수함이 두렵기 때문입니다." },
        { q: "이 이야기가 어른들에게 주는 메시지는?", options: ["아이로 돌아가라", "마음속 어린아이를 잊지 말라", "책임을 피하라", "일만 하라"], answer: 1, explanation: "어른이 되어도 마음속 순수함을 간직하라는 메시지입니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "피터 팬의 선택(영원한 아이로 남기)에 대한 평가는?", options: ["완벽한 선택", "자유롭지만 성장의 기쁨을 놓치는 선택", "나쁜 선택", "현실적인 선택"], answer: 1, explanation: "자유를 얻지만 성장과 관계의 깊이를 놓치는 양면이 있습니다." },
        { q: "현대 사회의 '피터 팬 증후군'이 의미하는 것은?", options: ["비행 능력", "어른이 되기를 거부하는 현상", "요정을 믿는 것", "모험을 좋아하는 것"], answer: 1, explanation: "성인이 되어도 책임을 회피하고 어린아이처럼 행동하는 현상입니다." }
      ]
    }
  },
  "world2_14": {
    // 보물섬 - 보물을 찾아 떠난 모험
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "주인공 짐 호킨스가 보물 지도를 얻게 된 경위는?", options: ["직접 그렸다", "죽은 선원의 짐에서 발견했다", "가게에서 샀다", "바다에서 주웠다"], answer: 1, explanation: "여관에서 죽은 늙은 선원 빌리 본스의 짐에서 지도를 발견했습니다." },
        { q: "한쪽 다리가 없는 요리사의 정체는?", options: ["선량한 요리사", "해적 두목 존 실버", "의사", "선장"], answer: 1, explanation: "롱 존 실버는 해적 두목으로 요리사로 위장해 배에 탔습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'보물'이 이 이야기에서 상징하는 것은?", options: ["돈만", "모험과 욕망, 인간의 탐욕", "음식", "우정"], answer: 1, explanation: "보물은 모험의 목표이자 인간 탐욕의 상징입니다." },
        { q: "짐의 성장이 이야기에서 중요한 이유는?", options: ["키가 커서", "소년에서 용감한 청년으로 변하는 과정을 보여줘서", "나이가 들어서", "공부를 해서"], answer: 1, explanation: "모험을 통해 소년이 성장하는 과정이 핵심입니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'해적'의 의미는?", options: ["어부", "바다에서 약탈하는 도둑", "선원", "탐험가"], answer: 1, explanation: "해적은 바다에서 배를 습격해 약탈하는 무리입니다." },
        { q: "'탐욕'의 의미로 적절한 것은?", options: ["적당히 원함", "지나치게 많이 가지려는 욕심", "나눠주기", "만족함"], answer: 1, explanation: "탐욕은 필요 이상으로 많이 가지려는 지나친 욕심입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "존 실버가 매력적인 악당으로 그려진 이유는?", options: ["잘생겨서", "선과 악이 단순하지 않음을 보여주려고", "요리를 잘해서", "노래를 잘해서"], answer: 1, explanation: "인간의 복잡한 면모, 선악의 경계가 모호함을 보여줍니다." },
        { q: "짐이 모험에서 얻은 진짜 가치는?", options: ["금화", "경험과 성장", "지도", "배"], answer: 1, explanation: "물질적 보물보다 경험을 통한 성장이 진짜 가치입니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 모험 소설의 고전이 된 이유는?", options: ["길어서", "흥미진진한 플롯과 생생한 캐릭터", "어려워서", "슬퍼서"], answer: 1, explanation: "긴장감 있는 이야기와 입체적 인물로 모험 소설의 전형이 되었습니다." },
        { q: "보물에 대한 욕망이 현대 사회에 주는 교훈은?", options: ["돈이 최고다", "물질적 욕망이 파멸을 부를 수 있다", "보물을 찾아야 한다", "해적이 되자"], answer: 1, explanation: "지나친 물질적 욕망의 위험성을 경고합니다." }
      ]
    }
  },
  "world2_15": {
    // 오즈의 마법사 - 무지개 너머 마법의 나라
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "도로시가 오즈의 나라에 가게 된 방법은?", options: ["비행기를 타고", "회오리바람에 휩쓸려", "걸어서", "배를 타고"], answer: 1, explanation: "도로시는 토네이도에 휩쓸려 오즈의 나라에 도착했습니다." },
        { q: "도로시와 함께 여행한 친구들이 원한 것은?", options: ["돈, 명예, 권력", "두뇌, 심장, 용기", "음식, 집, 옷", "마법, 힘, 속도"], answer: 1, explanation: "허수아비는 두뇌, 양철 나무꾼은 심장, 겁쟁이 사자는 용기를 원했습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'무지개 너머'가 상징하는 것은?", options: ["날씨", "꿈과 희망의 세계", "무서운 곳", "학교"], answer: 1, explanation: "무지개 너머는 꿈과 희망, 이상향을 상징합니다." },
        { q: "여행의 끝에 친구들이 깨달은 것은?", options: ["마법사가 가짜라는 것만", "원하는 것은 이미 자신 안에 있었다는 것", "집에 가면 안 된다는 것", "더 여행해야 한다는 것"], answer: 1, explanation: "그들이 원하던 것은 이미 자신 안에 있었음을 깨닫습니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'마법사'의 의미는?", options: ["과학자", "마법을 부리는 사람", "의사", "선생님"], answer: 1, explanation: "마법사는 초자연적인 마법의 힘을 가진 사람입니다." },
        { q: "'용기'의 의미로 적절한 것은?", options: ["무서워하는 것", "두려움을 이기고 맞서는 힘", "도망치는 것", "숨는 것"], answer: 1, explanation: "용기는 두려움에도 불구하고 행동하는 마음의 힘입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "오즈의 마법사가 '가짜'였다는 것의 의미는?", options: ["이야기가 거짓", "외부 권위보다 자신을 믿어야 한다는 교훈", "마법이 없다는 것", "오즈가 나쁘다는 것"], answer: 1, explanation: "다른 사람이 아닌 자기 자신을 믿어야 한다는 메시지입니다." },
        { q: "도로시가 '집이 제일 좋다'고 한 이유는?", options: ["오즈가 무서워서", "모험이 지루해서", "가족과 익숙한 곳의 소중함을 깨달아서", "음식이 맛없어서"], answer: 2, explanation: "모험 끝에 가족과 집의 진정한 가치를 깨닫게 됩니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 이야기가 자기계발에 주는 메시지는?", options: ["남에게 의지하라", "필요한 것은 이미 내 안에 있다", "마법사를 찾아라", "포기하라"], answer: 1, explanation: "자신 안의 잠재력을 믿으라는 자기계발 메시지를 담고 있습니다." },
        { q: "이 작품이 미국 문화의 고전이 된 이유는?", options: ["미국에서만 읽어서", "자수성가와 자기 신뢰라는 미국적 가치를 담아서", "어려워서", "길어서"], answer: 1, explanation: "스스로를 믿고 노력하면 된다는 미국적 가치관을 담고 있습니다." }
      ]
    }
  },
  "world2_16": {
    // 지킬 박사와 하이드 - 두 얼굴을 가진 의사
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "지킬 박사가 하이드로 변하게 된 방법은?", options: ["저주를 받아서", "자신이 만든 약을 먹고", "사고를 당해서", "태어날 때부터"], answer: 1, explanation: "지킬 박사는 자신이 만든 약물로 하이드로 변신했습니다." },
        { q: "하이드의 성격은 어떠한가요?", options: ["친절하고 선함", "사악하고 폭력적", "조용하고 수줍음", "유머러스함"], answer: 1, explanation: "하이드는 지킬의 악한 면이 나타난 사악하고 폭력적인 인물입니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'두 얼굴'이 상징하는 것은?", options: ["성형수술", "인간 내면의 선과 악의 이중성", "쌍둥이", "가면무도회"], answer: 1, explanation: "한 사람 안에 존재하는 선과 악의 이중성을 상징합니다." },
        { q: "이 이야기의 결말이 비극인 이유는?", options: ["해피엔딩이어서", "선과 악의 분리가 불가능해 파멸했기 때문", "재미없어서", "길어서"], answer: 1, explanation: "내면의 악을 통제하지 못해 결국 파멸하는 비극입니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'이중성'의 의미는?", options: ["하나의 성질만 있음", "두 가지 상반된 성질이 함께 있음", "성격이 없음", "세 가지 성격"], answer: 1, explanation: "이중성은 서로 다른 두 가지 면이 공존하는 것입니다." },
        { q: "'억압'의 의미로 적절한 것은?", options: ["자유롭게 풀어줌", "힘으로 눌러 자유를 빼앗음", "응원함", "도와줌"], answer: 1, explanation: "억압은 힘으로 눌러 자유롭지 못하게 하는 것입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "지킬 박사가 하이드를 만든 진짜 이유는?", options: ["돈을 벌려고", "억압된 욕망을 죄책감 없이 표출하려고", "유명해지려고", "친구를 사귀려고"], answer: 1, explanation: "사회적 체면 때문에 억누른 욕망을 해소하고 싶었습니다." },
        { q: "이 작품이 빅토리아 시대를 비판하는 방식은?", options: ["시대를 칭찬함", "겉으로는 도덕적이지만 내면은 위선적인 사회 비판", "과학을 비판함", "예술을 비판함"], answer: 1, explanation: "겉과 속이 다른 빅토리아 시대의 위선을 비판합니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 작품이 현대 심리학에 미친 영향은?", options: ["없음", "무의식과 억압된 욕망에 대한 관심 증가", "심리학을 없앰", "물리학에 영향"], answer: 1, explanation: "프로이트 이전에 무의식과 이중성을 문학적으로 탐구했습니다." },
        { q: "현대 사회에서 '지킬과 하이드'가 은유하는 것은?", options: ["요리법", "겉과 속이 다른 이중적 인격", "운동 방법", "여행 계획"], answer: 1, explanation: "공적 이미지와 사적 모습이 다른 이중성을 표현할 때 쓰입니다." }
      ]
    }
  },
  "world2_17": {
    // 작은 아씨들 - 네 자매의 성장 이야기
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "마치 가의 네 자매 이름은?", options: ["메그, 조, 베스, 에이미", "앤, 메리, 수잔, 케이트", "엘리자베스, 제인, 캐서린, 메리", "로라, 메리, 캐리, 그레이스"], answer: 0, explanation: "네 자매는 메그, 조, 베스, 에이미입니다." },
        { q: "아버지가 집에 없는 이유는?", options: ["여행 중", "남북전쟁에 군목으로 참전", "일하러 감", "이혼함"], answer: 1, explanation: "아버지는 남북전쟁에 군목으로 참전해 집을 떠났습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'작은 아씨들'이라는 제목의 의미는?", options: ["키가 작은 여자들", "어린 소녀들이 성숙한 여성으로 성장함", "나이 든 여성들", "인형들"], answer: 1, explanation: "소녀들이 여러 경험을 통해 성숙해가는 성장 이야기입니다." },
        { q: "네 자매가 각각 다른 성격인 이유는?", options: ["가족이 아니어서", "다양한 여성상을 보여주기 위해", "실수로", "줄거리상 필요 없음"], answer: 1, explanation: "각기 다른 개성과 꿈을 가진 여성들의 다양성을 보여줍니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'성장'의 의미로 적절한 것은?", options: ["키만 크는 것", "몸과 마음이 성숙해지는 것", "나이만 드는 것", "변하지 않는 것"], answer: 1, explanation: "성장은 신체적, 정신적으로 성숙해지는 과정입니다." },
        { q: "'자매'의 의미는?", options: ["남자 형제", "같은 부모에게서 태어난 여자 형제", "친구", "이웃"], answer: 1, explanation: "자매는 같은 부모를 둔 여자 형제를 말합니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "조가 작가가 되려는 꿈을 가진 것의 의미는?", options: ["돈을 벌려고", "당시 여성의 자아실현 욕구를 보여줌", "유명해지려고", "남자가 되려고"], answer: 1, explanation: "전통적 여성 역할을 넘어 자아실현을 추구하는 모습입니다." },
        { q: "이 소설이 어머니 '마미'를 중요하게 그린 이유는?", options: ["요리를 잘해서", "가정의 정신적 중심이자 롤모델로서", "돈이 많아서", "예뻐서"], answer: 1, explanation: "마미는 가정의 정신적 지주이자 딸들의 도덕적 롤모델입니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 페미니즘 문학으로 평가받는 이유는?", options: ["남자가 등장 안 해서", "여성의 독립과 자아실현을 다뤄서", "여자만 읽어서", "제목 때문에"], answer: 1, explanation: "19세기에 여성의 꿈과 독립을 긍정적으로 그려 선구적입니다." },
        { q: "현대 독자들이 이 소설에서 배울 수 있는 것은?", options: ["옛날이 좋다", "가족의 사랑과 개인의 꿈 사이의 균형", "혼자 살아야 한다", "돈이 최고다"], answer: 1, explanation: "가족 간의 사랑과 개인의 꿈을 모두 소중히 여기는 것입니다." }
      ]
    }
  },
  "world2_18": {
    // 폭풍의 언덕 - 황야의 비극적 사랑
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "히스클리프가 언쇼 가에 오게 된 경위는?", options: ["친척이어서", "거리의 고아로 주워져 와서", "하인으로 고용되어", "결혼해서"], answer: 1, explanation: "언쇼 씨가 리버풀 거리에서 고아 히스클리프를 데려왔습니다." },
        { q: "캐서린이 히스클리프 대신 에드거와 결혼한 이유는?", options: ["사랑해서", "히스클리프의 낮은 신분 때문에", "부모님 강요", "히스클리프가 싫어서"], answer: 1, explanation: "히스클리프의 낮은 사회적 지위 때문에 부유한 에드거를 선택했습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'폭풍의 언덕'이라는 제목이 상징하는 것은?", options: ["좋은 날씨", "격렬하고 파괴적인 감정과 관계", "평화로운 곳", "도시 이름"], answer: 1, explanation: "거칠고 황량한 배경은 등장인물들의 격렬한 감정을 반영합니다." },
        { q: "이 소설의 서술 구조가 복잡한 이유는?", options: ["작가 실수", "여러 시점으로 진실의 다양한 면을 보여주려고", "길이를 늘리려고", "번역 문제"], answer: 1, explanation: "액자식 구성과 여러 화자로 이야기의 깊이를 더합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'황야'의 의미는?", options: ["도시", "거칠고 황량한 들판", "바다", "숲"], answer: 1, explanation: "황야는 사람이 살지 않는 거칠고 황량한 벌판입니다." },
        { q: "'비극적'의 의미로 적절한 것은?", options: ["행복한", "슬프고 불행한 결말의", "재미있는", "평범한"], answer: 1, explanation: "비극적은 슬프고 불행한 결말로 이어지는 것을 말합니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "히스클리프의 복수가 비극으로 끝난 이유는?", options: ["복수에 성공해서", "복수가 더 큰 고통만 낳았기 때문에", "행복해져서", "용서해서"], answer: 1, explanation: "복수는 파괴만 가져왔고 결국 모두를 불행하게 만들었습니다." },
        { q: "캐서린과 히스클리프의 사랑이 특별한 이유는?", options: ["평범해서", "영혼의 동일시에 가까운 강렬함", "약해서", "짧아서"], answer: 1, explanation: "캐서린은 '나는 히스클리프야'라고 할 만큼 강렬한 동일시입니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 당대에 충격적이었던 이유는?", options: ["너무 짧아서", "도덕적으로 모호한 인물과 격렬한 감정", "재미없어서", "삽화가 없어서"], answer: 1, explanation: "선악 구분이 모호하고 감정이 너무 격렬해 충격적이었습니다." },
        { q: "히스클리프 캐릭터가 문학사에 남긴 영향은?", options: ["없음", "복잡한 반영웅적 인물의 전형 창조", "코미디 캐릭터", "탐정 캐릭터"], answer: 1, explanation: "선악의 경계가 모호한 복잡한 반영웅의 전형을 만들었습니다." }
      ]
    }
  },
  "world2_19": {
    // 제인 에어 - 자존심을 지킨 여인
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "제인 에어의 직업은 무엇인가요?", options: ["요리사", "가정교사", "간호사", "재봉사"], answer: 1, explanation: "제인은 손필드 저택에서 가정교사로 일했습니다." },
        { q: "로체스터가 제인에게 숨긴 비밀은?", options: ["범죄 기록", "다락방에 감춰둔 미친 아내", "가난한 과거", "형제"], answer: 1, explanation: "로체스터는 다락방에 미친 첫 번째 아내 버사를 숨기고 있었습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'자존심을 지킨 여인'이 의미하는 것은?", options: ["거만함", "사랑보다 자기 존엄을 먼저 지킴", "돈을 밝힘", "외로움을 택함"], answer: 1, explanation: "제인은 불평등한 관계를 거부하고 자기 존엄을 지켰습니다." },
        { q: "제인이 로체스터를 떠난 이유는?", options: ["사랑하지 않아서", "정당하지 못한 관계를 거부하기 위해", "돈이 없어서", "다른 남자 때문에"], answer: 1, explanation: "이미 아내가 있는 남자와의 부당한 관계를 거부했습니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'자존심'의 의미는?", options: ["남을 무시함", "자기 자신을 소중히 여기는 마음", "돈을 좋아함", "화를 잘 냄"], answer: 1, explanation: "자존심은 자신의 가치를 스스로 인정하고 지키려는 마음입니다." },
        { q: "'독립'의 의미로 적절한 것은?", options: ["남에게 의지함", "스스로 서서 자기 힘으로 삶", "혼자 외로움", "반항함"], answer: 1, explanation: "독립은 남에게 의지하지 않고 스스로의 힘으로 사는 것입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "제인이 유산을 받은 후 돌아온 이유는?", options: ["돈이 필요해서", "이제 평등한 관계가 가능하다고 느껴서", "의무감에서", "갈 곳이 없어서"], answer: 1, explanation: "경제적 독립으로 이제 평등한 사랑이 가능해졌습니다." },
        { q: "샬럿 브론테가 제인을 통해 말하고자 한 것은?", options: ["예쁜 게 최고", "여성도 존엄과 평등을 누릴 권리가 있다", "남자에게 순종해야 함", "돈이 최고"], answer: 1, explanation: "계급과 성별을 넘어 인간으로서의 존엄과 평등을 주장합니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 페미니즘 문학의 선구자로 평가받는 이유는?", options: ["여자가 썼다는 것만으로", "여성의 자아와 독립을 주장했기 때문에", "길어서", "외국 소설이라서"], answer: 1, explanation: "19세기에 여성의 자아, 독립, 평등을 강하게 주장한 선구적 작품입니다." },
        { q: "제인의 '나는 자동기계가 아니라 인간입니다'라는 말의 의미는?", options: ["로봇이 아니라서", "여성도 감정과 존엄을 가진 온전한 인간이라는 선언", "기계를 싫어해서", "일하기 싫어서"], answer: 1, explanation: "여성의 인격과 존엄성을 당당히 선언한 명대사입니다." }
      ]
    }
  },
  "world2_20": {
    // 몬테크리스토 백작 - 복수의 백작
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "에드몽 단테스가 감옥에 갇힌 이유는?", options: ["살인죄", "누명을 쓰고 정치범으로 몰려서", "도둑질", "탈영"], answer: 1, explanation: "단테스는 나폴레옹 지지자라는 누명을 쓰고 투옥되었습니다." },
        { q: "단테스가 감옥에서 만난 사람에게 얻은 것은?", options: ["음식만", "보물 지도와 지식", "탈출 도구만", "무기"], answer: 1, explanation: "파리아 신부에게 교육을 받고 몬테크리스토 보물의 위치를 알게 되었습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'복수의 백작'이라는 제목이 암시하는 것은?", options: ["귀족의 일상", "부와 권력으로 복수를 실행하는 이야기", "백작의 로맨스", "여행기"], answer: 1, explanation: "단테스가 백작으로 변신해 복수하는 이야기입니다." },
        { q: "소설의 구조가 '몰락-부활-복수'인 이유는?", options: ["길이를 늘리려고", "복수의 정당성과 과정을 극적으로 보여주려고", "작가 습관", "유행이어서"], answer: 1, explanation: "극적 반전과 복수의 과정을 효과적으로 보여주기 위한 구조입니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'복수'의 의미는?", options: ["용서", "받은 해를 되갚아 줌", "감사", "화해"], answer: 1, explanation: "복수는 자신이 당한 피해에 대해 되갚아 주는 것입니다." },
        { q: "'몰락'의 의미로 적절한 것은?", options: ["성공함", "높은 곳에서 떨어져 망함", "발전함", "여행함"], answer: 1, explanation: "몰락은 높은 지위나 상태에서 떨어져 망하는 것입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "단테스가 복수 끝에 느낀 감정으로 적절한 것은?", options: ["완전한 행복", "공허함과 회의", "더 큰 복수심", "아무 감정 없음"], answer: 1, explanation: "복수를 완수했지만 공허함을 느끼며 복수의 한계를 깨닫습니다." },
        { q: "뒤마가 이 소설에서 탐구한 주제는?", options: ["요리법", "정의, 복수, 용서의 의미", "여행 팁", "패션"], answer: 1, explanation: "정의란 무엇인지, 복수가 정의인지, 용서의 가치를 탐구합니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 복수에 대해 말하는 것은?", options: ["복수는 항상 좋다", "복수는 정의를 실현하지만 대가도 있다", "복수하면 안 된다", "복수는 쉽다"], answer: 1, explanation: "복수는 정의를 추구하지만 그 과정에서 치르는 대가도 있음을 보여줍니다." },
        { q: "현대 사회에서 이 이야기가 주는 교훈은?", options: ["복수가 최고", "정의 추구와 용서 사이의 균형이 필요하다", "돈이 최고", "권력이 전부"], answer: 1, explanation: "복수보다 용서가 진정한 해방이 될 수 있음을 시사합니다." }
      ]
    }
  }
};

// 파일에 REMEDIAL_BANK 삽입
for (let i = 11; i <= 20; i++) {
  const num = String(i).padStart(2, '0');
  const filePath = path.join(__dirname, 'public', 'BRAINUP', 'worldlit', `world2_${num}.html`);

  if (!fs.existsSync(filePath)) {
    console.log(`[SKIP] ${filePath} 파일 없음`);
    continue;
  }

  let content = fs.readFileSync(filePath, 'utf8');
  const key = `world2_${num}`;
  const data = REMEDIAL_DATA[key];

  if (!data) {
    console.log(`[SKIP] world2_${num} 데이터 없음`);
    continue;
  }

  // 이미 삽입되어 있는지 확인
  if (content.includes('window.REMEDIAL_BANK')) {
    console.log(`[SKIP] world2_${num} 이미 REMEDIAL_BANK 존재`);
    continue;
  }

  // learning-common.js 앞에 삽입
  const remedialScript = `<!-- ✅ 보완학습 데이터 (learning-common.js 로드 전에 정의) -->
<script>
window.REMEDIAL_BANK = ${JSON.stringify(data, null, 2)};
</script>

`;

  const commonJsPattern = /<script src="\/assets\/js\/learning-common\.js[^"]*"><\/script>/;

  if (commonJsPattern.test(content)) {
    content = content.replace(commonJsPattern, (match) => remedialScript + match);
    fs.writeFileSync(filePath, content, 'utf8');
    console.log(`[OK] world2_${num} REMEDIAL_BANK 삽입 완료`);
  } else {
    console.log(`[SKIP] world2_${num} learning-common.js 패턴 없음`);
  }
}

console.log('\n✅ world2_11~20 보완학습 데이터 삽입 완료!');
