const fs = require('fs');
const path = require('path');

// 세계문학(2) 21~30 보완학습 데이터 (올바른 구조: title + problems)
const REMEDIAL_DATA = {
  "world2_21": {
    // 로빈슨 크루소 - 무인도에서 살아남기
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "로빈슨 크루소가 무인도에 도착한 경위는?", options: ["여행 중 자발적으로", "배가 난파되어", "추방당해서", "탐험 목적으로"], answer: 1, explanation: "항해 중 폭풍으로 배가 난파되어 무인도에 표류했습니다." },
        { q: "크루소가 무인도에서 구한 원주민의 이름은?", options: ["월요일", "금요일", "일요일", "토요일"], answer: 1, explanation: "금요일에 구했다고 해서 '프라이데이(금요일)'라고 이름 붙였습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'무인도에서 살아남기'가 상징하는 것은?", options: ["휴가", "인간의 생존 의지와 문명 건설 능력", "벌", "모험"], answer: 1, explanation: "극한 상황에서 인간이 문명을 재건하는 능력을 보여줍니다." },
        { q: "이 소설의 서술 형식이 일기체인 이유는?", options: ["글이 쉬워서", "생존 과정을 사실적으로 전달하기 위해", "유행이어서", "작가 습관"], answer: 1, explanation: "일기체는 생존 투쟁의 과정을 생생하게 전달합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'난파'의 의미는?", options: ["배가 잘 감", "배가 부서져 못 쓰게 됨", "배가 빨라짐", "배를 만듦"], answer: 1, explanation: "난파는 배가 파손되어 항해 불능 상태가 되는 것입니다." },
        { q: "'고립'의 의미로 적절한 것은?", options: ["많은 사람과 함께", "홀로 떨어져 있음", "바쁜 상태", "여행 중"], answer: 1, explanation: "고립은 다른 사람이나 세계와 단절된 상태입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "크루소가 28년간 생존할 수 있었던 요인은?", options: ["운만 좋아서", "이성적 사고와 끊임없는 노력", "마법", "다른 사람 도움"], answer: 1, explanation: "합리적 사고와 근면한 노력으로 생존 환경을 만들었습니다." },
        { q: "프라이데이와의 관계가 보여주는 것은?", options: ["단순 주종관계", "문명과 야만, 식민주의에 대한 당대 시각", "우정만", "적대관계"], answer: 1, explanation: "유럽 중심의 식민주의적 세계관이 반영되어 있습니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 자본주의와 관련되는 점은?", options: ["돈 이야기가 많아서", "개인의 노력으로 부를 축적하는 과정을 보여줘서", "은행이 나와서", "무관함"], answer: 1, explanation: "근면과 노력으로 부를 쌓는 자본주의 정신을 보여줍니다." },
        { q: "현대적 관점에서 이 소설의 한계는?", options: ["재미없음", "식민주의적 시각", "글이 짧음", "등장인물이 적음"], answer: 1, explanation: "원주민을 '문명화'해야 할 대상으로 보는 식민주의적 시각이 비판받습니다." }
      ]
    }
  },
  "world2_22": {
    // 걸리버 여행기 - 거인과 소인의 나라
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "소인국(릴리퍼트)에서 걸리버는 어떤 존재였나요?", options: ["소인", "거인", "평범한 사람", "투명인간"], answer: 1, explanation: "릴리퍼트에서 걸리버는 소인들에 비해 거인이었습니다." },
        { q: "거인국(브로브딩낵)에서 걸리버의 처지는?", options: ["왕", "거인", "아주 작은 존재", "평범한 시민"], answer: 2, explanation: "거인국에서는 걸리버가 손바닥 위의 작은 존재였습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "소인국과 거인국을 대비시킨 이유는?", options: ["재미를 위해서만", "상대적 관점으로 인간 사회를 풍자하기 위해", "길이를 늘리려고", "과학 설명"], answer: 1, explanation: "크기의 상대성을 통해 인간의 어리석음을 풍자합니다." },
        { q: "이 소설이 단순한 모험담이 아닌 이유는?", options: ["길어서", "당대 사회와 정치에 대한 날카로운 풍자를 담아서", "어려워서", "그림이 많아서"], answer: 1, explanation: "모험 이야기 형식으로 사회와 정치를 신랄하게 비판합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'풍자'의 의미는?", options: ["칭찬", "빗대어 비판함", "설명", "묘사"], answer: 1, explanation: "풍자는 결점을 빗대어 우회적으로 비판하는 것입니다." },
        { q: "'상대적'의 의미로 적절한 것은?", options: ["절대적", "비교 대상에 따라 달라지는", "변하지 않는", "같은"], answer: 1, explanation: "상대적은 기준에 따라 달라질 수 있다는 의미입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "소인국의 전쟁 원인(달걀 깨는 방향)이 풍자하는 것은?", options: ["요리법", "사소한 이유로 싸우는 인간의 어리석음", "달걀의 중요성", "문화 차이"], answer: 1, explanation: "하찮은 이유로 전쟁하는 인간 사회의 어리석음을 풍자합니다." },
        { q: "거인국 왕이 인간을 '해로운 작은 벌레'라고 한 의미는?", options: ["곤충학적 의견", "인간의 도덕적 결함에 대한 비판", "크기 묘사", "칭찬"], answer: 1, explanation: "인간의 전쟁, 탐욕 등 도덕적 결함을 비판하는 것입니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "스위프트가 이 작품을 쓴 목적은?", options: ["아동 교육", "당대 영국 사회와 인간 본성 비판", "여행 안내", "과학 교육"], answer: 1, explanation: "18세기 영국 사회와 인간의 어리석음을 비판했습니다." },
        { q: "이 작품이 오늘날에도 의미 있는 이유는?", options: ["오래되어서", "인간의 보편적 어리석음을 다루기 때문에", "짧아서", "번역이 좋아서"], answer: 1, explanation: "시대를 넘어 인간의 본질적 결함을 보여주기 때문입니다." }
      ]
    }
  },
  "world2_23": {
    // 돈키호테 - 이상과 현실 사이의 기사
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "돈키호테가 기사가 되기로 한 이유는?", options: ["돈을 벌려고", "기사 소설을 너무 많이 읽어서", "왕의 명령", "가족 전통"], answer: 1, explanation: "기사 소설에 빠져 자신을 기사라고 믿게 되었습니다." },
        { q: "돈키호테의 충실한 종자의 이름은?", options: ["산초 판사", "둘시네아", "로시난테", "세르반테스"], answer: 0, explanation: "산초 판사는 돈키호테를 따르는 현실적인 종자입니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'이상과 현실 사이'가 의미하는 것은?", options: ["두 장소", "꿈과 현실의 괴리", "두 사람", "시간"], answer: 1, explanation: "이상주의적 돈키호테와 냉혹한 현실의 충돌을 의미합니다." },
        { q: "돈키호테와 산초의 대비가 보여주는 것은?", options: ["키 차이", "이상주의와 현실주의의 공존", "나이 차이", "신분 차이만"], answer: 1, explanation: "이상을 꿈꾸는 자와 현실을 보는 자의 균형을 보여줍니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'이상주의'의 의미는?", options: ["현실에 만족", "이상이나 꿈을 추구하는 태도", "포기하는 것", "실용적 태도"], answer: 1, explanation: "이상주의는 현실보다 이상과 꿈을 중시하는 태도입니다." },
        { q: "'망상'의 의미로 적절한 것은?", options: ["현실적 생각", "실제와 다른 헛된 생각", "계획", "기억"], answer: 1, explanation: "망상은 현실과 맞지 않는 헛된 믿음이나 생각입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "풍차를 거인으로 본 돈키호테의 행동이 의미하는 것은?", options: ["시력 문제", "이상이 현실을 왜곡할 수 있음", "풍차가 위험함", "거인이 실재함"], answer: 1, explanation: "지나친 이상주의가 현실 인식을 왜곡할 수 있음을 보여줍니다." },
        { q: "세르반테스가 돈키호테를 통해 말하고자 한 것은?", options: ["기사도가 좋다", "이상과 현실 모두 필요하다는 균형의 메시지", "현실만 중요하다", "책을 읽지 마라"], answer: 1, explanation: "이상과 현실 어느 쪽도 버릴 수 없다는 균형의 메시지입니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "돈키호테가 '영웅'으로 평가받기도 하는 이유는?", options: ["항상 이겼으니까", "비웃음 받으면서도 이상을 포기하지 않았으니까", "돈이 많아서", "힘이 세서"], answer: 1, explanation: "세상의 비웃음에도 신념을 지킨 용기가 영웅적입니다." },
        { q: "현대 사회에서 '돈키호테'가 의미하는 것은?", options: ["정신병자", "현실과 맞서 싸우는 이상주의자", "부자", "여행가"], answer: 1, explanation: "현실의 벽에도 굴하지 않고 이상을 추구하는 사람을 의미합니다." }
      ]
    }
  },
  "world2_24": {
    // 주홍글씨 - 가슴에 새긴 죄의 글자
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "헤스터 프린이 가슴에 달아야 했던 글자는?", options: ["S", "A", "H", "P"], answer: 1, explanation: "간통(Adultery)을 뜻하는 주홍색 'A' 글자를 달아야 했습니다." },
        { q: "헤스터가 아이의 아버지를 밝히지 않은 이유는?", options: ["몰라서", "그를 보호하기 위해", "벌이 무서워서", "잊어서"], answer: 1, explanation: "목사인 딤즈데일을 보호하기 위해 끝까지 비밀을 지켰습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'가슴에 새긴 죄의 글자'가 상징하는 것은?", options: ["장식", "사회의 낙인과 내면의 죄책감", "이름", "훈장"], answer: 1, explanation: "사회가 찍는 낙인과 개인의 죄책감을 모두 상징합니다." },
        { q: "딤즈데일 목사의 고통이 의미하는 것은?", options: ["병", "숨겨진 죄의식의 파괴력", "가난", "외로움"], answer: 1, explanation: "죄를 숨기는 것이 공개적 수치보다 더 큰 고통임을 보여줍니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'낙인'의 의미는?", options: ["칭찬", "부끄러운 표시, 오명", "상장", "선물"], answer: 1, explanation: "낙인은 씻을 수 없는 부끄러운 표시나 오명을 말합니다." },
        { q: "'위선'의 의미로 적절한 것은?", options: ["진실함", "겉과 속이 다름", "용감함", "친절함"], answer: 1, explanation: "위선은 겉으로만 착하고 속은 다른 것을 말합니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "헤스터가 마을을 떠나지 않은 이유는?", options: ["돈이 없어서", "속죄하고 존엄을 되찾기 위해", "갈 곳이 없어서", "아이가 싫어해서"], answer: 1, explanation: "도망치지 않고 당당히 속죄하며 인간 존엄을 지키려 했습니다." },
        { q: "호손이 청교도 사회를 비판한 점은?", options: ["종교를 좋아함", "율법적 심판의 위선과 잔인함", "건축양식", "음식문화"], answer: 1, explanation: "죄를 심판하면서 더 큰 위선을 저지르는 청교도 사회를 비판합니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 죄와 벌에 대해 묻는 것은?", options: ["엄벌이 최고", "진정한 속죄란 무엇이며 누가 심판할 자격이 있는가", "죄는 없다", "벌은 필요 없다"], answer: 1, explanation: "진정한 속죄의 의미와 심판의 자격에 대해 질문합니다." },
        { q: "현대 사회에서 '주홍글씨'가 비유하는 것은?", options: ["패션", "사회적 낙인과 온라인 마녀사냥", "알파벳 공부", "역사 교육"], answer: 1, explanation: "한 번의 실수로 평생 따라다니는 사회적 낙인을 비유합니다." }
      ]
    }
  },
  "world2_25": {
    // 오만과 편견 - 첫인상을 넘어서
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "엘리자베스가 다아시를 처음에 싫어한 이유는?", options: ["못생겨서", "오만하게 행동해서", "가난해서", "말을 안 해서"], answer: 1, explanation: "첫 무도회에서 다아시의 오만한 태도에 반감을 가졌습니다." },
        { q: "다아시가 엘리자베스에게 편견을 가진 이유는?", options: ["예뻐서", "그녀 가족의 낮은 신분과 행동 때문에", "똑똑해서", "키가 커서"], answer: 1, explanation: "베넷 가족의 사회적 지위와 품위 없는 행동에 편견을 가졌습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'첫인상을 넘어서'가 의미하는 것은?", options: ["외모의 중요성", "첫인상의 오류를 깨닫고 진정한 사랑에 이름", "첫 만남의 장소", "시간순서"], answer: 1, explanation: "오만과 편견이라는 첫인상을 극복하고 진실한 사랑에 이르는 과정입니다." },
        { q: "이 소설에서 결혼이 중요한 주제인 이유는?", options: ["로맨스라서", "당시 여성의 사회적 지위와 선택을 보여주므로", "축하해서", "전통이라서"], answer: 1, explanation: "결혼이 여성의 유일한 신분 상승 수단이던 시대를 반영합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'오만'의 의미는?", options: ["겸손함", "자신을 높이고 남을 낮춰보는 태도", "친절함", "소심함"], answer: 1, explanation: "오만은 자신을 높이고 다른 사람을 깔보는 태도입니다." },
        { q: "'편견'의 의미로 적절한 것은?", options: ["정확한 판단", "한쪽으로 치우친 잘못된 생각", "좋은 인상", "경험"], answer: 1, explanation: "편견은 공정하지 못하고 치우친 생각입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "엘리자베스와 다아시가 서로를 이해하게 된 계기는?", options: ["돈", "편지를 통해 상대의 진심을 알게 되어서", "부모님 소개", "우연한 만남만"], answer: 1, explanation: "다아시의 편지로 오해가 풀리며 서로를 다시 보게 됩니다." },
        { q: "오스틴이 이 소설을 통해 비판한 것은?", options: ["사랑", "돈과 신분에만 기반한 결혼관", "교육", "여행"], answer: 1, explanation: "돈과 신분만 따지는 당대 결혼관의 문제점을 비판합니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "엘리자베스가 페미니즘적 인물로 평가받는 이유는?", options: ["예뻐서", "자기 생각을 가지고 부당한 청혼을 거절했으므로", "부자라서", "여성이라서"], answer: 1, explanation: "당대 여성으로서 드물게 주체적 판단과 선택을 했습니다." },
        { q: "이 작품이 200년 넘게 사랑받는 이유는?", options: ["오래되어서", "보편적인 인간 심리와 관계의 진실을 담아서", "짧아서", "쉬워서"], answer: 1, explanation: "오해와 이해, 사랑의 성장은 시대를 초월한 보편적 주제입니다." }
      ]
    }
  },
  "world2_26": {
    // 파우스트 - 악마와의 거래
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "파우스트가 악마와 거래한 대가는?", options: ["돈", "영혼", "건강", "명예"], answer: 1, explanation: "파우스트는 쾌락과 지식을 얻는 대가로 영혼을 내걸었습니다." },
        { q: "파우스트에게 나타난 악마의 이름은?", options: ["사탄", "메피스토펠레스", "루시퍼", "베르제붑"], answer: 1, explanation: "메피스토펠레스가 파우스트를 유혹한 악마입니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'악마와의 거래'가 상징하는 것은?", options: ["사업", "욕망 충족을 위해 치르는 대가", "우정", "여행"], answer: 1, explanation: "인간의 욕망 추구와 그에 따른 도덕적 대가를 상징합니다." },
        { q: "파우스트가 구원받는 결말의 의미는?", options: ["악마가 약해서", "인간의 끊임없는 노력과 구원 가능성", "운이 좋아서", "기도해서"], answer: 1, explanation: "괴테는 노력하는 인간은 구원받을 수 있다고 믿었습니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'거래'의 의미로 적절한 것은?", options: ["선물", "주고받는 약속이나 교환", "기부", "훔침"], answer: 1, explanation: "거래는 서로 무언가를 주고받기로 하는 약속입니다." },
        { q: "'구원'의 의미는?", options: ["벌", "위험이나 고통에서 건져냄", "포기", "처벌"], answer: 1, explanation: "구원은 어려움이나 죄에서 건져내어 구해주는 것입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "파우스트가 학문에 회의를 느낀 이유는?", options: ["공부가 싫어서", "모든 것을 알아도 삶의 의미를 못 찾아서", "시험에 떨어져서", "돈이 없어서"], answer: 1, explanation: "지식만으로는 채울 수 없는 삶의 허무함을 느꼈습니다." },
        { q: "괴테가 파우스트를 통해 말하고자 한 것은?", options: ["학문은 필요 없다", "끊임없이 노력하고 추구하는 것이 인간의 본질", "욕망을 버려라", "악마를 믿어라"], answer: 1, explanation: "멈추지 않고 추구하는 것이 인간의 위대함이라는 메시지입니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "'파우스트적 거래'가 현대에 의미하는 것은?", options: ["좋은 거래", "목표를 위해 도덕이나 가치를 희생하는 것", "공정한 거래", "자선"], answer: 1, explanation: "성공을 위해 영혼이나 도덕을 파는 상황을 비유합니다." },
        { q: "이 작품이 세계문학의 정점으로 평가받는 이유는?", options: ["길어서", "인간 존재와 구원의 근본 문제를 다루어서", "독일 작품이라서", "시로 되어 있어서"], answer: 1, explanation: "인간 존재의 근본적 질문과 구원의 가능성을 탐구합니다." }
      ]
    }
  },
  "world2_27": {
    // 레미제라블 - 은촛대의 기적
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "장 발장이 감옥에 간 이유는?", options: ["살인", "빵 한 조각을 훔쳐서", "사기", "방화"], answer: 1, explanation: "굶주린 조카를 위해 빵 한 조각을 훔쳐 19년간 감옥살이를 했습니다." },
        { q: "미리엘 주교가 장 발장에게 은촛대를 준 이유는?", options: ["필요 없어서", "그를 용서하고 새 삶을 주기 위해", "판매하려고", "실수로"], answer: 1, explanation: "훔친 은식기에 촛대까지 더해 주며 새 출발의 기회를 주었습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'은촛대의 기적'이 상징하는 것은?", options: ["부", "용서와 자비가 인간을 변화시키는 힘", "종교 의식", "장식품"], answer: 1, explanation: "용서가 한 사람의 인생을 완전히 바꾸는 기적을 상징합니다." },
        { q: "자베르가 끝까지 장 발장을 쫓은 이유는?", options: ["개인적 원한", "법과 정의에 대한 맹목적 집착", "돈 때문에", "명령 때문에"], answer: 1, explanation: "법의 절대성을 믿는 자베르에게 전과자는 영원한 범죄자였습니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'자비'의 의미는?", options: ["엄격함", "불쌍히 여겨 베푸는 사랑", "무관심", "처벌"], answer: 1, explanation: "자비는 남을 불쌍히 여겨 너그럽게 대하는 것입니다." },
        { q: "'속죄'의 의미로 적절한 것은?", options: ["죄를 숨김", "죄를 뉘우치고 갚으려 노력함", "죄를 잊음", "죄를 늘림"], answer: 1, explanation: "속죄는 자신의 잘못을 뉘우치고 갚으려 노력하는 것입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "장 발장이 시장이 되어 선행을 베푼 이유는?", options: ["명예를 위해", "주교의 자비에 보답하고 속죄하기 위해", "돈을 벌려고", "선거를 위해"], answer: 1, explanation: "주교에게 받은 은혜를 다른 사람에게 베푸는 삶을 살았습니다." },
        { q: "위고가 '레미제라블(비참한 사람들)'이라는 제목을 붙인 이유는?", options: ["우울해서", "사회의 구조적 불평등에 의한 민중의 고통을 강조하려고", "길어서", "등장인물이 많아서"], answer: 1, explanation: "사회 제도가 만들어낸 비참함을 고발하려는 의도입니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 법과 정의에 대해 묻는 것은?", options: ["법이 항상 옳다", "진정한 정의는 법을 넘어서는가", "법을 무시해라", "정의는 없다"], answer: 1, explanation: "법적 정의와 인간적 자비 중 무엇이 진정한 정의인지 묻습니다." },
        { q: "이 작품이 현대에도 공연되고 사랑받는 이유는?", options: ["옛날 이야기라서", "빈곤, 정의, 용서라는 보편적 주제를 다루어서", "짧아서", "쉬워서"], answer: 1, explanation: "시대를 초월한 인류 보편의 가치를 감동적으로 다루기 때문입니다." }
      ]
    }
  },
  "world2_28": {
    // 안나 카레니나 - 운명의 기차
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "안나가 브론스키를 처음 만난 곳은?", options: ["무도회", "기차역", "극장", "교회"], answer: 1, explanation: "안나와 브론스키는 기차역에서 운명적으로 만났습니다." },
        { q: "안나의 비극적 결말은 어떻게 이루어지나요?", options: ["병으로", "달리는 기차에 뛰어들어", "사고로", "자연사로"], answer: 1, explanation: "사랑과 사회의 갈등 끝에 기차에 몸을 던져 생을 마감합니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'운명의 기차'가 상징하는 것은?", options: ["교통수단", "피할 수 없는 운명과 파멸의 상징", "여행", "속도"], answer: 1, explanation: "기차는 만남과 죽음을 연결하는 운명의 상징입니다." },
        { q: "안나의 이야기와 레빈의 이야기가 대비되는 이유는?", options: ["분량 맞추기", "파멸의 사랑과 안정적 사랑을 비교하기 위해", "다른 작가가 써서", "실수로"], answer: 1, explanation: "두 가지 다른 삶의 방식과 사랑을 대조합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'운명'의 의미는?", options: ["선택", "피할 수 없는 삶의 정해진 길", "우연", "계획"], answer: 1, explanation: "운명은 인간의 힘으로 바꿀 수 없는 정해진 흐름입니다." },
        { q: "'파멸'의 의미로 적절한 것은?", options: ["성공", "완전히 망해 무너짐", "발전", "변화"], answer: 1, explanation: "파멸은 완전히 무너져 망하는 것을 말합니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "안나가 사회와 갈등한 이유는?", options: ["돈 문제", "불륜이 당시 사회 규범에 어긋났기 때문에", "직업 문제", "가족 문제만"], answer: 1, explanation: "남편을 버리고 사랑을 택한 안나를 사회가 용납하지 않았습니다." },
        { q: "톨스토이가 안나를 통해 보여주고자 한 것은?", options: ["불륜의 권장", "사랑과 사회 규범 사이의 비극적 갈등", "기차의 위험성", "여행의 즐거움"], answer: 1, explanation: "개인의 감정과 사회 규범 사이의 비극적 충돌을 보여줍니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 사랑에 대해 말하는 것은?", options: ["사랑이 전부다", "열정적 사랑은 파멸을 부를 수 있다", "사랑은 필요 없다", "사랑은 쉽다"], answer: 1, explanation: "통제 불능의 열정이 가져오는 파괴적 결과를 보여줍니다." },
        { q: "현대 독자들이 안나에게 동정적인 이유는?", options: ["예뻐서", "사회의 이중 잣대 속에서 희생된 여성으로 보이므로", "부자라서", "행복해서"], answer: 1, explanation: "남성에겐 관대하고 여성에겐 엄격한 사회를 비판적으로 봅니다." }
      ]
    }
  },
  "world2_29": {
    // 죄와 벌 - 양심의 무게
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "라스콜니코프가 전당포 노파를 죽인 이유는?", options: ["돈이 필요해서만", "자신이 범법을 초월한 비범인이라 믿어서", "복수하려고", "실수로"], answer: 1, explanation: "그는 '비범인'은 도덕을 초월할 수 있다는 이론을 증명하려 했습니다." },
        { q: "라스콜니코프를 진정한 고백으로 이끈 인물은?", options: ["포르피리", "소냐", "어머니", "친구"], answer: 1, explanation: "소냐의 순수한 믿음과 사랑이 그를 자백하게 했습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'양심의 무게'가 의미하는 것은?", options: ["물리적 무게", "죄를 짓고 나서 겪는 정신적 고통", "건강 문제", "경제적 어려움"], answer: 1, explanation: "범죄 후 양심의 가책이 주는 심리적 고통을 의미합니다." },
        { q: "이 소설이 심리 소설의 걸작인 이유는?", options: ["길어서", "범죄자의 내면 심리를 깊이 파고들어서", "러시아 소설이라서", "유명해서"], answer: 1, explanation: "범죄 전후 주인공의 심리를 탁월하게 묘사합니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'양심'의 의미는?", options: ["법", "옳고 그름을 판단하는 내면의 소리", "규칙", "습관"], answer: 1, explanation: "양심은 선악을 판단하는 마음의 작용입니다." },
        { q: "'속죄'의 의미로 적절한 것은?", options: ["죄를 숨김", "죄에 대해 벌을 받고 용서를 구함", "죄를 부정", "죄를 잊음"], answer: 1, explanation: "속죄는 죄를 인정하고 그에 대한 대가를 치르는 것입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "라스콜니코프의 '비범인 이론'이 실패한 이유는?", options: ["경찰이 잡아서", "양심을 초월할 수 없었기 때문에", "돈을 못 써서", "들켜서만"], answer: 1, explanation: "인간은 도덕과 양심을 초월할 수 없음을 보여줍니다." },
        { q: "도스토예프스키가 이 소설에서 말하고자 한 것은?", options: ["범죄가 좋다", "진정한 구원은 고통과 속죄를 통해 온다", "양심은 없다", "법이 전부다"], answer: 1, explanation: "죄를 인정하고 속죄하는 것이 구원의 길임을 보여줍니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 현대에 주는 교훈은?", options: ["범죄는 쉽다", "어떤 논리로도 비윤리적 행위는 정당화될 수 없다", "양심은 불필요하다", "처벌만 피하면 된다"], answer: 1, explanation: "합리화로 양심을 속일 수 없다는 보편적 진실을 말합니다." },
        { q: "라스콜니코프가 현대의 많은 범죄자와 다른 점은?", options: ["똑똒해서", "양심의 가책으로 스스로 무너진다는 점", "잡히지 않아서", "폭력적이지 않아서"], answer: 1, explanation: "외부 처벌 전에 내면의 고통으로 이미 벌을 받습니다." }
      ]
    }
  },
  "world2_30": {
    // 변신 - 어느 날 아침 벌레가 되다
    literal: {
      title: "사실적 이해",
      problems: [
        { q: "그레고르 잠자가 어느 날 아침 변한 것은?", options: ["부자로", "거대한 벌레로", "새로", "물고기로"], answer: 1, explanation: "그레고르는 어느 날 갑자기 거대한 벌레로 변해있었습니다." },
        { q: "변신 전 그레고르의 직업은?", options: ["교사", "외판원", "의사", "공무원"], answer: 1, explanation: "그레고르는 가족을 부양하는 세일즈맨(외판원)이었습니다." }
      ]
    },
    structural: {
      title: "구조적 이해",
      problems: [
        { q: "'벌레로 변한다'는 설정이 상징하는 것은?", options: ["생물학적 현상", "인간 소외와 정체성 상실", "공포 영화", "동물 이야기"], answer: 1, explanation: "현대 사회에서 인간이 느끼는 소외와 정체성 상실을 상징합니다." },
        { q: "가족의 반응이 보여주는 것은?", options: ["사랑", "쓸모가 없어지면 버림받는 인간관계의 냉혹함", "걱정", "희생"], answer: 1, explanation: "돈을 벌지 못하자 가족에게도 버림받는 냉혹함을 보여줍니다." }
      ]
    },
    lexical: {
      title: "어휘적 이해",
      problems: [
        { q: "'소외'의 의미는?", options: ["중심이 됨", "주변으로 밀려나 외로워짐", "인기", "관심"], answer: 1, explanation: "소외는 집단에서 밀려나 홀로 떨어진 상태입니다." },
        { q: "'변신'의 의미로 적절한 것은?", options: ["그대로 유지", "모습이나 상태가 달라짐", "반복", "고정"], answer: 1, explanation: "변신은 형태나 모습이 다르게 바뀌는 것입니다." }
      ]
    },
    inferential: {
      title: "추론적 이해",
      problems: [
        { q: "그레고르가 벌레가 된 후에도 가족 걱정을 한 이유는?", options: ["배고파서", "인간으로서의 의식과 감정이 남아있어서", "귀찮아서", "습관으로만"], answer: 1, explanation: "몸은 변했지만 마음은 여전히 가족을 사랑하는 인간입니다." },
        { q: "카프카가 이 작품을 통해 비판한 것은?", options: ["벌레", "인간을 도구로만 보는 현대 사회", "가족", "직장"], answer: 1, explanation: "인간을 생산 도구로만 취급하는 현대 사회를 비판합니다." }
      ]
    },
    critical: {
      title: "비판적 이해",
      problems: [
        { q: "이 소설이 '부조리 문학'으로 분류되는 이유는?", options: ["논리적이어서", "설명 없이 불합리한 상황이 주어지므로", "해피엔딩이라서", "길어서"], answer: 1, explanation: "왜 벌레가 되었는지 설명 없이 부조리한 상황만 주어집니다." },
        { q: "현대인이 '변신'에 공감하는 이유는?", options: ["벌레가 되고 싶어서", "사회에서 소외되고 쓸모없어질 수 있다는 불안 때문에", "가족이 싫어서", "일이 싫어서"], answer: 1, explanation: "언제든 가치를 잃고 버림받을 수 있다는 현대적 불안을 반영합니다." }
      ]
    }
  }
};

// 파일에 REMEDIAL_BANK 삽입
for (let i = 21; i <= 30; i++) {
  const num = String(i).padStart(2, '0');
  const filePath = path.join(__dirname, 'public', 'BRAINUP', 'worldlit', `world2_${num}.html`);

  if (!fs.existsSync(filePath)) {
    console.log(`[SKIP] ${filePath} 파일 없음`);
    continue;
  }

  let content = fs.readFileSync(filePath, 'utf8');
  const key = `world2_${num}`;
  const data = REMEDIAL_DATA[key];

  if (!data) {
    console.log(`[SKIP] world2_${num} 데이터 없음`);
    continue;
  }

  if (content.includes('window.REMEDIAL_BANK')) {
    console.log(`[SKIP] world2_${num} 이미 REMEDIAL_BANK 존재`);
    continue;
  }

  const remedialScript = `<!-- ✅ 보완학습 데이터 (learning-common.js 로드 전에 정의) -->
<script>
window.REMEDIAL_BANK = ${JSON.stringify(data, null, 2)};
</script>

`;

  const commonJsPattern = /<script src="\/assets\/js\/learning-common\.js[^"]*"><\/script>/;

  if (commonJsPattern.test(content)) {
    content = content.replace(commonJsPattern, (match) => remedialScript + match);
    fs.writeFileSync(filePath, content, 'utf8');
    console.log(`[OK] world2_${num} REMEDIAL_BANK 삽입 완료`);
  } else {
    console.log(`[SKIP] world2_${num} learning-common.js 패턴 없음`);
  }
}

console.log('\n✅ world2_21~30 보완학습 데이터 삽입 완료!');
