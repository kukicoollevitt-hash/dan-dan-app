<!DOCTYPE html>
qEl.className = 'q';
qEl.textContent = `Q${idx+1}. ${q.q}`;
wrap.appendChild(qEl);
if (Array.isArray(q.choices)) {
const ul = document.createElement('ul');
q.choices.forEach((c,i)=>{
const li=document.createElement('li');
li.textContent = `${i+1}) ${c}`;
ul.appendChild(li);
});
wrap.appendChild(ul);
}
if (q.answer !== undefined) {
const aEl = document.createElement('div');
aEl.className = 'a';
aEl.textContent = `정답: ${q.answer}${q.explain? ' — '+q.explain:''}`;
wrap.appendChild(aEl);
}
qaEl.appendChild(wrap);
});
}
}


/* =========================================================
4) 진도 저장(선택): 현재 단원 완료 체크 저장
========================================================= */
function markDoneForCurrentUnit() {
const key = getPageKey();
const storeKey = 'dan-progress:global'; // ★학생별로 할 땐 :studentKey 붙여 확장
const arr = JSON.parse(localStorage.getItem(storeKey) || '[]');
if (!arr.includes(key)) {
arr.push(key);
localStorage.setItem(storeKey, JSON.stringify(arr));
}
alert('이 단원을 완료로 표시했습니다. (로컬 저장)');
}


document.addEventListener('DOMContentLoaded', () => {
renderUnit();
document.getElementById('btn-done').addEventListener('click', markDoneForCurrentUnit);
});
</script>
</head>
<body>
<header>
<div class="brand">
<span class="brand-badge">단단국어 · 정조편</span>
<span class="brand-title">지리 — 약속과 표현</span>
</div>
<div id="unit-chip" class="unit-chip">단원: -</div>
</header>


<main>
<section class="card">
<h1 id="title">단원 제목</h1>
<p class="muted">URL 예: <code>geo.html?unit=geo_02</code> / 기본값: <code>geo_01</code></p>
<div class="toolbar">
<button id="btn-done" class="btn">이번 단원 완료로 표시</button>
<a class="btn alt" href="./menu.html">목차로 돌아가기</a>
</div>
</section>


<section class="card" style="margin-top:16px">
<h2>📖 본문학습</h2>
<div id="passage" class="passage">(본문이 여기에 표시됩니다)</div>
</section>


<section class="card" style="margin-top:16px">
<h2>💬 어휘 정리</h2>
<div id="vocab">(어휘가 여기에 표시됩니다)</div>
</section>


<section class="card" style="margin-top:16px">
<h2>🧩 문제</h2>
<div id="qa">(문제가 여기에 표시됩니다)</div>
</section>
</main>
<script src="content.js" defer></script>


</body>
</html>