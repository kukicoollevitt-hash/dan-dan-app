/**
 * ✅ 단원 자동 인식 (강화)
 * 우선순위: 이미 world_content.js에서 CUR_UNIT 설정됨 → 그대로 사용
 * 세계문학(2): world_41~world_80 → world2_01~world2_40
 */
(function () {
  // world_content.js에서 이미 CUR_UNIT이 설정되었으면 그대로 유지
  if (window.CUR_UNIT && window.CUR_UNIT.startsWith('world2_')) {
    console.log('[world2_content.js] CUR_UNIT already set:', window.CUR_UNIT);
    return;
  }

  // 직접 world2 파일 접근 시 (fallback)
  const qs = new URLSearchParams(location.search).get('unit');
  let unit = null;

  if (qs) {
    const m = qs.toLowerCase().match(/world2[_-]?(\d{1,2})/);
    if (m) unit = `world2_${m[1].padStart(2, '0')}`;
  }

  if (!unit) {
    const m2 = location.pathname.toLowerCase().match(/world2[_-]?(\d{1,2})\.html/);
    if (m2) unit = `world2_${m2[1].padStart(2, '0')}`;
  }

  if (!unit && document.title) {
    const m3 = document.title.match(/(\d{1,2})/);
    if (m3) unit = `world2_${m3[1].padStart(2, '0')}`;
  }

  window.CUR_UNIT = unit || 'world2_01';
})();

/* ===============================
   ✅ 전역 CONTENTS 준비 (단일화)
   =============================== */
window.CONTENTS = window.CONTENTS || {};

/* ===== 콘텐츠 팩: 단원별 지문/어휘/문제/정답 =====
   ✅ 기존 const CONTENTS = {...} → window.CONTENTS 에 합치기
*/
window.CONTENTS = Object.assign(window.CONTENTS, {
  /* ===== world2_01 : "텔의 용기와 두려움" ===== */
  world2_01: {
    labelNo: '01',
    title: '🏹 텔의 용기와 두려움',
    passage: [
      '총독이 텔을 <b>얕잡아 본</b> 것은 어쩌면 당연한 일이었어요. 텔은 <b>미천한</b> 신분의 농부였으니까요. 그런 텔이 총독 앞에서 고개를 숙이지 않다니, 총독은 화가 머리끝까지 났어요.',
      '"저 건방진 놈을 당장 잡아들여라!" 총독의 명령에 병사들이 달려들어 텔을 잡아 끌었어요. 총독은 눈을 부라리며 말했어요. "네놈이 활 솜씨가 좋다며? 좋아, 네 아들 머리 위에 사과를 올려놓아라. 그리고 그 사과를 맞히면 살려 주마."',
      '총독의 <b>제안</b>을 들은 사람들은 놀라서 숨을 죽였어요. 텔도 깜짝 놀랐지만, 곧 <b>묘안</b>을 떠올렸어요. 텔은 아들을 <b>지그시 바라보며</b> 화살 두 개를 꺼냈어요. 하나는 허리에 꽂고, 다른 하나는 활시위에 걸었어요.',
      '텔은 활을 겨누며 가만히 숨을 고르다가 화살을 놓았어요. 화살은 바람을 가르며 날아가 사과 한가운데를 정확히 꿰뚫었어요. 사람들은 환호성을 질렀어요.',
      '그런데 텔의 허리춤에 꽂힌 또 다른 화살을 본 총독이 물었어요. "왜 화살을 두 개나 준비한 거냐?" 텔은 조용히 대답했어요. "만약 제 아들을 다치게 했다면, 이 화살로 당신을 쏘았을 겁니다." 텔의 <b>배짱</b>과 <b>궁리</b>에 총독은 아무 말도 하지 못하고 그를 놓아주었어요.'
    ],
    vocab: [
      ['궁리','어떤 일에 대해 깊이 생각하는 것.'],
      ['얕잡아 보다','상대방을 낮추어 업신여기다.'],
      ['미천하다','신분이나 지위가 낮고 보잘것없다.'],
      ['묘안','일을 잘 해결할 수 있는 좋은 생각이나 방법.'],
      ['활 솜씨','활을 다루는 기술이나 능력.'],
      ['제안','어떤 의견이나 조건을 내놓음.'],
      ['배짱','겁내지 않고 맞서는 용기나 담력.'],
      ['지그시 바라보다','조용하고 진지하게 바라보다.']
    ],
    vocabFill: {
      instructions: '',
      items: [
        { no: 1, text: '어떤 일에 대해 깊이 생각하는 것을 (      )라고 해요.', answer: '궁리', initials: 'ㄱㄹ', aliases: ['궁리'] },
        { no: 2, text: '상대방을 낮추어 업신여기는 것을 (          )라고 해요.', answer: '얕잡아 보다', initials: 'ㅇㅈㅇ ㅂㄷ', aliases: ['얕잡아보다','얕잡아 보다'] },
        { no: 3, text: '신분이나 지위가 낮고 보잘것없는 것을 (        )라고 해요.', answer: '미천하다', initials: 'ㅁㅊㅎㄷ', aliases: ['미천하다','미천'] },
        { no: 4, text: '일을 잘 해결할 수 있는 좋은 생각이나 방법을 (      )라고 해요.', answer: '묘안', initials: 'ㅁㅇ', aliases: ['묘안'] },
        { no: 5, text: '활을 다루는 기술이나 능력을 (        )라고 해요.', answer: '활 솜씨', initials: 'ㅎ ㅅㅅ', aliases: ['활솜씨','활 솜씨'] },
        { no: 6, text: '어떤 의견이나 조건을 내놓는 것을 (      )라고 해요.', answer: '제안', initials: 'ㅈㅇ', aliases: ['제안'] },
        { no: 7, text: '겁내지 않고 맞서는 용기나 담력을 (      )라고 해요.', answer: '배짱', initials: 'ㅂㅉ', aliases: ['배짱'] },
        { no: 8, text: '조용하고 진지하게 바라보는 것을 (            )라고 해요.', answer: '지그시 바라보다', initials: 'ㅈㄱㅅ ㅂㄹㅂㄷ', aliases: ['지그시바라보다','지그시 바라보다'] }
      ]
    },
    quiz: {
      q1_text: '총독이 텔에게 화를 낸 이유로 가장 알맞은 것은 무엇인가요?',
      q1_opts: [
        '① 텔이 총독의 명령을 무시하고 도망쳤기 때문이다.',
        '② 텔이 미천한 신분임에도 고개를 숙이지 않았기 때문이다.',
        '③ 텔이 총독의 재산을 훔쳤기 때문이다.',
        '④ 텔이 병사들과 싸움을 벌였기 때문이다.'
      ],
      q2_text: '이 글의 전개 순서로 알맞은 것은 무엇인가요?',
      q2_opts: [
        '① 텔이 활을 쏨 → 총독이 화를 냄 → 사과를 맞힘 → 화살 두 개의 이유를 말함',
        '② 총독이 화를 냄 → 텔이 잡힘 → 사과 맞히기 제안 → 활로 사과를 맞힘 → 화살 두 개의 이유를 밝힘',
        '③ 텔이 총독에게 사과함 → 병사들이 텔을 놓아줌 → 총독이 화살을 쏨',
        '④ 사람들이 환호함 → 텔이 활을 준비함 → 총독이 제안함'
      ],
      q3_1_ph: 'ㅁㅇ', q3_2_ph: 'ㅂㅉ',
      q4_1_ph: 'ㅇㄷ', q4_2_ph: 'ㅊㄷ',
      q5_text: '텔이 화살을 두 개 준비한 이유와 그 행동이 담고 있는 텔의 마음(용기, 사랑, 두려움 등)을 자신의 말로 설명해 보세요.'
    },
    answerKey: { q1:'2', q2:'2', q3_1:['묘안'], q3_2:['배짱'], q4_1:['아들'], q4_2:['총독'] },
    essayKeywords: ['아들','사랑','용기','두려움','화살','총독','보호'],
    explain: {
      q1:'해설: 텔은 미천한 신분의 농부였는데 총독 앞에서 고개를 숙이지 않아서 총독이 화가 났습니다.',
      q2:'해설: 총독이 화를 냄 → 텔이 잡힘 → 사과 맞히기 제안 → 활로 사과를 맞힘 → 화살 두 개의 이유를 밝히는 순서로 전개됩니다.',
      q3:'해설: 텔은 좋은 생각(묘안)을 떠올려 화살 두 개를 준비했고, 겁내지 않고 맞서는 용기(배짱)를 보여주었습니다.',
      q4:'해설: 텔은 아들을 다치게 하면 총독을 쏘겠다고 말했습니다. 이는 아들에 대한 사랑과 총독에 대한 용기를 보여줍니다.',
      q5:'예시: 텔은 아들이 다칠까 봐 두려웠지만, 아들을 지키기 위해 두 번째 화살을 준비했습니다. 이것은 아들을 향한 사랑과 총독에게 맞서는 용기를 동시에 보여줍니다.'
    }
  },

  /* ===== world2_02 : "소년들의 용기와 케이트의 눈물" (15소년 표류기) ===== */
  world2_02: {
    labelNo: '02',
    title: '💪 소년들의 용기와 케이트의 눈물',
    passage: [
      '케이트는 자신이 이 섬에 오기까지 겪은 일을 길게 들려주고 나서 천천히 숨을 골랐어요. 그런데 소년들은 그녀의 이야기가 끝나자 조심스럽게 자신들의 사정을 털어놓기 시작했지요. 어른 하나 없이 이곳에서 살아왔다는 사실이 믿기지 않았지만, 소년들은 지난 2년 동안 서로를 의지하며 버텨온 생활을 설명했습니다. 나이도 다르고, 서로의 언어도 다르지만 열다섯 명의 소년은 힘을 합쳐 무인도에서 살아남았던 거예요. 케이트는 어린 소년들이 해낸 용기와 노력에 마음이 뜨거워져 눈물을 글썽였어요. "정말 너희를 만나지 못했다면, 이 섬에 어떤 사람들이 숨어 있는지 전혀 알지 못한 채 위험 속에 있었을 거야…" 라고 말하며 그녀는 떨리는 숨을 내쉬었지요.',
      '소년들은 케이트에게 섬 어딘가에 매우 위험한 무리가 숨어 있다는 사실을 알려주었어요. 반란을 일으킨 월스턴과 선원들은 배에서 선장과 항해사, 케이트가 모시던 부인까지 잔혹하게 해친 뒤 사라진 사람들이었죠. 그들은 케이트가 죽었다고 생각하고 있어 더더욱 경계가 필요했어요. 고든은 표정을 굳히며 말했습니다. "저 악당들이 이 섬이 무인도라는 걸 알게 되면 우리 동굴도 금방 들키고 말 거야. 우리가 가진 무기와 식량까지 알아내면 어떤 위험한 일을 벌일지 몰라." 그 순간 브리앙은 드니팬 일행을 떠올리며 얼굴이 창백해졌어요. 서로 사이가 좋지 않아 다른 동굴로 떠난 드니팬 일행이 하필이면 악당들이 향한 방향과 거의 같았던 거예요. 지금은 예전 감정 따위를 따질 때가 아니었지요.',
      '"그럼 내가 가서 드니팬 일행을 찾아와야 해." 브리앙은 단단한 목소리로 말하며 모코에게 눈길을 보냈어요. "모코, 호수를 건너서 가 보자. 우리 둘이라면 빠르게 다녀올 수 있을 거야." 고든은 걱정스러운 눈빛으로 물었지만, 브리앙의 결심은 이미 굳어진 상태였어요. "언제 떠날 생각이지?"라고 묻자, 브리앙은 창밖으로 내려앉는 어둠을 바라보며 조용히 답했습니다. "악당들에게 들키지 않으려면… 오늘 밤이야. 밤이 우리에게 가장 안전한 길을 열어 줄 거야." 그렇게 소년들은 조용히 움직이기 시작했고, 어둠을 친구 삼아 또 하나의 위험한 여정을 준비했습니다.'
    ],
    vocab: [
      ['표류', '바람이나 물결에 밀려 떠돌아다님.'],
      ['무인도', '사람이 살지 않는 외딴 섬.'],
      ['반란', '권력을 거스르고 맞서 일어남.'],
      ['항해사', '배에서 길을 인도하는 사람.'],
      ['은신처', '숨어 있거나 몸을 피할 수 있는 곳.'],
      ['독립 선언', '다른 집단에서 벗어나 스스로 서겠다고 밝힘.'],
      ['결심', '단단히 마음먹음.'],
      ['위험 인물', '해를 끼칠 가능성이 있어 경계해야 하는 사람.']
    ],
    vocabFill: {
      instructions: '[15소년 표류기 어휘]',
      items: [
        { no: 1, text: '바람이나 물결에 밀려 떠돌아다니는 것을 (      )라고 해요.', answer: '표류', initials: 'ㅍㄹ', aliases: ['표류'] },
        { no: 2, text: '사람이 살지 않는 외딴 섬을 (      )라고 해요.', answer: '무인도', initials: 'ㅁㅇㄷ', aliases: ['무인도'] },
        { no: 3, text: '권력을 거스르고 맞서 일어나는 것을 (      )이라고 해요.', answer: '반란', initials: 'ㅂㄹ', aliases: ['반란'] },
        { no: 4, text: '배에서 길을 인도하는 사람을 (      )라고 해요.', answer: '항해사', initials: 'ㅎㅎㅅ', aliases: ['항해사'] },
        { no: 5, text: '숨어 있거나 몸을 피할 수 있는 곳을 (      )라고 해요.', answer: '은신처', initials: 'ㅇㅅㅊ', aliases: ['은신처'] },
        { no: 6, text: '다른 집단에서 벗어나 스스로 서겠다고 밝히는 것을 (        )이라고 해요.', answer: '독립 선언', initials: 'ㄷㄹ ㅅㅇ', aliases: ['독립선언','독립 선언'] },
        { no: 7, text: '단단히 마음먹는 것을 (      )이라고 해요.', answer: '결심', initials: 'ㄱㅅ', aliases: ['결심'] },
        { no: 8, text: '해를 끼칠 가능성이 있어 경계해야 하는 사람을 (        )이라고 해요.', answer: '위험 인물', initials: 'ㅇㅎ ㅇㅁ', aliases: ['위험인물','위험 인물'] }
      ]
    },
    quiz: {
      q1_text: '케이트가 소년들의 이야기를 듣고 눈물을 글썽인 이유로 가장 알맞은 것은 무엇인가요?',
      q1_opts: [
        '① 소년들이 케이트를 도와주지 않으려 해서 서운했기 때문이다.',
        '② 어린 소년들이 어른 없이 2년간 힘을 합쳐 살아남았다는 사실에 감동했기 때문이다.',
        '③ 악당들에게 쫓기던 기억이 떠올라 두려웠기 때문이다.',
        '④ 소년들이 거짓말을 하고 있다고 생각했기 때문이다.'
      ],
      q2_text: '이 글의 전개 구조로 가장 알맞은 것은 무엇인가요?',
      q2_opts: [
        '① 문제 발생 → 해결책 실행 → 결과 확인',
        '② 케이트와 소년들의 사연 공유 → 섬의 위험 상황 인식 → 브리앙의 결심과 출발 준비',
        '③ 과거 사건 설명 → 현재 갈등 묘사 → 미래 예측',
        '④ 주장 제시 → 반론 검토 → 결론 도출'
      ],
      q3_1_ph: 'ㅁㅇㄷ', q3_2_ph: 'ㅇㅅㅊ',
      q4_1_ph: 'ㄱㅅ', q4_2_ph: 'ㅂ',
      q5_text: '브리앙이 드니팬 일행과 사이가 좋지 않았음에도 그들을 찾아가기로 결심한 이유를 본문 내용을 바탕으로 설명해 보세요.'
    },
    answerKey: { q1:'2', q2:'2', q3_1:['무인도'], q3_2:['은신처'], q4_1:['결심'], q4_2:['밤','밤이','오늘 밤'] },
    essayKeywords: ['위험','악당','무법자','협력','화합','단결','함께','생존','안전','갈등','드니팬','방향'],
    explain: {
      q1:'해설: 케이트는 열다섯 명의 소년들이 어른 없이 2년간 힘을 합쳐 살아남았다는 사실에 감동하여 눈물을 글썽였습니다.',
      q2:'해설: 글은 \'케이트와 소년들의 사연 공유 → 섬의 위험 상황(악당) 인식 → 브리앙의 결심과 출발 준비\'의 순서로 전개됩니다.',
      q3:'해설: 소년들이 2년간 살아온 곳은 사람이 살지 않는 \'무인도\'이고, 악당들에게 들키지 않기 위해 \'은신처\'를 지켜야 했습니다.',
      q4:'해설: 브리앙은 단단히 마음먹어(결심) 드니팬 일행을 찾아가기로 했고, 악당들에게 들키지 않기 위해 \'밤\'을 기다리기로 했습니다.',
      q5:'예시: 드니팬 일행이 떠난 방향이 악당들이 향한 방향과 같아서 위험했기 때문에, 개인적인 감정보다 동료들의 안전이 더 중요하다고 생각했습니다.'
    }
  },

  /* ===== world2_03 : "로빈 후드의 은밀한 재판" ===== */
  world2_03: {
    labelNo: '03',
    title: '🏹 로빈 후드의 은밀한 재판',
    passage: [
      '로빈 후드는 조용히 리처드 경의 사연을 들려주기 시작했어요. 한때 명성이 높았던 리처드 경의 아들이 창술 대회에 참가했는데, 경기 중 쪼개진 창 조각이 월터 경의 눈을 찌르는 사고가 일어났고, 결국 월터 경은 그 자리에서 숨을 거두고 말았지요. 그 사건으로 리처드 경의 아들은 뜻하지 않게 살인죄를 뒤집어쓴 채 감옥에 갇혔고, 월터 경의 가문은 막대한 <b>몸값</b>으로 600파운드를 요구했습니다. 셔우드 숲으로 끌려온 히아퍼드 주교와 신부들은 이 이야기를 묵묵히 듣고 있을 뿐이었어요.',
      '"리처드 경은 아들을 구하려고 성과 땅문서까지 <b>저당</b> 잡히며 돈을 빌렸습니다. 갚아야 하는 날이 고작 사흘밖에 남지 않았지요." 로빈 후드가 말을 잇자 주교는 손을 들어 말을 끊었어요. "그게 나와 무슨 상관이란 말이냐? 주교를 이렇게 <b>대접</b>하다니! 내 병사들은 다 어디로 사라진 것이냐?" 그러나 로빈 후드는 태연했습니다. "주교 나리, 제 부하들이 무례했다면 용서해 주십시오. 이 숲에서는 누구도 신분을 이유로 특별 대접을 받지 않습니다. 준비해 둔 만찬을 즐기시며, 제 부하들의 재주도 구경하시지요." 부하들의 활쏘기와 장기가 끝나자 로빈 후드는 천천히 주교에게 다가갔어요. "누구보다 <b>청빈</b>한 삶을 사신다던 주교님, 정작 도움이 필요한 리처드 경에게는 왜 그토록 냉정하셨습니까?"',
      '주교는 가만히 입을 다문 채 대답을 피했어요. 그러자 로빈 후드는 그의 짐을 살펴보고 작은 금고를 열었는데, 그 안에는 무려 1500파운드가 곱게 쌓여 있었지요. "주교님, 이 돈의 삼분의 일은 오늘 만찬의 대가로 쓰시고, 삼분의 일은 리처드 경에게 돌려 어려움을 덜어 주십시오. 그리고 나머지 삼분의 일은 주교님께서 가져가시면 어떻습니까?" 갑작스러운 요구였지만, 주교는 모든 돈을 빼앗기지 않은 것만으로도 다행이라 여길 수밖에 없었어요. 리처드 경은 로빈 후드의 도움을 받고 무릎을 꿇을 정도로 감격했습니다. "세상천지 이런 분도 다 있군요… 로빈 후드, 이 <b>은혜</b>는 반드시 보답하겠습니다." 숲속 바람만이 조용히 불어오고, 로빈 후드는 다시 그림자처럼 숲 깊은 곳으로 사라졌어요.'
    ],
    vocab: [
      ['저당', '돈을 빌릴 때 담보로 맡기는 것'],
      ['몸값', '범죄 사건에서 보상이나 배상을 위해 요구하는 큰돈'],
      ['청빈', '욕심 없이 검소하게 사는 태도'],
      ['자선', '어려운 사람을 돕기 위해 베푸는 일'],
      ['부패', '권력이나 지위를 이용해 나쁜 짓을 하는 상태'],
      ['대접', '사람을 맞이하여 예를 갖추는 행동'],
      ['환대', '반가움과 친절로 맞아 주는 일'],
      ['은혜', '고맙고 소중한 도움']
    ],
    /* ✅ 어휘학습(빈칸) */
    vocabFill: {
      instructions: '[로빈 후드·정의 관련 어휘]',
      items: [
        { no: 1, text: '돈을 빌릴 때 담보로 맡기는 것을 (      )이라고 한다.', answer: '저당', initials: 'ㅈㄷ', aliases: ['저당'] },
        { no: 2, text: '범죄 사건에서 보상이나 배상을 위해 요구하는 큰돈을 (      )이라 한다.', answer: '몸값', initials: 'ㅁㄱ', aliases: ['몸값'] },
        { no: 3, text: '욕심 없이 검소하게 사는 태도를 (      )이라 한다.', answer: '청빈', initials: 'ㅊㅂ', aliases: ['청빈'] },
        { no: 4, text: '어려운 사람을 돕기 위해 베푸는 일을 (      )이라 한다.', answer: '자선', initials: 'ㅈㅅ', aliases: ['자선'] },
        { no: 5, text: '권력이나 지위를 이용해 나쁜 짓을 하는 상태를 (      )라고 한다.', answer: '부패', initials: 'ㅂㅍ', aliases: ['부패'] },
        { no: 6, text: '사람을 맞이하여 예를 갖추는 행동을 (      )이라 한다.', answer: '대접', initials: 'ㄷㅈ', aliases: ['대접'] },
        { no: 7, text: '반가움과 친절로 맞아 주는 일을 (      )라고 한다.', answer: '환대', initials: 'ㅎㄷ', aliases: ['환대'] },
        { no: 8, text: '고맙고 소중한 도움을 (      )라고 한다.', answer: '은혜', initials: 'ㅇㅎ', aliases: ['은혜'] }
      ]
    },
    quiz: {
      q1_text: '로빈 후드가 주교의 금고에서 돈을 나눈 방식으로 알맞은 것은 무엇인가요?',
      q1_opts: [
        '① 전부 리처드 경에게 주었다.',
        '② 절반은 자신이 갖고 절반은 주교에게 돌려주었다.',
        '③ 삼분의 일씩 만찬 대가, 리처드 경, 주교에게 나누었다.',
        '④ 전부 셔우드 숲의 부하들에게 나누어 주었다.'
      ],
      q2_text: '이 글의 전개 순서로 가장 알맞은 것은 무엇인가요?',
      q2_opts: [
        '① 로빈 후드의 등장 → 주교의 저항 → 리처드 경의 감사',
        '② 리처드 경의 사연 소개 → 주교와의 대화 → 금고 발견과 돈 분배 → 리처드 경의 감사',
        '③ 주교의 체포 → 활쏘기 대회 → 리처드 경의 석방',
        '④ 창술 대회 사고 → 월터 경의 복수 → 로빈 후드의 중재'
      ],
      q3_html: `리처드 경은 아들을 구하려고 성과 땅문서까지 <input class="inline-input" id="q3-1" type="text" placeholder="(1)"> 잡히며 돈을 빌렸고, 월터 경의 가문은 막대한 <input class="inline-input" id="q3-2" type="text" placeholder="(2)">을 요구했다.`,
      q4_html: `로빈 후드는 <input class="inline-input" id="q4-1" type="text" placeholder="(1)">한 삶을 산다던 주교가 많은 돈을 갖고 있는 것을 보고 비판했고, 리처드 경은 로빈 후드의 <input class="inline-input" id="q4-2" type="text" placeholder="(2)">에 깊이 감사했다.`,
      q3_1_ph: 'ㅈㄷ', q3_2_ph: 'ㅁㄱ', q4_1_ph: 'ㅊㅂ', q4_2_ph: 'ㅇㅎ',
      q5_text: '로빈 후드처럼 어려운 사람을 돕는 행동이 왜 중요한지 자신의 생각을 써 보세요.'
    },
    answerKey: { q1:'3', q2:'2', q3_1:['저당'], q3_2:['몸값'], q4_1:['청빈'], q4_2:['은혜','도움'] },
    essayKeywords: ['도움','나눔','정의','약자','배려','용기','자선','공정','평등'],
    explain: {
      q1:'해설: 로빈 후드는 1500파운드를 삼분의 일씩 만찬 대가, 리처드 경, 주교에게 나누었습니다.',
      q2:'해설: 글은 리처드 경의 사연 소개 → 주교와의 대화 → 금고 발견과 돈 분배 → 리처드 경의 감사 순서로 전개됩니다.',
      q3:'해설: 리처드 경은 저당을 잡히고, 월터 경 가문은 몸값을 요구했습니다.',
      q4:'해설: 주교는 청빈한 삶을 산다고 했지만 돈이 많았고, 리처드 경은 은혜에 감사했습니다.',
      q5:'예시: 어려운 사람을 돕는 것은 사회를 더 공정하고 따뜻하게 만들기 때문에 중요합니다.'
    }
  },

  /* ===== world2_04 : "말괄량이 카타리나를 둘러싼 오해와 진실" ===== */
  world2_04: {
    labelNo: '04',
    title: '💃 말괄량이 카타리나를 둘러싼 오해와 진실',
    passage: [
      '그날 저녁, 루첸티오의 집에서는 새 신랑들을 축하하는 성대한 <b>연회</b>가 열렸어요. 손님들은 음악과 음식으로 흥겨운 시간을 보내고 있었고, 루첸티오와 호르텐시오는 각자 자신이 얼마나 훌륭한 신부를 맞게 되었는지 자랑하느라 여념이 없었습니다. 두 사람은 한때 비안카의 사랑을 얻기 위해 치열하게 <b>경쟁</b>했지만, 지금은 그 순간마저 웃으며 이야기할 만큼 여유가 생겼죠. 이 모습을 지켜보던 페트루키오가 갑자기 자리에서 일어나 자신도 누구보다 좋은 아내를 얻었다며 큰소리쳤습니다.',
      '페트루키오의 말에 장인인 밥티스타가 웃음을 터뜨렸어요. 그는 사위의 <b>장담</b>을 들으며 장난스럽게 말했죠. "세상에, 내 딸 카타리나가 얌전한 아내가 되었다고? 그 애는 어릴 때부터 고집 세고 성격이 거칠기로 소문이 났단 말일세!" 밥티스타의 <b>농담</b>에 연회장은 다시 한 번 웃음바다가 되었고, 루첸티오와 호르텐시오도 고개를 끄덕이며 카타리나의 과거를 떠올렸어요. 그러나 페트루키오는 조금도 흔들리지 않았습니다. 오히려 그는 카타리나가 이제는 자신에게 누구보다 <b>순종적</b>이라며 자랑을 멈추지 않았죠.',
      '결국 페트루키오의 자신감 넘치는 태도에 세 신랑은 재미삼아 <b>내기</b>를 벌이기로 했습니다. "그렇다면 아내를 불러서 누가 가장 말을 잘 듣는지 확인해봅시다!" 페트루키오가 제안하자 모두가 동의했습니다. 먼저 루첸티오가 <b>하인</b>을 보내 비안카를 모셔오라 했어요. 하지만 얼마 지나지 않아 하인은 빈손으로 돌아왔습니다. 이어 호르텐시오도 같은 부탁을 했지만 결과는 마찬가지였죠. 두 사람의 얼굴은 <b>당황</b>스러움과 민망함으로 붉어졌습니다. 그 모습을 바라보던 페트루키오는 여유로운 미소를 지으며, 마침내 자신이 아내를 부를 차례가 되었다고 말했어요.'
    ],
    vocab: [
      ['연회(宴會)', '축하하거나 기념할 때 열리는 잔치'],
      ['경쟁', '이기기 위해 서로 겨룸'],
      ['장담', '자신 있게 말함'],
      ['순종적', '상대의 뜻을 잘 따르는 태도'],
      ['농담', '상대를 웃기기 위해 하는 말'],
      ['내기', '승부를 걸고 무엇을 맞히거나 겨루는 행위'],
      ['하인', '주인을 위해 집안일이나 심부름을 하는 사람'],
      ['당황', '예상치 못한 상황에 갈피를 잡지 못하는 상태']
    ],
    /* ✅ 어휘학습(빈칸) */
    vocabFill: {
      instructions: '[말괄량이 길들이기 관련 어휘]',
      items: [
        { no: 1, text: '축하하거나 기념할 때 열리는 잔치를 (      )라고 한다.', answer: '연회', initials: 'ㅇㅎ', aliases: ['연회'] },
        { no: 2, text: '이기기 위해 서로 겨루는 것을 (      )이라고 한다.', answer: '경쟁', initials: 'ㄱㅈ', aliases: ['경쟁'] },
        { no: 3, text: '자신 있게 말하는 것을 (      )이라고 한다.', answer: '장담', initials: 'ㅈㄷ', aliases: ['장담'] },
        { no: 4, text: '상대의 뜻을 잘 따르는 태도를 (      )이라고 한다.', answer: '순종적', initials: 'ㅅㅈㅈ', aliases: ['순종적'] },
        { no: 5, text: '상대를 웃기기 위해 하는 말을 (      )이라고 한다.', answer: '농담', initials: 'ㄴㄷ', aliases: ['농담'] },
        { no: 6, text: '승부를 걸고 무엇을 맞히거나 겨루는 행위를 (      )라고 한다.', answer: '내기', initials: 'ㄴㄱ', aliases: ['내기'] },
        { no: 7, text: '주인을 위해 집안일이나 심부름을 하는 사람을 (      )이라고 한다.', answer: '하인', initials: 'ㅎㅇ', aliases: ['하인'] },
        { no: 8, text: '예상치 못한 상황에 갈피를 잡지 못하는 상태를 (      )이라고 한다.', answer: '당황', initials: 'ㄷㅎ', aliases: ['당황'] }
      ]
    },
    quiz: {
      q1_text: '페트루키오가 연회장에서 큰소리친 이유로 가장 알맞은 것은 무엇인가요?',
      q1_opts: [
        '① 다른 신랑들보다 결혼식을 먼저 올렸기 때문이다.',
        '② 카타리나가 가장 아름다운 신부라고 생각했기 때문이다.',
        '③ 자신의 아내가 누구보다 훌륭하다고 자신했기 때문이다.',
        '④ 밥티스타에게 인정받고 싶었기 때문이다.'
      ],
      q2_text: '이 글의 전개 구조로 가장 알맞은 것은 무엇인가요?',
      q2_opts: [
        '① 문제 제기 → 해결 방법 설명 → 결론 도출',
        '② 연회 장면 → 페트루키오의 자랑과 내기 제안 → 다른 신랑들의 실패',
        '③ 과거 회상 → 현재 상황 → 미래 예측',
        '④ 주장 제시 → 근거 나열 → 결론 요약'
      ],
      q3_html: `밥티스타는 사위의 <input class="inline-input" id="q3-1" type="text" placeholder="ㅈㄷ">을 들으며 장난스럽게 <input class="inline-input" id="q3-2" type="text" placeholder="ㄴㄷ">을 했습니다.`,
      q4_html: `세 신랑은 재미삼아 <input class="inline-input" id="q4-1" type="text" placeholder="ㄴㄱ">를 벌이기로 했고, 루첸티오와 호르텐시오는 아내가 오지 않아 <input class="inline-input" id="q4-2" type="text" placeholder="ㄷㅎ">했습니다.`,
      q3_1_ph: 'ㅈㄷ', q3_2_ph: 'ㄴㄷ', q4_1_ph: 'ㄴㄱ', q4_2_ph: 'ㄷㅎ',
      q5_text: '페트루키오가 카타리나를 "누구보다 순종적인 아내"라고 자신 있게 말한 이유가 무엇인지 본문 내용을 바탕으로 추론하여 설명해 보세요.'
    },
    answerKey: { q1:'3', q2:'2', q3_1:['장담'], q3_2:['농담'], q4_1:['내기'], q4_2:['당황'] },
    essayKeywords: ['카타리나','순종','변화','자신감','내기','아내','페트루키오','신뢰'],
    explain: {
      q1:'해설: 페트루키오는 자신의 아내 카타리나가 누구보다 훌륭하다고 자신했기 때문에 큰소리쳤습니다.',
      q2:'해설: 본문은 연회 장면 → 페트루키오의 자랑과 내기 제안 → 다른 신랑들의 실패 순서로 전개됩니다.',
      q3:'해설: 밥티스타는 사위의 "장담"을 들으며 장난스럽게 "농담"을 했습니다.',
      q4:'해설: 세 신랑은 "내기"를 벌였고, 루첸티오와 호르텐시오는 아내가 오지 않아 "당황"했습니다.',
      q5:'예시: 페트루키오는 카타리나와 함께 지내며 그녀의 변화를 직접 경험했기 때문에 자신감을 가지고 말할 수 있었습니다.'
    },
    creative: {
      title: '내가 생각하는 좋은 배우자란?',
      topic: '페트루키오는 카타리나를 "순종적인 아내"라고 자랑했지만, 진정한 좋은 배우자란 어떤 사람일까요? 여러분이 생각하는 좋은 배우자의 모습을 써 보세요.',
      hint: '💡 힌트) 서로 존중하는 관계, 소통하는 방법, 함께 성장하는 모습 등을 생각해 보세요.',
      examples: [
        '예시 1) 좋은 배우자란 서로의 의견을 존중하고 대화로 문제를 해결하는 사람이라고 생각한다.',
        '예시 2) 진정한 배우자는 상대를 변화시키려 하기보다 있는 그대로를 이해하려는 사람이다.',
        '예시 3) 어려울 때 함께 고민하고 기쁠 때 함께 웃을 수 있는 사람이 좋은 배우자라고 생각한다.'
      ]
    }
  },

  /* ===== world2_05 : "올리버의 용기 있는 한마디" (올리버 트위스트) ===== */
  world2_05: {
    labelNo: '05',
    title: '🍲 올리버의 용기 있는 한마디',
    passage: [
      '올리버 트위스트는 영국의 어느 <b>구빈원</b>에서 태어났어요. 어머니는 올리버를 낳자마자 세상을 떠났고, 아버지가 누군지도 알 수 없었지요. <b>고아</b>가 된 올리버는 구빈원에서 자랐는데, 그곳의 생활은 너무나 <b>비참했어요</b>. 아이들은 늘 배가 고팠고, 하루에 주어지는 <b>죽</b> 한 그릇은 허기를 채우기에 턱없이 부족했습니다. 관리인들은 아이들을 마치 짐승처럼 다루며 조금이라도 불평하면 심하게 <b>벌을 주었어요</b>.',
      '어느 날, 아이들은 너무 배가 고파 제비뽑기를 했어요. 누군가 용기를 내어 죽을 더 달라고 말해야 했지요. 불행히도 제비는 올리버에게 걸렸습니다. 올리버는 떨리는 다리로 식당 앞에 섰어요. 관리인 범블 씨의 <b>차가운</b> 눈빛이 느껴졌지만, 올리버는 작은 목소리로 말했어요. "저기요, 선생님… 죽을 조금만 더 주실 수 있을까요?" 순간 식당은 얼어붙은 듯 <b>고요해졌어요</b>.',
      '범블 씨는 믿을 수 없다는 표정으로 올리버를 쳐다보았어요. "뭐라고? 더 달라고?" 그는 분노에 휩싸여 올리버를 붙잡아 어두운 방에 가두었습니다. 하지만 올리버의 이 작은 <b>저항</b>은 구빈원의 <b>부당함</b>을 세상에 알리는 시작이 되었지요. 올리버는 결국 구빈원에서 쫓겨나 런던으로 향하게 되었고, 그곳에서 새로운 모험이 기다리고 있었습니다. 비록 작고 약한 소년이었지만, 올리버는 불공평한 세상에 맞서 목소리를 낸 용기 있는 아이였어요.'
    ],
    vocab: [
      ['구빈원', '가난하고 의지할 곳 없는 사람들을 모아 돌보던 곳.'],
      ['고아', '부모가 없거나 버림받아 혼자 자라는 아이.'],
      ['비참하다', '형편이나 처지가 슬프고 불쌍하다.'],
      ['저항', '부당한 것에 맞서 거부하거나 대항하는 것.'],
      ['부당하다', '도리나 이치에 맞지 않다.'],
      ['벌', '잘못에 대한 대가로 받는 괴로움이나 처벌.'],
      ['허기', '먹을 것이 없어 배가 몹시 고픈 상태.'],
      ['용기', '겁을 내지 않고 어려운 일에 맞서는 마음.']
    ],
    vocabFill: {
      instructions: '[올리버 트위스트 어휘]',
      items: [
        { no: 1, text: '가난하고 의지할 곳 없는 사람들을 모아 돌보던 곳을 (      )이라고 해요.', answer: '구빈원', initials: 'ㄱㅂㅇ', aliases: ['구빈원'] },
        { no: 2, text: '부모가 없거나 버림받아 혼자 자라는 아이를 (      )라고 해요.', answer: '고아', initials: 'ㄱㅇ', aliases: ['고아'] },
        { no: 3, text: '형편이나 처지가 슬프고 불쌍한 것을 (        )라고 해요.', answer: '비참하다', initials: 'ㅂㅊㅎㄷ', aliases: ['비참하다','비참'] },
        { no: 4, text: '부당한 것에 맞서 거부하거나 대항하는 것을 (      )이라고 해요.', answer: '저항', initials: 'ㅈㅎ', aliases: ['저항'] },
        { no: 5, text: '도리나 이치에 맞지 않는 것을 (        )라고 해요.', answer: '부당하다', initials: 'ㅂㄷㅎㄷ', aliases: ['부당하다','부당'] },
        { no: 6, text: '잘못에 대한 대가로 받는 괴로움이나 처벌을 (      )이라고 해요.', answer: '벌', initials: 'ㅂ', aliases: ['벌'] },
        { no: 7, text: '먹을 것이 없어 배가 몹시 고픈 상태를 (      )라고 해요.', answer: '허기', initials: 'ㅎㄱ', aliases: ['허기'] },
        { no: 8, text: '겁을 내지 않고 어려운 일에 맞서는 마음을 (      )라고 해요.', answer: '용기', initials: 'ㅇㄱ', aliases: ['용기'] }
      ]
    },
    quiz: {
      q1_text: '올리버가 "죽을 더 달라"고 말한 이유로 가장 알맞은 것은 무엇인가요?',
      q1_opts: [
        '① 관리인에게 잘 보이고 싶어서',
        '② 다른 아이들과 내기를 해서',
        '③ 제비뽑기에 당첨되어 아이들을 대신해 말해야 했기 때문에',
        '④ 혼자서 더 많이 먹고 싶어서'
      ],
      q2_text: '이 글의 전개 구조로 가장 알맞은 것은 무엇인가요?',
      q2_opts: [
        '① 문제 제기 → 해결책 제시 → 결론 도출',
        '② 올리버의 출생과 환경 → 용기 있는 행동 → 결과와 의미',
        '③ 현재 → 과거 회상 → 미래 예측',
        '④ 주장 → 반론 → 결론'
      ],
      q3_1_ph: 'ㄱㅂㅇ', q3_2_ph: 'ㄱㅇ',
      q4_1_ph: 'ㅈㅎ', q4_2_ph: 'ㅂㄷ',
      q5_text: '올리버가 "죽을 더 달라"고 말한 행동이 왜 용기 있는 행동이라고 할 수 있는지 본문 내용을 바탕으로 설명해 보세요.'
    },
    answerKey: { q1:'3', q2:'2', q3_1:['구빈원'], q3_2:['고아'], q4_1:['저항'], q4_2:['부당함','부당'] },
    essayKeywords: ['용기','저항','배고픔','불공평','부당','벌','관리인','아이들','대신'],
    explain: {
      q1:'해설: 아이들이 제비뽑기를 했고, 올리버에게 당첨되어 아이들을 대신해 말해야 했습니다.',
      q2:'해설: 글은 \'올리버의 출생과 구빈원 환경 → 용기 있는 행동(죽을 더 달라고 함) → 결과와 의미\'의 순서로 전개됩니다.',
      q3:'해설: 올리버는 구빈원에서 태어났고, 부모 없이 혼자 자라는 고아였습니다.',
      q4:'해설: 올리버의 작은 저항은 구빈원의 부당함을 세상에 알리는 시작이 되었습니다.',
      q5:'예시: 구빈원에서는 불평하면 심한 벌을 받았기 때문에, 벌을 받을 것을 알면서도 배고픈 아이들을 대신해 말한 것은 큰 용기가 필요한 행동이었습니다.'
    },
    creative: {
      title: '🍲 불공평한 상황에 목소리 내기',
      topic: '올리버처럼 불공평하거나 부당하다고 느꼈던 상황을 떠올리고, 그때 어떻게 행동했는지 또는 어떻게 행동하고 싶었는지 써 보세요.',
      examples: [
        '예시 1) 학교에서 규칙이 불공평하다고 느꼈을 때 선생님께 의견을 말했다.',
        '예시 2) 동생만 혼나지 않을 때 부당하다고 느꼈지만 말하지 못했다. 용기를 내어 말했으면 좋겠다.',
        '예시 3) 친구가 따돌림 당할 때 도와주고 싶었지만 무서워서 못했다. 올리버처럼 용기를 내고 싶다.'
      ]
    }
  },

  /* ===== world2_06 : "지도를 보고 길을 찾아가다" (샘플 데이터) ===== */
  world2_06: {
    labelNo: '06',
    title: '🗺️ 지도를 보고 길을 찾아가다',
    passage: [
      '낯선 장소에 갔을 때 가장 먼저 하는 일은 지도를 확인하는 것입니다. 지도는 <b>방향</b>과 <b>거리</b>를 알려주어 목적지까지 안전하게 도달할 수 있게 합니다.',
      '지도를 읽을 때는 <b>축척</b>, <b>방위표</b>, <b>범례</b> 등을 이해해야 합니다. 이러한 정보를 활용하면 실제 공간에서 길을 찾는 데 큰 도움이 됩니다.',
      '요즘은 스마트폰의 <b>GPS</b> 기능으로 실시간 위치를 확인하며 길을 찾을 수 있지만, 종이 지도를 읽는 능력도 여전히 중요합니다.'
    ],
    vocab: [
      ['방향','동서남북 등 나아가는 쪽'],
      ['거리','두 지점 사이의 길이'],
      ['축척','실제와 지도의 크기 비율'],
      ['방위표','지도에서 방향을 나타내는 표시'],
      ['범례','지도 기호의 의미를 설명한 것'],
      ['GPS','위성을 이용한 위치 확인 시스템'],
      ['실시간','바로 지금 이 순간'],
      ['목적지','가고자 하는 곳'],
      ['경로','출발지에서 목적지까지의 길']
    ],
    vocabFill: {
      instructions: '[지도 읽기 어휘]',
      items: [
        { no: 1, text: '동서남북 등 나아가는 쪽을 (      )이라고 한다.', answer: '방향', initials: 'ㅂㅎ', aliases: ['방향'] },
        { no: 2, text: '두 지점 사이의 길이를 (      )라고 한다.', answer: '거리', initials: 'ㄱㄹ', aliases: ['거리'] },
        { no: 3, text: '실제와 지도의 크기 비율을 (      )이라 한다.', answer: '축척', initials: 'ㅊㅊ', aliases: ['축척'] },
        { no: 4, text: '지도에서 방향을 나타내는 표시를 (      )라 한다.', answer: '방위표', initials: 'ㅂㅇㅍ', aliases: ['방위표'] },
        { no: 5, text: '지도 기호의 의미를 설명한 것을 (      )라 한다.', answer: '범례', initials: 'ㅂㄹ', aliases: ['범례'] },
        { no: 6, text: '위성을 이용한 위치 확인 시스템을 (   )라 한다.', answer: 'GPS', initials: 'ㅈㅍㅅ', aliases: ['GPS','지피에스'] },
        { no: 7, text: '바로 지금 이 순간을 (      )이라고 한다.', answer: '실시간', initials: 'ㅅㅅㄱ', aliases: ['실시간'] },
        { no: 8, text: '가고자 하는 곳을 (      )라고 한다.', answer: '목적지', initials: 'ㅁㅈㅈ', aliases: ['목적지'] },
        { no: 9, text: '출발지에서 목적지까지의 길을 (      )라고 한다.', answer: '경로', initials: 'ㄱㄹ', aliases: ['경로'] }
      ]
    },
    quiz: {
      q1_text: '지도를 읽을 때 가장 중요한 요소는 무엇인가요?',
      q1_opts: ['① 지도의 색깔', '② 축척, 방위표, 범례', '③ 지도의 크기', '④ 지도를 만든 사람'],
      q2_text: 'GPS의 장점은 무엇인가요?',
      q2_opts: ['① 종이가 필요 없다', '② 실시간으로 위치를 확인할 수 있다', '③ 배터리가 필요 없다', '④ 항상 정확하다'],
      q3_1_ph: 'ㅊㅊ', q3_2_ph: 'ㅂㅇㅍ',
      q4_1_ph: 'ㅈㅍㅅ', q4_2_ph: 'ㅅㅅㄱ',
      q5_text: '종이 지도와 디지털 지도의 장단점을 비교하여 설명해 보세요.'
    },
    answerKey: { q1:'2', q2:'2', q3_1:['축척'], q3_2:['방위표'], q4_1:['GPS','지피에스'], q4_2:['실시간'] },
    essayKeywords: ['지도','종이','디지털','GPS','장점','단점'],
    explain: {
      q1:'해설: 축척, 방위표, 범례는 지도 읽기의 핵심 요소.',
      q2:'해설: GPS는 실시간 위치 확인이 가능함.',
      q3:'해설: 축척으로 거리를, 방위표로 방향을 알 수 있음.',
      q4:'해설: GPS는 실시간 위치 추적 가능.',
      q5:'예시: 종이 지도는 배터리 불필요, 디지털은 실시간 업데이트 가능.'
    }
  },

  /* ===== world2_07 : "세계 여러 나라의 위치와 특징" (샘플 데이터) ===== */
  world2_07: {
    labelNo: '07',
    title: '🌍 세계 여러 나라의 위치와 특징',
    passage: [
      '지구에는 약 200개가 넘는 나라가 있으며, 각 나라는 고유한 <b>지리적 위치</b>와 <b>문화</b>를 가지고 있습니다.',
      '나라의 위치는 그 나라의 <b>기후</b>, <b>산업</b>, <b>생활 방식</b>에 큰 영향을 미칩니다. 예를 들어 적도 근처 나라는 더운 날씨, 북극 근처 나라는 추운 날씨를 보입니다.',
      '세계 지도를 통해 각 나라의 위치를 파악하고, 그 특징을 이해하는 것은 <b>국제 이해</b>의 첫걸음입니다.'
    ],
    vocab: [
      ['지리적 위치','지구상에서 특정 지점이 있는 자리'],
      ['문화','한 사회의 생활 양식과 전통'],
      ['기후','어떤 지역의 평균적인 날씨'],
      ['산업','물건을 만들거나 서비스를 제공하는 일'],
      ['생활 방식','사람들이 살아가는 방법'],
      ['적도','지구의 중심을 가로지르는 가상의 선'],
      ['국제 이해','여러 나라를 이해하고 존중하는 태도'],
      ['대륙','지구를 이루는 큰 땅덩어리'],
      ['해양','지구를 둘러싼 넓은 바다']
    ],
    vocabFill: {
      instructions: '[세계 지리 어휘]',
      items: [
        { no: 1, text: '지구상에서 특정 지점이 있는 자리를 (        )라고 한다.', answer: '지리적 위치', initials: 'ㅈㄹㅈ ㅇㅊ', aliases: ['지리적위치'] },
        { no: 2, text: '한 사회의 생활 양식과 전통을 (      )라고 한다.', answer: '문화', initials: 'ㅁㅎ', aliases: ['문화'] },
        { no: 3, text: '어떤 지역의 평균적인 날씨를 (      )라고 한다.', answer: '기후', initials: 'ㄱㅎ', aliases: ['기후'] },
        { no: 4, text: '물건을 만들거나 서비스를 제공하는 일을 (      )이라 한다.', answer: '산업', initials: 'ㅅㅇ', aliases: ['산업'] },
        { no: 5, text: '사람들이 살아가는 방법을 (        )이라 한다.', answer: '생활 방식', initials: 'ㅅㅎ ㅂㅅ', aliases: ['생활방식'] },
        { no: 6, text: '지구의 중심을 가로지르는 가상의 선을 (      )라 한다.', answer: '적도', initials: 'ㅈㄷ', aliases: ['적도'] },
        { no: 7, text: '여러 나라를 이해하고 존중하는 태도를 (        )라 한다.', answer: '국제 이해', initials: 'ㄱㅈ ㅇㅎ', aliases: ['국제이해'] },
        { no: 8, text: '지구를 이루는 큰 땅덩어리를 (      )라고 한다.', answer: '대륙', initials: 'ㄷㄹ', aliases: ['대륙'] },
        { no: 9, text: '지구를 둘러싼 넓은 바다를 (      )라고 한다.', answer: '해양', initials: 'ㅎㅇ', aliases: ['해양'] }
      ]
    },
    quiz: {
      q1_text: '나라의 위치가 그 나라에 미치는 영향으로 가장 알맞은 것은?',
      q1_opts: ['① 위치는 기후와 산업에 영향을 준다', '② 위치는 아무 영향이 없다', '③ 위치는 문화와 무관하다', '④ 모든 나라의 위치는 같다'],
      q2_text: '국제 이해가 중요한 이유는 무엇인가요?',
      q2_opts: ['① 다른 나라를 비판하기 위해', '② 여러 나라를 이해하고 존중하기 위해', '③ 우리나라만 발전시키기 위해', '④ 세계 지도를 외우기 위해'],
      q3_1_ph: 'ㄱㅎ', q3_2_ph: 'ㅅㅇ',
      q4_1_ph: 'ㅈㄷ', q4_2_ph: 'ㄷㄹ',
      q5_text: '세계 여러 나라의 위치를 아는 것이 왜 중요한지 설명해 보세요.'
    },
    answerKey: { q1:'1', q2:'2', q3_1:['기후'], q3_2:['산업'], q4_1:['적도'], q4_2:['대륙'] },
    essayKeywords: ['세계','나라','위치','이해','기후','문화'],
    explain: {
      q1:'해설: 위치는 기후, 산업, 생활 방식에 영향을 미침.',
      q2:'해설: 국제 이해는 다양성 존중의 기초.',
      q3:'해설: 위치에 따라 기후와 산업이 달라짐.',
      q4:'해설: 적도 근처는 더운 기후, 대륙별로 특징 다름.',
      q5:'예시: 각 나라의 문화와 생활을 이해하고 존중하기 위해 필요함.'
    }
  },

  /* ===== world2_08 : "우리나라의 지리적 특성 이해하기" (샘플 데이터) ===== */
  world2_08: {
    labelNo: '08',
    title: '🇰🇷 우리나라의 지리적 특성 이해하기',
    passage: [
      '우리나라는 <b>한반도</b>에 위치하며, 삼면이 바다로 둘러싸여 있습니다. <b>동해</b>, <b>서해</b>, <b>남해</b>가 각각 다른 특징을 가지고 있습니다.',
      '국토의 약 70%가 산지로 이루어져 있어 <b>산악 지형</b>이 발달했습니다. 이로 인해 계곡과 분지가 많으며, 평야는 주로 서해안에 분포합니다.',
      '우리나라는 <b>사계절</b>이 뚜렷하여 계절마다 다른 풍경과 생활 모습을 보입니다.'
    ],
    vocab: [
      ['한반도','우리나라가 위치한 반도'],
      ['동해','한반도 동쪽의 바다'],
      ['서해','한반도 서쪽의 바다'],
      ['남해','한반도 남쪽의 바다'],
      ['산악 지형','산이 많은 땅의 모양'],
      ['평야','넓고 평평한 땅'],
      ['사계절','봄, 여름, 가을, 겨울'],
      ['계곡','산과 산 사이의 골짜기'],
      ['분지','주위가 산으로 둘러싸인 평지']
    ],
    vocabFill: {
      instructions: '[우리나라 지리 어휘]',
      items: [
        { no: 1, text: '우리나라가 위치한 반도를 (      )라고 한다.', answer: '한반도', initials: 'ㅎㅂㄷ', aliases: ['한반도'] },
        { no: 2, text: '한반도 동쪽의 바다를 (      )라고 한다.', answer: '동해', initials: 'ㄷㅎ', aliases: ['동해'] },
        { no: 3, text: '한반도 서쪽의 바다를 (      )라고 한다.', answer: '서해', initials: 'ㅅㅎ', aliases: ['서해'] },
        { no: 4, text: '한반도 남쪽의 바다를 (      )라고 한다.', answer: '남해', initials: 'ㄴㅎ', aliases: ['남해'] },
        { no: 5, text: '산이 많은 땅의 모양을 (        )이라 한다.', answer: '산악 지형', initials: 'ㅅㅇ ㅈㅎ', aliases: ['산악지형'] },
        { no: 6, text: '넓고 평평한 땅을 (      )라고 한다.', answer: '평야', initials: 'ㅍㅇ', aliases: ['평야'] },
        { no: 7, text: '봄, 여름, 가을, 겨울을 (      )이라 한다.', answer: '사계절', initials: 'ㅅㄱㅈ', aliases: ['사계절'] },
        { no: 8, text: '산과 산 사이의 골짜기를 (      )라고 한다.', answer: '계곡', initials: 'ㄱㄱ', aliases: ['계곡'] },
        { no: 9, text: '주위가 산으로 둘러싸인 평지를 (      )라고 한다.', answer: '분지', initials: 'ㅂㅈ', aliases: ['분지'] }
      ]
    },
    quiz: {
      q1_text: '우리나라의 지리적 특징으로 가장 알맞은 것은?',
      q1_opts: ['① 사면이 바다로 둘러싸임', '② 삼면이 바다, 산지 많음', '③ 평야만 있음', '④ 사막이 많음'],
      q2_text: '사계절이 뚜렷한 이유는 무엇인가요?',
      q2_opts: ['① 위도와 기후의 영향', '② 바다가 많아서', '③ 산이 많아서', '④ 인구가 많아서'],
      q3_1_ph: 'ㅎㅂㄷ', q3_2_ph: 'ㅅㅇ ㅈㅎ',
      q4_1_ph: 'ㅅㄱㅈ', q4_2_ph: 'ㅍㅇ',
      q5_text: '우리나라의 지리적 특징이 우리 생활에 미치는 영향을 설명해 보세요.'
    },
    answerKey: { q1:'2', q2:'1', q3_1:['한반도'], q3_2:['산악지형','산악 지형'], q4_1:['사계절'], q4_2:['평야'] },
    essayKeywords: ['한반도','산','바다','사계절','평야','생활'],
    explain: {
      q1:'해설: 삼면이 바다, 국토의 70%가 산지.',
      q2:'해설: 위도와 기후의 영향으로 사계절 뚜렷.',
      q3:'해설: 한반도는 산악 지형이 발달.',
      q4:'해설: 사계절과 평야가 농업에 영향.',
      q5:'예시: 산지는 등산 문화, 바다는 어업, 사계절은 다양한 계절 행사.'
    }
  },

  /* ===== world2_09 : "자연재해와 인간의 대응" (샘플 데이터) ===== */
  world2_09: {
    labelNo: '09',
    title: '⚠️ 자연재해와 인간의 대응',
    passage: [
      '자연재해는 <b>지진</b>, <b>태풍</b>, <b>홍수</b>, <b>가뭄</b> 등 자연 현상으로 인해 발생하는 피해를 말합니다.',
      '이러한 재해는 인간의 생명과 재산에 큰 피해를 주지만, 사전에 철저히 <b>대비</b>하고 <b>대응</b>하면 피해를 줄일 수 있습니다.',
      '최근에는 <b>재해 예측 시스템</b>과 <b>대피 훈련</b>을 통해 피해를 최소화하려는 노력이 이루어지고 있습니다.'
    ],
    vocab: [
      ['자연재해','자연 현상으로 인한 큰 피해'],
      ['지진','땅이 흔들리는 현상'],
      ['태풍','강한 바람과 비를 동반하는 열대 저기압'],
      ['홍수','물이 넘쳐 피해를 주는 현상'],
      ['가뭄','오랫동안 비가 오지 않는 현상'],
      ['대비','미리 준비하는 것'],
      ['대응','상황에 맞게 행동하는 것'],
      ['재해 예측 시스템','재해를 미리 알려주는 기술'],
      ['대피 훈련','위험 상황에서 안전하게 피하는 연습']
    ],
    vocabFill: {
      instructions: '[자연재해 어휘]',
      items: [
        { no: 1, text: '자연 현상으로 인한 큰 피해를 (        )라고 한다.', answer: '자연재해', initials: 'ㅈㅇ ㅈㅎ', aliases: ['자연재해'] },
        { no: 2, text: '땅이 흔들리는 현상을 (      )이라고 한다.', answer: '지진', initials: 'ㅈㅈ', aliases: ['지진'] },
        { no: 3, text: '강한 바람과 비를 동반하는 열대 저기압을 (      )이라 한다.', answer: '태풍', initials: 'ㅌㅍ', aliases: ['태풍'] },
        { no: 4, text: '물이 넘쳐 피해를 주는 현상을 (      )라고 한다.', answer: '홍수', initials: 'ㅎㅅ', aliases: ['홍수'] },
        { no: 5, text: '오랫동안 비가 오지 않는 현상을 (      )이라 한다.', answer: '가뭄', initials: 'ㄱㅁ', aliases: ['가뭄'] },
        { no: 6, text: '미리 준비하는 것을 (      )라고 한다.', answer: '대비', initials: 'ㄷㅂ', aliases: ['대비'] },
        { no: 7, text: '상황에 맞게 행동하는 것을 (      )라고 한다.', answer: '대응', initials: 'ㄷㅇ', aliases: ['대응'] },
        { no: 8, text: '재해를 미리 알려주는 기술을 (            )이라 한다.', answer: '재해 예측 시스템', initials: 'ㅈㅎ ㅇㅊ ㅅㅅㅌ', aliases: ['재해예측시스템'] },
        { no: 9, text: '위험 상황에서 안전하게 피하는 연습을 (        )이라 한다.', answer: '대피 훈련', initials: 'ㄷㅍ ㅎㄹ', aliases: ['대피훈련'] }
      ]
    },
    quiz: {
      q1_text: '자연재해 피해를 줄이는 방법으로 가장 알맞은 것은?',
      q1_opts: ['① 아무것도 하지 않기', '② 사전 대비와 대응', '③ 재해 후에만 행동', '④ 무조건 피하기'],
      q2_text: '대피 훈련이 중요한 이유는 무엇인가요?',
      q2_opts: ['① 재미있어서', '② 위험 상황에서 빠르게 대응하기 위해', '③ 시간을 보내기 위해', '④ 법으로 정해져서'],
      q3_1_ph: 'ㅈㅈ', q3_2_ph: 'ㅌㅍ',
      q4_1_ph: 'ㄷㅂ', q4_2_ph: 'ㄷㅇ',
      q5_text: '자연재해가 발생했을 때 우리가 해야 할 행동을 설명해 보세요.'
    },
    answerKey: { q1:'2', q2:'2', q3_1:['지진'], q3_2:['태풍'], q4_1:['대비'], q4_2:['대응'] },
    essayKeywords: ['재해','대비','대응','안전','대피','예방'],
    explain: {
      q1:'해설: 사전 대비와 신속한 대응이 피해를 줄임.',
      q2:'해설: 대피 훈련은 실제 상황에서 생명을 구함.',
      q3:'해설: 지진, 태풍 등 다양한 자연재해 존재.',
      q4:'해설: 미리 대비하고 상황에 맞게 대응해야 함.',
      q5:'예시: 안전한 곳으로 대피하고, 긴급 연락망을 확인하며, 침착하게 행동.'
    }
  },

  /* ===== world2_10 : "환경 문제와 지속 가능한 발전" (샘플 데이터) ===== */
  world2_10: {
    labelNo: '10',
    title: '🌱 환경 문제와 지속 가능한 발전',
    passage: [
      '현대 사회는 <b>환경 오염</b>, <b>지구 온난화</b>, <b>생물 다양성 감소</b> 등 심각한 환경 문제에 직면해 있습니다.',
      '이러한 문제를 해결하기 위해서는 <b>재생 에너지</b> 사용, <b>재활용</b>, <b>탄소 배출 감소</b> 등의 노력이 필요합니다.',
      '<b>지속 가능한 발전</b>은 현재 세대의 필요를 충족하면서도 미래 세대의 환경을 보호하는 것을 의미합니다.'
    ],
    vocab: [
      ['환경 오염','공기, 물, 토양이 더러워지는 것'],
      ['지구 온난화','지구의 평균 기온이 높아지는 현상'],
      ['생물 다양성','여러 종류의 생물이 존재하는 것'],
      ['재생 에너지','다시 만들어 쓸 수 있는 에너지'],
      ['재활용','쓴 물건을 다시 사용하는 것'],
      ['탄소 배출','이산화탄소를 내보내는 것'],
      ['지속 가능한 발전','미래를 위한 균형 잡힌 발전'],
      ['온실가스','지구를 덥게 만드는 기체'],
      ['친환경','환경을 보호하는']
    ],
    vocabFill: {
      instructions: '[환경과 발전 어휘]',
      items: [
        { no: 1, text: '공기, 물, 토양이 더러워지는 것을 (        )이라 한다.', answer: '환경 오염', initials: 'ㅎㄱ ㅇㅇ', aliases: ['환경오염'] },
        { no: 2, text: '지구의 평균 기온이 높아지는 현상을 (          )이라 한다.', answer: '지구 온난화', initials: 'ㅈㄱ ㅇㄴㅎ', aliases: ['지구온난화'] },
        { no: 3, text: '여러 종류의 생물이 존재하는 것을 (          )이라 한다.', answer: '생물 다양성', initials: 'ㅅㅁ ㄷㅇㅅ', aliases: ['생물다양성'] },
        { no: 4, text: '다시 만들어 쓸 수 있는 에너지를 (        )라 한다.', answer: '재생 에너지', initials: 'ㅈㅅ ㅇㄴㅈ', aliases: ['재생에너지'] },
        { no: 5, text: '쓴 물건을 다시 사용하는 것을 (      )이라 한다.', answer: '재활용', initials: 'ㅈㅎㅇ', aliases: ['재활용'] },
        { no: 6, text: '이산화탄소를 내보내는 것을 (        )이라 한다.', answer: '탄소 배출', initials: 'ㅌㅅ ㅂㅊ', aliases: ['탄소배출'] },
        { no: 7, text: '미래를 위한 균형 잡힌 발전을 (            )이라 한다.', answer: '지속 가능한 발전', initials: 'ㅈㅅ ㄱㄴㅎ ㅂㅈ', aliases: ['지속가능한발전'] },
        { no: 8, text: '지구를 덥게 만드는 기체를 (      )라고 한다.', answer: '온실가스', initials: 'ㅇㅅㄱㅅ', aliases: ['온실가스'] },
        { no: 9, text: '환경을 보호하는 것을 (      )이라고 한다.', answer: '친환경', initials: 'ㅊㅎㄱ', aliases: ['친환경'] }
      ]
    },
    quiz: {
      q1_text: '지속 가능한 발전의 의미로 가장 알맞은 것은?',
      q1_opts: ['① 현재만 생각', '② 미래 세대도 고려', '③ 개발 중단', '④ 환경 파괴'],
      q2_text: '환경 보호를 위해 우리가 할 수 있는 일은?',
      q2_opts: ['① 일회용품 많이 쓰기', '② 재활용하기', '③ 에너지 낭비', '④ 쓰레기 버리기'],
      q3_1_ph: 'ㅎㄱ ㅇㅇ', q3_2_ph: 'ㅈㄱ ㅇㄴㅎ',
      q4_1_ph: 'ㅈㅎㅇ', q4_2_ph: 'ㅈㅅ ㅇㄴㅈ',
      q5_text: '지속 가능한 발전을 위해 개인이 실천할 수 있는 방법을 설명해 보세요.'
    },
    answerKey: { q1:'2', q2:'2', q3_1:['환경오염','환경 오염'], q3_2:['지구온난화','지구 온난화'], q4_1:['재활용'], q4_2:['재생에너지','재생 에너지'] },
    essayKeywords: ['환경','재활용','에너지','탄소','지속','실천'],
    explain: {
      q1:'해설: 지속 가능한 발전은 미래 세대를 고려한 균형 발전.',
      q2:'해설: 재활용은 환경 보호의 기본 실천.',
      q3:'해설: 환경 오염과 지구 온난화는 현대의 주요 문제.',
      q4:'해설: 재활용과 재생 에너지가 핵심 해결책.',
      q5:'예시: 일회용품 줄이기, 분리수거, 대중교통 이용, 에너지 절약.'
    }
  },

  /* ===== world2_11 ~ world2_20 샘플 데이터 (더 간략하게) ===== */

  world2_11: {
    labelNo: '11',
    title: '🏙️ 도시와 농촌의 차이',
    passage: ['도시는 인구가 많고 다양한 산업이 발달한 곳입니다.','농촌은 자연과 가까우며 농업이 중심입니다.','각각의 특징을 이해하고 조화롭게 발전해야 합니다.'],
    vocab: [['도시','인구와 시설이 밀집한 곳'],['농촌','농업 중심의 시골 지역'],['인구 밀집','사람이 많이 모여 사는 것'],['산업','생산과 서비스 활동'],['농업','농사를 짓는 일'],['교통','이동 수단과 시스템'],['인프라','기반 시설'],['생활 환경','사람들이 사는 조건'],['조화','균형 있게 어울림']],
    vocabFill: { instructions: '[도시와 농촌]', items: [
      {no:1,text:'인구와 시설이 밀집한 곳을 (   )라고 한다.',answer:'도시',initials:'ㄷㅅ',aliases:['도시']},
      {no:2,text:'농업 중심의 시골 지역을 (   )이라 한다.',answer:'농촌',initials:'ㄴㅊ',aliases:['농촌']},
      {no:3,text:'사람이 많이 모여 사는 것을 (      )이라 한다.',answer:'인구 밀집',initials:'ㅇㄱ ㅁㅈ',aliases:['인구밀집']},
      {no:4,text:'생산과 서비스 활동을 (   )이라 한다.',answer:'산업',initials:'ㅅㅇ',aliases:['산업']},
      {no:5,text:'농사를 짓는 일을 (   )이라 한다.',answer:'농업',initials:'ㄴㅇ',aliases:['농업']},
      {no:6,text:'이동 수단과 시스템을 (   )이라 한다.',answer:'교통',initials:'ㄱㅌ',aliases:['교통']},
      {no:7,text:'기반 시설을 (     )라고 한다.',answer:'인프라',initials:'ㅇㅍㄹ',aliases:['인프라']},
      {no:8,text:'사람들이 사는 조건을 (      )이라 한다.',answer:'생활 환경',initials:'ㅅㅎ ㅎㄱ',aliases:['생활환경']},
      {no:9,text:'균형 있게 어울림을 (   )라고 한다.',answer:'조화',initials:'ㅈㅎ',aliases:['조화']}
    ]},
    quiz: {q1_text:'도시의 특징은?',q1_opts:['① 인구 많음','② 인구 적음','③ 농업만','④ 시설 없음'],q2_text:'농촌의 장점은?',q2_opts:['① 자연과 가까움','② 시설 많음','③ 인구 많음','④ 공기 나쁨'],q3_1_ph:'ㄷㅅ',q3_2_ph:'ㄴㅊ',q4_1_ph:'ㅅㅇ',q4_2_ph:'ㄴㅇ',q5_text:'도시와 농촌이 조화롭게 발전하려면 어떻게 해야 할까요?'},
    answerKey: {q1:'1',q2:'1',q3_1:['도시'],q3_2:['농촌'],q4_1:['산업'],q4_2:['농업']},
    essayKeywords: ['도시','농촌','조화','발전','균형'],
    explain: {q1:'해설: 도시는 인구와 시설이 밀집.',q2:'해설: 농촌은 자연환경이 좋음.',q3:'해설: 도시와 농촌 각각의 특징.',q4:'해설: 도시=산업, 농촌=농업.',q5:'예시: 상호 교류와 균형 발전 필요.'}
  },

  world2_12: {
    labelNo: '12',
    title: '🚄 교통과 통신의 발달',
    passage: ['교통은 사람과 물건을 옮기는 수단입니다.','통신은 정보를 주고받는 방법입니다.','둘 다 현대 사회를 연결하는 중요한 역할을 합니다.'],
    vocab: [['교통','이동 수단'],['통신','정보 전달'],['발달','발전하여 나아감'],['연결','이어 붙임'],['정보','알아야 할 내용'],['수단','방법이나 도구'],['네트워크','연결망'],['기술','과학적 방법'],['현대','지금의 시대']],
    vocabFill: { instructions: '[교통과 통신]', items: [
      {no:1,text:'이동 수단을 (   )이라 한다.',answer:'교통',initials:'ㄱㅌ',aliases:['교통']},
      {no:2,text:'정보 전달을 (   )이라 한다.',answer:'통신',initials:'ㅌㅅ',aliases:['통신']},
      {no:3,text:'발전하여 나아감을 (   )이라 한다.',answer:'발달',initials:'ㅂㄷ',aliases:['발달']},
      {no:4,text:'이어 붙임을 (   )이라 한다.',answer:'연결',initials:'ㅇㄱ',aliases:['연결']},
      {no:5,text:'알아야 할 내용을 (   )이라 한다.',answer:'정보',initials:'ㅈㅂ',aliases:['정보']},
      {no:6,text:'방법이나 도구를 (   )이라 한다.',answer:'수단',initials:'ㅅㄷ',aliases:['수단']},
      {no:7,text:'연결망을 (     )라고 한다.',answer:'네트워크',initials:'ㄴㅌㅇㅋ',aliases:['네트워크']},
      {no:8,text:'과학적 방법을 (   )이라 한다.',answer:'기술',initials:'ㄱㅅ',aliases:['기술']},
      {no:9,text:'지금의 시대를 (   )라고 한다.',answer:'현대',initials:'ㅎㄷ',aliases:['현대']}
    ]},
    quiz: {q1_text:'교통 발달의 영향은?',q1_opts:['① 이동 빨라짐','② 느려짐','③ 정보만 전달','④ 변화 없음'],q2_text:'통신의 중요성은?',q2_opts:['① 정보 빠르게 전달','② 필요 없음','③ 이동만 가능','④ 느림'],q3_1_ph:'ㄱㅌ',q3_2_ph:'ㅌㅅ',q4_1_ph:'ㅂㄷ',q4_2_ph:'ㄱㅅ',q5_text:'교통과 통신의 발달이 우리 생활에 미친 영향을 설명해 보세요.'},
    answerKey: {q1:'1',q2:'1',q3_1:['교통'],q3_2:['통신'],q4_1:['발달'],q4_2:['기술']},
    essayKeywords: ['교통','통신','발달','연결','편리','생활'],
    explain: {q1:'해설: 교통 발달로 이동 시간 단축.',q2:'해설: 통신으로 정보 신속 전달.',q3:'해설: 교통과 통신의 정의.',q4:'해설: 기술 발달이 핵심.',q5:'예시: 빠른 이동, 즉각적 정보 교환, 세계화 촉진.'}
  },

  world2_13: {
    labelNo: '13',
    title: '👨‍👩‍👧‍👦 인구 분포와 이동',
    passage: ['인구는 사람들이 사는 지역에 따라 분포가 다릅니다.','일자리와 생활 환경을 찾아 사람들이 이동합니다.','인구 분포와 이동은 지역 발전에 영향을 줍니다.'],
    vocab: [['인구','사람의 수'],['분포','퍼져 있는 상태'],['이동','장소를 옮김'],['도시화','도시로 인구 집중'],['일자리','직업과 고용'],['환경','주변 조건'],['밀도','단위 면적당 수'],['이촌향도','농촌→도시'],['정주','한곳에 머무름']],
    vocabFill: { instructions: '[인구 분포와 이동]', items: [
      {no:1,text:'사람의 수를 (   )라고 한다.',answer:'인구',initials:'ㅇㄱ',aliases:['인구']},
      {no:2,text:'퍼져 있는 상태를 (   )라 한다.',answer:'분포',initials:'ㅂㅍ',aliases:['분포']},
      {no:3,text:'장소를 옮김을 (   )이라 한다.',answer:'이동',initials:'ㅇㄷ',aliases:['이동']},
      {no:4,text:'도시로 인구가 집중되는 것을 (    )라고 한다.',answer:'도시화',initials:'ㄷㅅㅎ',aliases:['도시화']},
      {no:5,text:'직업과 고용을 (    )라고 한다.',answer:'일자리',initials:'ㅇㅈㄹ',aliases:['일자리']},
      {no:6,text:'주변 조건을 (   )이라 한다.',answer:'환경',initials:'ㅎㄱ',aliases:['환경']},
      {no:7,text:'단위 면적당 수를 (   )라고 한다.',answer:'밀도',initials:'ㅁㄷ',aliases:['밀도']},
      {no:8,text:'농촌에서 도시로 이동을 (      )라고 한다.',answer:'이촌향도',initials:'ㅇㅊㅎㄷ',aliases:['이촌향도']},
      {no:9,text:'한곳에 머무름을 (   )라고 한다.',answer:'정주',initials:'ㅈㅈ',aliases:['정주']}
    ]},
    quiz: {q1_text:'인구 이동의 주요 원인은?',q1_opts:['① 일자리','② 무관심','③ 강제','④ 여행'],q2_text:'도시화의 문제점은?',q2_opts:['① 인구 집중','② 인구 감소','③ 발전 없음','④ 농업 증가'],q3_1_ph:'ㅇㄱ',q3_2_ph:'ㅂㅍ',q4_1_ph:'ㅇㄷ',q4_2_ph:'ㄷㅅㅎ',q5_text:'인구 이동이 지역에 미치는 영향을 설명해 보세요.'},
    answerKey: {q1:'1',q2:'1',q3_1:['인구'],q3_2:['분포'],q4_1:['이동'],q4_2:['도시화']},
    essayKeywords: ['인구','이동','분포','도시','일자리','영향'],
    explain: {q1:'해설: 일자리를 찾아 이동.',q2:'해설: 도시 인구 집중 문제.',q3:'해설: 인구와 분포 정의.',q4:'해설: 이동과 도시화.',q5:'예시: 도시는 과밀, 농촌은 과소화.'}
  },

  world2_14: {
    labelNo: '14',
    title: '🏭 산업의 발달과 지역 변화',
    passage: ['산업이 발달하면서 지역의 모습이 크게 변했습니다.','공업 지역과 상업 지역이 생겨났습니다.','산업 발달은 경제 성장을 가져오지만 환경 문제도 발생합니다.'],
    vocab: [['산업','생산 활동'],['공업','제품 제조'],['상업','물건 사고파는 일'],['발달','성장하여 발전'],['경제','재화와 서비스'],['지역','특정한 장소'],['성장','커지고 발전'],['환경 문제','자연 훼손'],['균형 발전','골고루 발전']],
    vocabFill: { instructions: '[산업과 지역]', items: [
      {no:1,text:'생산 활동을 (   )이라 한다.',answer:'산업',initials:'ㅅㅇ',aliases:['산업']},
      {no:2,text:'제품 제조를 (   )이라 한다.',answer:'공업',initials:'ㄱㅇ',aliases:['공업']},
      {no:3,text:'물건 사고파는 일을 (   )이라 한다.',answer:'상업',initials:'ㅅㅇ',aliases:['상업']},
      {no:4,text:'성장하여 발전함을 (   )이라 한다.',answer:'발달',initials:'ㅂㄷ',aliases:['발달']},
      {no:5,text:'재화와 서비스를 (   )라고 한다.',answer:'경제',initials:'ㄱㅈ',aliases:['경제']},
      {no:6,text:'특정한 장소를 (   )라고 한다.',answer:'지역',initials:'ㅈㅇ',aliases:['지역']},
      {no:7,text:'커지고 발전함을 (   )이라 한다.',answer:'성장',initials:'ㅅㅈ',aliases:['성장']},
      {no:8,text:'자연 훼손을 (      )이라 한다.',answer:'환경 문제',initials:'ㅎㄱ ㅁㅈ',aliases:['환경문제']},
      {no:9,text:'골고루 발전을 (      )이라 한다.',answer:'균형 발전',initials:'ㄱㅎ ㅂㅈ',aliases:['균형발전']}
    ]},
    quiz: {q1_text:'산업 발달의 긍정적 영향은?',q1_opts:['① 경제 성장','② 환경 파괴','③ 인구 감소','④ 후퇴'],q2_text:'산업 발달의 문제점은?',q2_opts:['① 환경 오염','② 발전 없음','③ 인구 증가','④ 기술 퇴보'],q3_1_ph:'ㅅㅇ',q3_2_ph:'ㄱㅇ',q4_1_ph:'ㄱㅈ',q4_2_ph:'ㅎㄱ',q5_text:'산업 발달이 지역에 미친 변화를 설명해 보세요.'},
    answerKey: {q1:'1',q2:'1',q3_1:['산업'],q3_2:['공업'],q4_1:['경제'],q4_2:['환경']},
    essayKeywords: ['산업','발달','지역','경제','환경','변화'],
    explain: {q1:'해설: 산업 발달로 경제 성장.',q2:'해설: 환경 오염 발생.',q3:'해설: 산업과 공업.',q4:'해설: 경제와 환경.',q5:'예시: 도시 형성, 일자리 증가, 환경 오염.'}
  },

  world2_15: {
    labelNo: '15',
    title: '🌦️ 세계의 다양한 기후',
    passage: ['세계 각지는 다양한 기후를 가지고 있습니다.','기후는 그 지역의 생활과 문화에 영향을 줍니다.','열대, 온대, 한대 등 기후대가 있습니다.'],
    vocab: [['기후','평균 날씨'],['열대','매우 더운 지역'],['온대','따뜻한 지역'],['한대','매우 추운 지역'],['기후대','기후 구분 영역'],['강수량','비 오는 양'],['기온','공기의 온도'],['계절','시간에 따른 날씨 변화'],['영향','결과에 미치는 힘']],
    vocabFill: { instructions: '[세계 기후]', items: [
      {no:1,text:'평균 날씨를 (   )라고 한다.',answer:'기후',initials:'ㄱㅎ',aliases:['기후']},
      {no:2,text:'매우 더운 지역을 (   )라고 한다.',answer:'열대',initials:'ㅇㄷ',aliases:['열대']},
      {no:3,text:'따뜻한 지역을 (   )라고 한다.',answer:'온대',initials:'ㅇㄷ',aliases:['온대']},
      {no:4,text:'매우 추운 지역을 (   )라고 한다.',answer:'한대',initials:'ㅎㄷ',aliases:['한대']},
      {no:5,text:'기후 구분 영역을 (    )라고 한다.',answer:'기후대',initials:'ㄱㅎㄷ',aliases:['기후대']},
      {no:6,text:'비 오는 양을 (    )라고 한다.',answer:'강수량',initials:'ㄱㅅㄹ',aliases:['강수량']},
      {no:7,text:'공기의 온도를 (   )이라 한다.',answer:'기온',initials:'ㄱㅇ',aliases:['기온']},
      {no:8,text:'시간에 따른 날씨 변화를 (   )이라 한다.',answer:'계절',initials:'ㄱㅈ',aliases:['계절']},
      {no:9,text:'결과에 미치는 힘을 (   )이라 한다.',answer:'영향',initials:'ㅇㅎ',aliases:['영향']}
    ]},
    quiz: {q1_text:'기후가 생활에 미치는 영향은?',q1_opts:['① 의식주 결정','② 영향 없음','③ 언어만 결정','④ 색깔만 결정'],q2_text:'열대 기후의 특징은?',q2_opts:['① 매우 더움','② 매우 추움','③ 사계절 뚜렷','④ 비 안 옴'],q3_1_ph:'ㄱㅎ',q3_2_ph:'ㅇㄷ',q4_1_ph:'ㄱㅎㄷ',q4_2_ph:'ㄱㅅㄹ',q5_text:'기후가 지역 문화에 미치는 영향을 설명해 보세요.'},
    answerKey: {q1:'1',q2:'1',q3_1:['기후'],q3_2:['열대'],q4_1:['기후대'],q4_2:['강수량']},
    essayKeywords: ['기후','열대','온대','한대','생활','문화'],
    explain: {q1:'해설: 기후가 의식주 결정.',q2:'해설: 열대는 매우 더움.',q3:'해설: 기후와 열대.',q4:'해설: 기후대와 강수량.',q5:'예시: 더운 지역은 가벼운 옷, 추운 지역은 두꺼운 옷.'}
  },

  world2_16: {
    labelNo: '16',
    title: '⛏️ 자원의 분포와 이용',
    passage: ['자원은 인간에게 필요한 물질입니다.','석유, 석탄, 광물 등이 있습니다.','자원은 지역마다 분포가 다르며 한정적입니다.'],
    vocab: [['자원','필요한 물질'],['석유','연료 원료'],['석탄','연료 광물'],['광물','땅속 자원'],['분포','퍼진 상태'],['한정적','제한된'],['이용','사용함'],['채굴','캐냄'],['보존','아껴 지킴']],
    vocabFill: { instructions: '[자원 분포와 이용]', items: [
      {no:1,text:'필요한 물질을 (   )이라 한다.',answer:'자원',initials:'ㅈㅇ',aliases:['자원']},
      {no:2,text:'연료 원료를 (   )라고 한다.',answer:'석유',initials:'ㅅㅇ',aliases:['석유']},
      {no:3,text:'연료 광물을 (   )이라 한다.',answer:'석탄',initials:'ㅅㅌ',aliases:['석탄']},
      {no:4,text:'땅속 자원을 (   )이라 한다.',answer:'광물',initials:'ㄱㅁ',aliases:['광물']},
      {no:5,text:'퍼진 상태를 (   )라고 한다.',answer:'분포',initials:'ㅂㅍ',aliases:['분포']},
      {no:6,text:'제한된 것을 (    )이라고 한다.',answer:'한정적',initials:'ㅎㅈㅈ',aliases:['한정적']},
      {no:7,text:'사용함을 (   )이라 한다.',answer:'이용',initials:'ㅇㅇ',aliases:['이용']},
      {no:8,text:'캐냄을 (   )이라 한다.',answer:'채굴',initials:'ㅊㄱ',aliases:['채굴']},
      {no:9,text:'아껴 지킴을 (   )이라 한다.',answer:'보존',initials:'ㅂㅈ',aliases:['보존']}
    ]},
    quiz: {q1_text:'자원이 한정적인 이유는?',q1_opts:['① 다시 안 만들어짐','② 무한함','③ 필요 없음','④ 항상 생김'],q2_text:'자원 보존 방법은?',q2_opts:['① 아껴 쓰기','② 많이 쓰기','③ 버리기','④ 무시하기'],q3_1_ph:'ㅈㅇ',q3_2_ph:'ㅂㅍ',q4_1_ph:'ㅎㅈㅈ',q4_2_ph:'ㅂㅈ',q5_text:'자원을 아껴 써야 하는 이유를 설명해 보세요.'},
    answerKey: {q1:'1',q2:'1',q3_1:['자원'],q3_2:['분포'],q4_1:['한정적'],q4_2:['보존']},
    essayKeywords: ['자원','한정','보존','이용','미래'],
    explain: {q1:'해설: 자원은 다시 안 만들어짐.',q2:'해설: 아껴 쓰는 것이 보존.',q3:'해설: 자원과 분포.',q4:'해설: 한정적이므로 보존 필요.',q5:'예시: 미래 세대를 위해 자원 절약 필요.'}
  },

  world2_17: {
    labelNo: '17',
    title: '🎭 문화와 지리적 특성',
    passage: ['지리적 환경은 문화 형성에 영향을 줍니다.','산지, 해안, 평야 등에 따라 다른 문화가 발달합니다.','문화는 지역의 정체성을 만듭니다.'],
    vocab: [['문화','생활 양식'],['지리적','땅과 관련된'],['환경','주변 조건'],['정체성','고유한 특성'],['전통','옛것을 이어옴'],['풍습','관습과 습관'],['의식주','옷,음식,집'],['다양성','여러 가지'],['공존','함께 존재']],
    vocabFill: { instructions: '[문화와 지리]', items: [
      {no:1,text:'생활 양식을 (   )이라 한다.',answer:'문화',initials:'ㅁㅎ',aliases:['문화']},
      {no:2,text:'땅과 관련된 것을 (    )이라고 한다.',answer:'지리적',initials:'ㅈㄹㅈ',aliases:['지리적']},
      {no:3,text:'주변 조건을 (   )이라 한다.',answer:'환경',initials:'ㅎㄱ',aliases:['환경']},
      {no:4,text:'고유한 특성을 (    )이라 한다.',answer:'정체성',initials:'ㅈㅊㅅ',aliases:['정체성']},
      {no:5,text:'옛것을 이어옴을 (   )이라 한다.',answer:'전통',initials:'ㅈㅌ',aliases:['전통']},
      {no:6,text:'관습과 습관을 (   )이라 한다.',answer:'풍습',initials:'ㅍㅅ',aliases:['풍습']},
      {no:7,text:'옷,음식,집을 (    )라고 한다.',answer:'의식주',initials:'ㅇㅅㅈ',aliases:['의식주']},
      {no:8,text:'여러 가지를 (    )라고 한다.',answer:'다양성',initials:'ㄷㅇㅅ',aliases:['다양성']},
      {no:9,text:'함께 존재함을 (   )이라 한다.',answer:'공존',initials:'ㄱㅈ',aliases:['공존']}
    ]},
    quiz: {q1_text:'지리적 환경이 문화에 미치는 영향은?',q1_opts:['① 생활 방식 결정','② 영향 없음','③ 언어만 결정','④ 색깔만 결정'],q2_text:'문화 다양성의 의미는?',q2_opts:['① 여러 문화 존중','② 한 가지만','③ 무시함','④ 통일'],q3_1_ph:'ㅁㅎ',q3_2_ph:'ㅈㄹㅈ',q4_1_ph:'ㅈㅊㅅ',q4_2_ph:'ㄷㅇㅅ',q5_text:'지리적 환경이 문화 형성에 어떤 영향을 주는지 설명해 보세요.'},
    answerKey: {q1:'1',q2:'1',q3_1:['문화'],q3_2:['지리적'],q4_1:['정체성'],q4_2:['다양성']},
    essayKeywords: ['문화','지리','환경','다양성','정체성'],
    explain: {q1:'해설: 환경이 생활 방식 결정.',q2:'해설: 다양성은 여러 문화 존중.',q3:'해설: 문화와 지리적.',q4:'해설: 정체성과 다양성.',q5:'예시: 산지는 산림 문화, 해안은 어업 문화 발달.'}
  },

  world2_18: {
    labelNo: '18',
    title: '🌐 국제 무역과 경제 협력',
    passage: ['국가 간 물건을 사고파는 것을 무역이라 합니다.','무역은 경제 발전에 도움을 줍니다.','국제 협력으로 함께 발전할 수 있습니다.'],
    vocab: [['무역','국가 간 거래'],['수출','물건 팔기'],['수입','물건 사기'],['경제','재화와 서비스'],['협력','함께 도움'],['국제','나라 사이'],['발전','성장함'],['교류','주고받음'],['상호 의존','서로 의지']],
    vocabFill: { instructions: '[국제 무역]', items: [
      {no:1,text:'국가 간 거래를 (   )라고 한다.',answer:'무역',initials:'ㅁㅇ',aliases:['무역']},
      {no:2,text:'물건 팔기를 (   )라고 한다.',answer:'수출',initials:'ㅅㅊ',aliases:['수출']},
      {no:3,text:'물건 사기를 (   )라고 한다.',answer:'수입',initials:'ㅅㅇ',aliases:['수입']},
      {no:4,text:'재화와 서비스를 (   )라고 한다.',answer:'경제',initials:'ㄱㅈ',aliases:['경제']},
      {no:5,text:'함께 도움을 (   )이라 한다.',answer:'협력',initials:'ㅎㄹ',aliases:['협력']},
      {no:6,text:'나라 사이를 (   )라고 한다.',answer:'국제',initials:'ㄱㅈ',aliases:['국제']},
      {no:7,text:'성장함을 (   )이라 한다.',answer:'발전',initials:'ㅂㅈ',aliases:['발전']},
      {no:8,text:'주고받음을 (   )이라 한다.',answer:'교류',initials:'ㄱㄹ',aliases:['교류']},
      {no:9,text:'서로 의지함을 (      )라고 한다.',answer:'상호 의존',initials:'ㅅㅎ ㅇㅈ',aliases:['상호의존']}
    ]},
    quiz: {q1_text:'무역의 장점은?',q1_opts:['① 경제 성장','② 고립','③ 감소','④ 중단'],q2_text:'국제 협력이 중요한 이유는?',q2_opts:['① 함께 발전','② 경쟁만','③ 단절','④ 무시'],q3_1_ph:'ㅁㅇ',q3_2_ph:'ㅅㅊ',q4_1_ph:'ㅎㄹ',q4_2_ph:'ㄱㅈ',q5_text:'국제 무역이 경제에 미치는 영향을 설명해 보세요.'},
    answerKey: {q1:'1',q2:'1',q3_1:['무역'],q3_2:['수출'],q4_1:['협력'],q4_2:['국제']},
    essayKeywords: ['무역','수출','수입','협력','발전'],
    explain: {q1:'해설: 무역으로 경제 성장.',q2:'해설: 협력으로 함께 발전.',q3:'해설: 무역과 수출.',q4:'해설: 협력과 국제.',q5:'예시: 필요한 물건 교환, 경제 활성화, 상호 발전.'}
  },

  world2_19: {
    labelNo: '19',
    title: '🌏 지구촌 문제와 해결 방안',
    passage: ['지구촌은 전 세계가 하나로 연결된 것입니다.','환경, 빈곤, 전쟁 등 공동 문제가 있습니다.','협력하여 함께 해결해야 합니다.'],
    vocab: [['지구촌','세계가 하나로'],['환경 문제','자연 훼손'],['빈곤','가난한 상태'],['전쟁','무력 충돌'],['해결','문제 풀기'],['협력','함께 도움'],['공동','함께 하는'],['지속 가능','미래도 유지'],['연대','함께 뭉침']],
    vocabFill: { instructions: '[지구촌 문제]', items: [
      {no:1,text:'세계가 하나로 연결된 것을 (    )라고 한다.',answer:'지구촌',initials:'ㅈㄱㅊ',aliases:['지구촌']},
      {no:2,text:'자연 훼손을 (      )이라 한다.',answer:'환경 문제',initials:'ㅎㄱ ㅁㅈ',aliases:['환경문제']},
      {no:3,text:'가난한 상태를 (   )이라 한다.',answer:'빈곤',initials:'ㅂㄱ',aliases:['빈곤']},
      {no:4,text:'무력 충돌을 (   )이라 한다.',answer:'전쟁',initials:'ㅈㅈ',aliases:['전쟁']},
      {no:5,text:'문제 풀기를 (   )이라 한다.',answer:'해결',initials:'ㅎㄱ',aliases:['해결']},
      {no:6,text:'함께 도움을 (   )이라 한다.',answer:'협력',initials:'ㅎㄹ',aliases:['협력']},
      {no:7,text:'함께 하는 것을 (   )이라 한다.',answer:'공동',initials:'ㄱㄷ',aliases:['공동']},
      {no:8,text:'미래도 유지를 (        )이라 한다.',answer:'지속 가능',initials:'ㅈㅅ ㄱㄴ',aliases:['지속가능']},
      {no:9,text:'함께 뭉침을 (   )라고 한다.',answer:'연대',initials:'ㅇㄷ',aliases:['연대']}
    ]},
    quiz: {q1_text:'지구촌 문제 해결 방법은?',q1_opts:['① 국제 협력','② 무시','③ 방치','④ 혼자 해결'],q2_text:'지속 가능 발전이 중요한 이유는?',q2_opts:['① 미래 세대 위해','② 현재만','③ 개발만','④ 파괴'],q3_1_ph:'ㅈㄱㅊ',q3_2_ph:'ㅎㄱ ㅁㅈ',q4_1_ph:'ㅎㄹ',q4_2_ph:'ㅎㄱ',q5_text:'지구촌 문제를 해결하기 위해 우리가 할 수 있는 일을 설명해 보세요.'},
    answerKey: {q1:'1',q2:'1',q3_1:['지구촌'],q3_2:['환경문제','환경 문제'],q4_1:['협력'],q4_2:['해결']},
    essayKeywords: ['지구촌','협력','환경','해결','지속'],
    explain: {q1:'해설: 국제 협력으로 해결.',q2:'해설: 미래 세대를 위해.',q3:'해설: 지구촌과 환경 문제.',q4:'해설: 협력과 해결.',q5:'예시: 환경 보호, 기부, 봉사, 평화 노력.'}
  },

  world2_20: {
    labelNo: '20',
    title: '🔮 미래의 지리적 변화와 전망',
    passage: ['미래에는 기후 변화와 기술 발전이 지리를 바꿀 것입니다.','새로운 도시와 교통 수단이 생길 것입니다.','우리는 미래를 준비하고 대비해야 합니다.'],
    vocab: [['미래','앞으로의 시간'],['전망','예상과 예측'],['변화','달라짐'],['기술 발전','과학 진보'],['기후 변화','날씨 변동'],['대비','준비함'],['예측','미리 짐작'],['지속 가능','미래 유지'],['혁신','새로운 변화']],
    vocabFill: { instructions: '[미래 전망]', items: [
      {no:1,text:'앞으로의 시간을 (   )라고 한다.',answer:'미래',initials:'ㅁㄹ',aliases:['미래']},
      {no:2,text:'예상과 예측을 (   )이라 한다.',answer:'전망',initials:'ㅈㅁ',aliases:['전망']},
      {no:3,text:'달라짐을 (   )이라 한다.',answer:'변화',initials:'ㅂㅎ',aliases:['변화']},
      {no:4,text:'과학 진보를 (      )이라 한다.',answer:'기술 발전',initials:'ㄱㅅ ㅂㅈ',aliases:['기술발전']},
      {no:5,text:'날씨 변동을 (      )이라 한다.',answer:'기후 변화',initials:'ㄱㅎ ㅂㅎ',aliases:['기후변화']},
      {no:6,text:'준비함을 (   )라고 한다.',answer:'대비',initials:'ㄷㅂ',aliases:['대비']},
      {no:7,text:'미리 짐작함을 (   )이라 한다.',answer:'예측',initials:'ㅇㅊ',aliases:['예측']},
      {no:8,text:'미래 유지를 (        )이라 한다.',answer:'지속 가능',initials:'ㅈㅅ ㄱㄴ',aliases:['지속가능']},
      {no:9,text:'새로운 변화를 (   )이라 한다.',answer:'혁신',initials:'ㅎㅅ',aliases:['혁신']}
    ]},
    quiz: {q1_text:'미래 지리 변화의 주요 요인은?',q1_opts:['① 기후·기술','② 변화 없음','③ 과거만','④ 무관심'],q2_text:'미래를 준비하는 방법은?',q2_opts:['① 지속 가능 발전','② 방치','③ 무시','④ 파괴'],q3_1_ph:'ㅁㄹ',q3_2_ph:'ㅂㅎ',q4_1_ph:'ㄱㅅ ㅂㅈ',q4_2_ph:'ㄷㅂ',q5_text:'미래의 지리적 변화를 예측하고 우리가 준비해야 할 것을 설명해 보세요.'},
    answerKey: {q1:'1',q2:'1',q3_1:['미래'],q3_2:['변화'],q4_1:['기술발전','기술 발전'],q4_2:['대비']},
    essayKeywords: ['미래','변화','기술','기후','준비','지속'],
    explain: {q1:'해설: 기후 변화와 기술 발전이 주요 요인.',q2:'해설: 지속 가능한 발전으로 준비.',q3:'해설: 미래와 변화.',q4:'해설: 기술 발전에 대비.',q5:'예시: 환경 보호, 새 기술 학습, 적응력 키우기.'}
  }
});

// ✅ 세계문학(2) 콘텐츠 로드 완료 이벤트 발생
console.log('[world2_content.js] CONTENTS 등록 완료, world2_01 존재:', !!window.CONTENTS.world2_01);
window.WORLD2_CONTENT_LOADED = true;
window.dispatchEvent(new CustomEvent('world2ContentLoaded'));

/* ===============================
   ★ 어휘 빈칸 렌더러 & 탭 이벤트
=================================*/
function getCurrentUnit() {
  return (window.CUR_UNIT || 'world2_01');
}

window.renderVocabFill = function () {
  const unit = window.CUR_UNIT || 'world2_01';
  const pack = window.CONTENTS?.[unit];
  const root = document.getElementById('vocab-fill')
            || document.querySelector('.vocab-fill-text');

  if (!root || !pack?.vocabFill?.items?.length) {
    console.warn('[vocab] root or items missing:', { root: !!root, unit, items: pack?.vocabFill?.items?.length });
    return;
  }

  const html = (pack.vocabFill.items || []).map(({ no, text, answer, initials }) => {
    const slot = `
      <span class="blank-wrap" data-answer="${answer}">
        <span class="blank-icon">${no}</span>
        <span class="blank-mark"></span>
        <input type="text" class="blank-input" placeholder="${initials || ''}">
      </span>
    `;
    const p = text.replace(/\(\s*[-＿—\u00A0]*\s*\)/, slot);
    return `<p>${p}</p>`;
  }).join('');

  root.innerHTML = `
    <div class="vocab-instruction">${pack.vocabFill.instructions || ''}</div>
    <div class="vocab-inline">${html}</div>
  `;

  (function ensureVocabInlineStyle(){
    if (document.getElementById('vocab-inline-style')) return;
    const st = document.createElement('style');
    st.id = 'vocab-inline-style';
    st.textContent = `
      .vocab-box .vocab-inline > p { display:inline !important; margin:0 !important; }
      .vocab-box .vocab-inline > p + p::before { content:" "; }
      #vocab-fill .vocab-inline > p,
      .vocab-fill-text .vocab-inline > p { display:inline !important; margin:0 !important; }
      #vocab-fill .vocab-inline > p + p::before,
      .vocab-fill-text .vocab-inline > p + p::before { content:" "; }
      .vocab-inline { line-height: 5.0 !important; }
    `;
    document.head.appendChild(st);
  })();

  window.reportState = window.reportState || {};
  window.reportState.vocabTotal = pack.vocabFill.items.length;

  // ✅ 어휘 렌더링 직후 상태 복원
  setTimeout(() => {
    // 1. localStorage에서 복원
    if (typeof window.loadVocabState === 'function') {
      window.loadVocabState();
    }
    // 2. 서버 데이터가 있으면 서버 데이터로 복원 (우선순위 높음)
    if (typeof window.restoreVocabFromServerData === 'function') {
      window.restoreVocabFromServerData();
    }
  }, 100);
};

let _tabEventsInitialized = false;
function _bindTabEvents() {
  if (_tabEventsInitialized) return;
  _tabEventsInitialized = true;
  document.addEventListener('click', (e)=>{
    const btn = e.target.closest('[data-tab]');
    if (!btn) return;
    const tab = btn.getAttribute('data-tab');
    if (tab === 'vocab') renderVocabFill();
  });
}

/* ===== 텍스트 주입 ===== */
function applyContentPack(unitKey) {
  console.log('[applyContentPack] 호출됨, unitKey:', unitKey);
  const pack = window.CONTENTS[unitKey];
  if (!pack) {
    console.error('[applyContentPack] pack이 없음! unitKey:', unitKey);
    return;
  }

  const labelNoEl = document.querySelector('.passage-label strong');
  const titleEl   = document.querySelector('.passage-title');
  if (labelNoEl) labelNoEl.textContent = pack.labelNo;
  if (titleEl)   titleEl.innerHTML = pack.title;

  const passageBox = document.querySelector('.passage-text');
  if (passageBox) {
    passageBox.innerHTML = pack.passage.map(p => `<p>${p}</p>`).join('');
  }

  const vocabBox = document.querySelector('.passage-vocab ol');
  if (vocabBox) vocabBox.innerHTML = pack.vocab.map(([w,d]) => `<li><b>${w}</b>: ${d}</li>`).join('');

  const blocks = Array.from(document.querySelectorAll('#tab-reading .quiz-block'));

  if (blocks[0]) {
    const q1Text = blocks[0].querySelector('.quiz-q');
    const q1Lis  = blocks[0].querySelectorAll('.quiz-options li');
    if (q1Text) q1Text.textContent = pack.quiz.q1_text;
    if (q1Lis.length === 4) {
      q1Lis.forEach((li,i)=> li.innerHTML = `<label><input type="radio" name="q1" value="${i+1}"><span>${pack.quiz.q1_opts[i]}</span></label>`);
    }
  }

  if (blocks[1]) {
    const q2Text = blocks[1].querySelector('.quiz-q');
    const q2Lis  = blocks[1].querySelectorAll('.quiz-options li');
    if (q2Text) q2Text.textContent = pack.quiz.q2_text;
    if (q2Lis.length === 4) {
      q2Lis.forEach((li,i)=> li.innerHTML = `<label><input type="radio" name="q2" value="${i+1}"><span>${pack.quiz.q2_opts[i]}</span></label>`);
    }
  }

  if (blocks[2]) {
    const q3P = blocks[2].querySelector('.quiz-q');
    if (q3P && pack.quiz.q3_html) q3P.innerHTML = pack.quiz.q3_html;
    const q3_1 = document.getElementById('q3-1');
    const q3_2 = document.getElementById('q3-2');
    if (q3_1 && pack.quiz.q3_1_ph) q3_1.placeholder = pack.quiz.q3_1_ph;
    if (q3_2 && pack.quiz.q3_2_ph) q3_2.placeholder = pack.quiz.q3_2_ph;
  }

  if (blocks[3]) {
    const q4P = blocks[3].querySelector('.quiz-q');
    if (q4P && pack.quiz.q4_html) q4P.innerHTML = pack.quiz.q4_html;
    const q4_1 = document.getElementById('q4-1');
    const q4_2 = document.getElementById('q4-2');
    if (q4_1 && pack.quiz.q4_1_ph) q4_1.placeholder = pack.quiz.q4_1_ph;
    if (q4_2 && pack.quiz.q4_2_ph) q4_2.placeholder = pack.quiz.q4_2_ph;
  }

  if (blocks[4]) {
    const q5Text = blocks[4].querySelector('.quiz-q');
    if (q5Text && pack.quiz.q5_text) q5Text.textContent = pack.quiz.q5_text;
  }

  // ✅ 모든 콘텐츠 로드 완료 후 로딩 오버레이 숨기기
  requestAnimationFrame(() => {
    const loadingOverlay = document.getElementById('loadingOverlay');
    if (loadingOverlay) {
      // 분석리포트 탭일 경우 1.3초 후에 숨기기
      const unit = window.CUR_UNIT || 'world2_01';
      const savedTab = localStorage.getItem(`current-geo-tab:${unit}`);
      const delay = (savedTab === 'report') ? 1300 : 0;

      setTimeout(() => {
        loadingOverlay.classList.remove('show');
        console.log('[applyContentPack] 로딩 오버레이 숨김 완료');
      }, delay);
    }
  });
}

/* ==== 본문학습 상태 저장/복원 ==== */
function getCurrentStudentForReading() {
  const saved = localStorage.getItem('currentStudent');
  if (!saved) return null;
  try { return JSON.parse(saved); } catch (e) { return null; }
}

function buildStudentKeyForReading(stu) {
  const cleanPhone = (stu.phone || '').replace(/\D/g, '');
  const cleanName  = (stu.name  || '').trim();
  const cleanGrade = (stu.grade || '').trim();
  return `${cleanGrade}_${cleanName}_${cleanPhone}`;
}

window.getStudentKey = function () {
  const stu = getCurrentStudentForReading();
  if (!stu) return '';
  return buildStudentKeyForReading(stu);
};

function getReadingStateKey(unit) {
  const stu = getCurrentStudentForReading();
  if (!stu) return `dan-reading-state:${unit}`;
  const studentKey = buildStudentKeyForReading(stu);
  return `dan-reading-state:${studentKey}:${unit}`;
}

function saveReadingState() {
  try {
    const unit = window.CUR_UNIT || 'world2_01';
    const key  = getReadingStateKey(unit);
    const q1   = document.querySelector('input[name="q1"]:checked');
    const q2   = document.querySelector('input[name="q2"]:checked');
    const q3_1 = document.getElementById('q3-1');
    const q3_2 = document.getElementById('q3-2');
    const q4_1 = document.getElementById('q4-1');
    const q4_2 = document.getElementById('q4-2');
    const q5   = document.getElementById('q5');
    const state = {
      graded: true,
      q1: q1 ? q1.value : '',
      q2: q2 ? q2.value : '',
      q3_1: q3_1 ? q3_1.value : '',
      q3_2: q3_2 ? q3_2.value : '',
      q4_1: q4_1 ? q4_1.value : '',
      q4_2: q4_2 ? q4_2.value : '',
      q5: q5 ? q5.value : ''
    };
    localStorage.setItem(key, JSON.stringify(state));
  } catch (e) { console.warn('saveReadingState error', e); }
}

function loadReadingState() {
  try {
    const unit = window.CUR_UNIT || 'world2_01';
    const key  = getReadingStateKey(unit);
    const raw  = localStorage.getItem(key);
    if (!raw) return;
    const state = JSON.parse(raw);
    if (!state) return;
    if (state.q1) {
      const r1 = document.querySelector(`input[name="q1"][value="${state.q1}"]`);
      if (r1) r1.checked = true;
    }
    if (state.q2) {
      const r2 = document.querySelector(`input[name="q2"][value="${state.q2}"]`);
      if (r2) r2.checked = true;
    }
    const q3_1 = document.getElementById('q3-1');
    const q3_2 = document.getElementById('q3-2');
    const q4_1 = document.getElementById('q4-1');
    const q4_2 = document.getElementById('q4-2');
    const q5   = document.getElementById('q5');
    if (q3_1 && state.q3_1 !== undefined) q3_1.value = state.q3_1;
    if (q3_2 && state.q3_2 !== undefined) q3_2.value = state.q3_2;
    if (q4_1 && state.q4_1 !== undefined) q4_1.value = state.q4_1;
    if (q4_2 && state.q4_2 !== undefined) q4_2.value = state.q4_2;
    if (q5 && state.q5 !== undefined) q5.value = state.q5;
    if (state.graded && typeof window.gradeQuiz === 'function') {
      setTimeout(() => { try { window.gradeQuiz(); } catch (e) { console.warn('auto re-grade error', e); } }, 0);
    }
  } catch (e) { console.warn('loadReadingState error', e); }
}

/* ===== 통합 채점기 ===== */
window.gradeQuiz = function () {
  const pack = window.CONTENTS[window.CUR_UNIT] || window.CONTENTS.world2_01;
  const A = pack.answerKey;
  const EX = pack.explain;

  const quizBlocks = document.querySelectorAll('#tab-reading .quiz-block');
  const numLabels = ["01","02","03","04","05"];
  quizBlocks.forEach((block, idx) => {
    const numEl = block.querySelector('.quiz-num');
    if (!numEl) return;
    let markEl = numEl.querySelector('.mark');
    if (!markEl) {
      markEl = document.createElement('div');
      markEl.className = 'mark';
      numEl.appendChild(markEl);
    }
    numEl.textContent = numLabels[idx];
    numEl.appendChild(markEl);
    numEl.classList.remove('correct','wrong');
    markEl.textContent = '';
  });

  let score = 0;
  const totalAuto = 4;
  const shortMsgs = [];
  const fullMsgs = [];

  function norm(s){ return (s||'').toString().replace(/\s+/g,'').toLowerCase(); }
  function mark(idx, ok, label, ex, isEssay=false){
    const num = quizBlocks[idx]?.querySelector('.quiz-num');
    const markEl = num?.querySelector('.mark');
    if (ok) {
      score++;
      num?.classList.add('correct');
      if(markEl) markEl.textContent='⭕';
      shortMsgs.push(`${label} 정답 ✅`);
      fullMsgs.push(`${label} 정답 ✅ ${ex||''}`);
    } else {
      num?.classList.add('wrong');
      if(markEl) markEl.textContent='✖';
      shortMsgs.push(`${label} ${isEssay?'서술형: ':''}오답 ❌`);
      fullMsgs.push(`${label} ${isEssay?'서술형: ':''}오답 ❌ ${ex||''}`);
    }
  }

  const q1 = document.querySelector('input[name="q1"]:checked');
  const q1ok = (q1 && q1.value === A.q1);
  mark(0, q1ok, '①', EX.q1);

  const q2 = document.querySelector('input[name="q2"]:checked');
  const q2ok = (q2 && q2.value === A.q2);
  mark(1, q2ok, '②', EX.q2);

  const q3New = document.getElementById('q3');
  const q3Old1 = document.getElementById('q3-1');
  const q3Old2 = document.getElementById('q3-2');
  const q3Text1 = q3New ? q3New.value.trim() : (q3Old1?.value || '').trim();
  const q3Text2 = q3New ? '' : (q3Old2?.value || '').trim();
  const ok3_1 = A.q3_1.some(a => norm(a) === norm(q3Text1));
  const ok3_2 = A.q3_2 ? A.q3_2.some(a => norm(a) === norm(q3Text2)) : true;
  const q3ok = ok3_1 && ok3_2;
  mark(2, q3ok, '③', EX.q3);

  const q4New = document.getElementById('q4');
  const q4Old1 = document.getElementById('q4-1');
  const q4Old2 = document.getElementById('q4-2');
  const q4Text1 = q4New ? q4New.value.trim() : (q4Old1?.value || '').trim();
  const q4Text2 = q4New ? '' : (q4Old2?.value || '').trim();
  const ok4_1 = A.q4_1.some(a => norm(a) === norm(q4Text1));
  const ok4_2 = A.q4_2 ? A.q4_2.some(a => norm(a) === norm(q4Text2)) : true;
  const q4ok = ok4_1 && ok4_2;
  mark(3, q4ok, '④', EX.q4);

  const essay = (document.getElementById('q5')?.value || '').trim().toLowerCase();
  const keys = (pack.essayKeywords && Array.isArray(pack.essayKeywords) && pack.essayKeywords.length)
    ? pack.essayKeywords : ["등고선","간격","좁","넓","급경사","완만","경사"];
  let hit = 0;
  keys.forEach(k => { if (essay.includes(k)) hit++; });
  const q5ok = essay.length && hit >= 2;
  mark(4, q5ok, '⑤', EX.q5, true);

  const box = document.getElementById('grade-result');
  if (box) {
    box.style.display = 'block';
    box.innerHTML = `<p><strong>점수: ${score} / ${totalAuto}</strong></p>` + shortMsgs.map(m => `<p>${m}</p>`).join('');
  }
  window.fullResultHTML = `<p><strong>점수: ${score} / ${totalAuto}</strong></p>` + fullMsgs.map(m => `<p>${m}</p>`).join('');

  ['grade-btn','reset-btn','submit-btn'].forEach(id => {
    const el = document.getElementById(id);
    if (el) el.style.display='inline-block';
  });

  window.reportState = window.reportState || {};
  window.reportState.q1ok=q1ok;
  window.reportState.q2ok=q2ok;
  window.reportState.q3ok=q3ok;
  window.reportState.q4ok=q4ok;
  window.reportState.q5ok=q5ok;

  if (typeof updateReportPanel==='function') {
    const lexicalRatio = (typeof window.reportState.vocabScoreRatio==='number') ? window.reportState.vocabScoreRatio : 0;
    const lexicalOk = lexicalRatio >= 0.7;
    updateReportPanel({
      q1ok,q2ok,q3ok,q4ok,q5ok,
      messages:[
        "① 핵심 이해력: " + (q1ok?"좋아요! ✅":"보완 필요 ❗"),
        "② 구조 파악력: " + (q2ok?"좋아요! ✅":"보완 필요 ❗"),
        "③ 어휘 맥락력: " + (lexicalOk?"좋아요! ✅":"어휘 복습 필요 ❗"),
        "④ 추론·통합력: " + (q4ok?"좋아요! ✅":"보완 필요 ❗"),
        "⑤ 비판·적용력: " + (q5ok?"좋아요! ✅":"보완 필요 ❗")
      ]
    });
  }

  const radarScores = {
    literal: q1ok ? 10 : 6,
    structural: q2ok ? 10 : 6,
    lexical: q3ok ? 10 : 6,
    inferential: q4ok ? 10 : 6,
    critical: q5ok ? 10 : 6
  };
  window._lastRadar = radarScores;
  if (typeof updateRadarChart === 'function') updateRadarChart(radarScores);
  if (typeof drawRadarChart === 'function') drawRadarChart(radarScores);
  window.reportState.radarScores = radarScores;
  if (typeof saveReadingState === 'function') saveReadingState();
};

/* === 정답·해설 패널 렌더러 === */
function renderSolutions(pack) {
  const A = pack.answerKey, EX = pack.explain;
  const q1Text = pack.quiz.q1_opts[Number(A.q1) - 1] || '';
  const q2Text = pack.quiz.q2_opts[Number(A.q2) - 1] || '';

  // grade-result (점수 박스) 안의 하단에 해설 추가
  const gradeResult = document.getElementById('grade-result');
  if (!gradeResult) return;

  // 기존 solutions-box가 있으면 제거
  let box = document.getElementById('solutions-box');
  if (box) box.remove();

  // 새로운 solutions-box를 grade-result 내부 하단에 추가
  box = document.createElement('div');
  box.id = 'solutions-box';
  box.style.marginTop = '16px';
  box.style.paddingTop = '12px';
  box.style.borderTop = '1px dashed #e5d4c1';
  box.style.lineHeight = '1.6';

  box.innerHTML = `
    <h3 style="margin:0 0 10px; font-size:16px; color:#8b2f2f;">정답 · 해설</h3>
    <ol style="margin:0; padding-left:18px;">
      <li style="margin-bottom:8px;"><b>① 정답:</b> ${A.q1} — ${q1Text}<br><span style="color:#6b5a48;">${EX.q1 || ''}</span></li>
      <li style="margin-bottom:8px;"><b>② 정답:</b> ${A.q2} — ${q2Text}<br><span style="color:#6b5a48;">${EX.q2 || ''}</span></li>
      <li style="margin-bottom:8px;"><b>③ 정답(두 칸):</b> ${Array.isArray(A.q3_1)?A.q3_1[0]:A.q3_1} / ${Array.isArray(A.q3_2)?A.q3_2[0]:A.q3_2}<br><span style="color:#6b5a48;">${EX.q3 || ''}</span></li>
      <li style="margin-bottom:8px;"><b>④ 정답(두 칸):</b> ${Array.isArray(A.q4_1)?A.q4_1[0]:A.q4_1} / ${Array.isArray(A.q4_2)?A.q4_2[0]:A.q4_2}<br><span style="color:#6b5a48;">${EX.q4 || ''}</span></li>
      <li><b>⑤ 서술형 예시:</b> <span style="color:#6b5a48;">${EX.q5 || '핵심어 2개 이상 포함 시 정답 처리'}</span></li>
    </ol>
  `;

  // grade-result 내부 하단에 추가
  gradeResult.appendChild(box);
}

/* ========== 공통 진행도 매니저 ========== */
window.DanDan = window.DanDan || {};
(function () {
  if (window.DanDan.ProgressManager) return;

  function detectUnit() {
    let unitParam = new URLSearchParams(location.search).get('unit');
    if (!unitParam) {
      const m = location.pathname.match(/world2_(\d+)\.html/i);
      if (m) unitParam = `world2_${m[1].padStart(2, '0')}`;
    }
    return (unitParam || (window.CUR_UNIT || 'world2_01')).toLowerCase();
  }

  function buildStudentKey(stu) {
    const cleanPhone = (stu.phone || '').replace(/\D/g, '');
    const cleanName  = (stu.name  || '').trim();
    const cleanGrade = (stu.grade || '').trim();
    return `${cleanGrade}_${cleanName}_${cleanPhone}`;
  }

  function getCurrentStudent() {
    const saved = localStorage.getItem('currentStudent');
    if (!saved) return null;
    try { return JSON.parse(saved); } catch { return null; }
  }

  function buildProgressKey(stu, unit) {
    return `dan-progress:${buildStudentKey(stu)}:${unit}`;
  }

  function readDoneList() {
    const stu = getCurrentStudent();
    if (!stu) return { keyPrefix: null, list: [] };
    const unitList = [];
    const studentKey = buildStudentKey(stu);
    const prefix = `dan-progress:${studentKey}:`;
    for (let i = 0; i < localStorage.length; i++) {
      const k = localStorage.key(i);
      if (!k || !k.startsWith(prefix)) continue;
      const unit = k.slice(prefix.length);
      const val  = localStorage.getItem(k);
      if (val) unitList.push(unit);
    }
    return { keyPrefix: prefix, list: unitList };
  }

  const ProgressManager = {
    getUnit: detectUnit,
    markComplete() {
      const stu = getCurrentStudent();
      if (!stu) return null;
      const unit = detectUnit();
      const key  = buildProgressKey(stu, unit);
      const pageKey = `BRAINUP_worldlit_${unit}`;
      let saved = [];
      try {
        const existing = localStorage.getItem(key);
        if (existing) saved = JSON.parse(existing);
        if (!Array.isArray(saved)) saved = [];
      } catch(e) { saved = []; }
      if (!saved.includes(pageKey)) saved.push(pageKey);
      localStorage.setItem(key, JSON.stringify(saved));
      return key;
    },
    isCompleted(unitOptional) {
      const stu = getCurrentStudent();
      if (!stu) return false;
      const unit = (unitOptional || detectUnit());
      const key  = buildProgressKey(stu, unit);
      return !!localStorage.getItem(key);
    },
    getStudentProgress() { return readDoneList(); }
  };
  window.DanDan.ProgressManager = ProgressManager;

  (function hookSubmitReport() {
    const original = window.submitReport;
    window.submitReport = async function (...args) {
      const stu = getCurrentStudent();
      if (!stu) { alert('로그인한 학생 정보가 없습니다.'); return; }
      if (typeof original === 'function') {
        await original.apply(this, args);
      } else if (typeof window.captureElementToPDF === 'function') {
        await captureElementToPDF('capture-report', '단단국어_분석리포트.pdf', { withStudentInfo: true });
      }
      const key = ProgressManager.markComplete();
      if (typeof window.showSubmitSuccess === 'function') showSubmitSuccess('분석리포트');
      else console.log(`학습완료 처리됨: ${key}`);
      if (typeof window.sendLearningLog === 'function') {
        try { await window.sendLearningLog(); } catch (e) { console.warn('[submitReport] sendLearningLog 실패', e); }
      }
    };
  })();
})();

/* ===== 창의활동 제출 ===== */
window.submitCreative = async function () {
  const textarea   = document.getElementById('creative-input');
  const renderBox  = document.getElementById('creative-render');
  const captureBox = document.getElementById('capture-creative');
  if (!textarea || !renderBox || !captureBox) {
    alert('창의활동 영역을 찾을 수 없습니다.');
    return;
  }
  try {
    renderBox.textContent = textarea.value || '';
    textarea.style.display  = 'none';
    renderBox.style.display = 'block';
    if (typeof window.captureElementToPDF === 'function') {
      await window.captureElementToPDF('capture-creative', '단단국어_창의활동.pdf', { withStudentInfo: true });
    } else if (window.html2canvas && window.jsPDF) {
      const canvas = await html2canvas(captureBox);
      const imgData = canvas.toDataURL('image/png');
      const pdf = new jsPDF('p', 'mm', 'a4');
      const pageW = pdf.internal.pageSize.getWidth();
      const pageH = (canvas.height * pageW) / canvas.width;
      pdf.addImage(imgData, 'PNG', 0, 0, pageW, pageH);
      pdf.save('단단국어_창의활동.pdf');
    } else {
      alert('PDF 모듈을 찾을 수 없습니다.');
    }
    if (typeof window.showSubmitSuccess === 'function') window.showSubmitSuccess('창의활동');
  } catch (e) {
    console.warn('submitCreative error', e);
    alert('창의활동 PDF 생성 중 오류가 발생했습니다.');
  } finally {
    if (textarea)   textarea.style.display  = 'block';
    if (renderBox)  renderBox.style.display = 'none';
  }
};

/* ===== 서버 완료 상태 동기화 ===== */
window.loadCompletionStatus = async function () {
  try {
    let stu = null;
    try {
      const raw = localStorage.getItem('currentStudent');
      if (raw) stu = JSON.parse(raw);
    } catch (e) { return; }
    if (!stu) return;
    const params = new URLSearchParams({ grade: stu.grade || '', name: stu.name || '', series: 'BRAIN업' });
    const res = await fetch(`/api/completion-status?${params}`, { method: 'GET', headers: { 'Content-Type': 'application/json' } });
    if (!res.ok) return;
    const data = await res.json();
    if (data.ok && Array.isArray(data.completedUnits)) {
      const cleanPhone = (stu.phone || '').replace(/\D/g, '');
      const cleanName  = (stu.name  || '').trim();
      const cleanGrade = (stu.grade || '').trim();
      const studentKey = `${cleanGrade}_${cleanName}_${cleanPhone}`;
      const keyPrefix = `dan-progress:${studentKey}:`;
      data.completedUnits.forEach(unit => {
        localStorage.setItem(keyPrefix + unit, '1');
      });
    }
  } catch (e) { console.warn('[loadCompletionStatus] 오류', e); }
};

window.sendLearningLog = async function () {
  try {
    const unit = window.ORIGINAL_UNIT || window.CUR_UNIT || 'world2_01';
    let stu = null;
    try {
      const raw = localStorage.getItem('currentStudent');
      if (raw) stu = JSON.parse(raw);
    } catch (e) { return; }
    if (!stu) return;
    const radar = (window.reportState && window.reportState.radarScores) ? window.reportState.radarScores : null;
    const payload = { grade: stu.grade || '', name: stu.name || '', school: stu.school || '', series: 'BRAIN업', unit, radar, completed: true };
    const res = await fetch('/api/log', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
    let data = {};
    try { data = await res.json(); } catch (_) {}
    console.log('[sendLearningLog] result =', data);
  } catch (e) { console.warn('sendLearningLog error', e); }
};

/* ===== DOMContentLoaded ===== */
document.addEventListener('DOMContentLoaded', async () => {
  if (typeof window.loadCompletionStatus === 'function') await loadCompletionStatus();
  applyContentPack(window.CUR_UNIT);
  _bindTabEvents();
  if (location.hash.includes('어휘학습') || document.querySelector('#vocab-fill')) renderVocabFill();
  ['grade-btn','reset-btn','submit-btn'].forEach(id => {
    const el = document.getElementById(id);
    if (el) el.type = 'button';
  });
  const submitBtn = document.getElementById('submit-btn');
  if (submitBtn) {
    submitBtn.addEventListener('click', () => {
      try {
        if (typeof window.gradeQuiz === 'function') gradeQuiz();
        const pack = window.CONTENTS[window.CUR_UNIT] || window.CONTENTS.world2_01;
        renderSolutions(pack);
      } catch (e) { console.warn('submit-btn handler error', e); }
    });
  }
  const creativeBtn = document.getElementById('creative-submit-btn');
  if (creativeBtn && typeof window.submitCreative === 'function') {
    creativeBtn.type = 'button';
    creativeBtn.addEventListener('click', () => submitCreative());
  }
  if (typeof loadReadingState === 'function') loadReadingState();
});
