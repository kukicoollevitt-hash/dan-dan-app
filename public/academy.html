<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI BRAIN ë¬¸í•´ë ¥ | í•™ì›ìš©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #F7F1E5;
            min-height: 100vh;
        }

        .landing-container {
            max-width: 100%;
            margin: 0 auto;
            overflow-x: hidden;
            background: transparent;
        }

        /* ì„¹ì…˜ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .section {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: transparent;
            margin-bottom: 40px;
        }

        .section.no-margin {
            margin-bottom: 0;
        }

        .section img,
        .section video {
            width: 100%;
            max-width: 1400px;
            height: auto;
            display: block;
            background: transparent;
        }

        /* ë¹„ë””ì˜¤ ì„¹ì…˜ */
        .video-section video {
            width: 100%;
            max-width: 1400px;
            height: auto;
        }

        /* FAQ ì„¹ì…˜ */
        .faq-section {
            background: linear-gradient(180deg, #F7F1E5 0%, #EDE7D9 100%);
            padding: 80px 20px;
        }

        .faq-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .faq-title {
            text-align: center;
            font-size: 2.2rem;
            font-weight: 800;
            color: #333;
            margin-bottom: 50px;
        }

        .faq-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .faq-item {
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
            overflow: hidden;
        }

        .faq-question {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            padding: 20px 24px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: background 0.2s ease;
            position: relative;
        }

        .faq-question:hover {
            background: #f9f7f4;
        }

        .faq-question .q-mark {
            background: #6B5B95;
            color: #fff;
            min-width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: 700;
            flex-shrink: 0;
        }

        .faq-question .arrow {
            margin-left: auto;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
            color: #6B5B95;
        }

        .faq-item.active .faq-question .arrow {
            transform: rotate(180deg);
        }

        .faq-answer {
            font-size: 1rem;
            line-height: 1.9;
            color: #555;
            padding: 0 24px 0 68px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            padding: 0 24px 24px 68px;
        }

        .faq-answer strong {
            color: #6B5B95;
        }

        .faq-answer .highlight {
            background: linear-gradient(transparent 60%, #E8E3F3 60%);
            font-weight: 600;
        }

        .faq-answer ul {
            margin: 12px 0;
            padding-left: 20px;
        }

        .faq-answer ul li {
            margin-bottom: 6px;
        }

        /* í•™ë¶€ëª¨ í›„ê¸° ì„¹ì…˜ */
        .reviews-section {
            background: linear-gradient(180deg, #F7F1E5 0%, #EDE7D9 100%);
            padding: 80px 20px;
        }

        .reviews-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .reviews-title {
            text-align: center;
            font-size: 2.2rem;
            font-weight: 800;
            color: #333;
            margin-bottom: 50px;
        }

        .reviews-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .review-card {
            background: #ffffff;
            border-radius: 16px;
            padding: 28px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .review-stars {
            color: #FFD700;
            font-size: 1.2rem;
            margin-bottom: 12px;
            letter-spacing: 2px;
        }

        .review-header {
            font-size: 0.95rem;
            font-weight: 700;
            color: #6B5B95;
            margin-bottom: 14px;
        }

        .review-content {
            font-size: 0.95rem;
            line-height: 1.8;
            color: #555;
        }

        .reviews-footer {
            text-align: center;
            margin-top: 50px;
            padding: 40px;
            background: linear-gradient(135deg, #6B5B95 0%, #8B7BB5 100%);
            border-radius: 20px;
        }

        .reviews-footer p {
            font-size: 1.25rem;
            font-weight: 600;
            color: #fff;
            line-height: 1.7;
        }

        @media (max-width: 768px) {
            .reviews-section {
                padding: 50px 15px;
            }

            .reviews-title {
                font-size: 1.6rem;
                margin-bottom: 30px;
            }

            .reviews-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .review-card {
                padding: 24px;
            }

            .reviews-footer {
                padding: 30px 20px;
            }

            .reviews-footer p {
                font-size: 1.1rem;
            }
        }

        @media (max-width: 768px) {
            .faq-section {
                padding: 50px 15px;
            }

            .faq-title {
                font-size: 1.6rem;
                margin-bottom: 30px;
            }

            .faq-question {
                font-size: 1rem;
                padding: 18px 16px;
                gap: 10px;
            }

            .faq-question .q-mark {
                min-width: 28px;
                height: 28px;
                font-size: 0.75rem;
            }

            .faq-answer {
                padding: 0 16px 0 54px;
                font-size: 0.95rem;
            }

            .faq-item.active .faq-answer {
                padding: 0 16px 20px 54px;
            }

            .faq-footer {
                padding: 30px 20px;
            }

            .faq-footer p {
                font-size: 1.1rem;
            }
        }

        /* CTA ë²„íŠ¼ ì„¹ì…˜ */
        .cta-section {
            padding: 60px 20px;
            text-align: center;
            background: #F7F1E5;
        }

        .cta-button {
            display: inline-block;
            padding: 20px 60px;
            font-size: 1.4rem;
            font-weight: 700;
            color: #fff;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border: none;
            border-radius: 50px;
            text-decoration: none;
            box-shadow: 0 10px 30px rgba(240, 147, 251, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(240, 147, 251, 0.5);
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .section img,
            .section video {
                max-width: 100%;
            }

            .cta-button {
                padding: 16px 40px;
                font-size: 1.1rem;
            }

            .cta-section {
                padding: 40px 15px;
            }
        }

        /* ê³ ì • í—¤ë” ë²„íŠ¼ ì»¨í…Œì´ë„ˆ */
        .fixed-header-btns {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* ê³ ì • í—¤ë” ë²„íŠ¼ */
        .fixed-header-btn {
            padding: 16px 32px;
            font-size: 1.1rem;
            font-weight: 700;
            color: #fff;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #6B5B95 100%);
            border: none;
            border-radius: 50px;
            text-decoration: none;
            box-shadow:
                0 4px 15px rgba(102, 126, 234, 0.4),
                0 8px 30px rgba(118, 75, 162, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            cursor: pointer;
            animation: shake 2.5s ease-in-out infinite;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .fixed-header-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50px;
            background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, transparent 50%);
            pointer-events: none;
        }

        .fixed-header-btn:hover {
            transform: scale(1.05);
            box-shadow:
                0 6px 20px rgba(102, 126, 234, 0.5),
                0 12px 40px rgba(118, 75, 162, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            animation: none;
        }

        /* ì§„ë‹¨í…ŒìŠ¤íŠ¸ ë²„íŠ¼ (ì˜¤ë Œì§€ìƒ‰) */
        .fixed-header-btn.diagnostic {
            background: linear-gradient(135deg, #ff9a56 0%, #ff6f35 100%);
            box-shadow:
                0 4px 15px rgba(255, 154, 86, 0.4),
                0 8px 30px rgba(255, 111, 53, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            text-align: center;
        }

        .fixed-header-btn.diagnostic:hover {
            box-shadow:
                0 6px 20px rgba(255, 154, 86, 0.5),
                0 12px 40px rgba(255, 111, 53, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        /* ê°œì¸ì •ë³´ë¬¸ì˜ ë²„íŠ¼ (ì´ˆë¡ìƒ‰) */
        .fixed-header-btn.privacy {
            background: linear-gradient(135deg, #43a047 0%, #2e7d32 100%);
            box-shadow:
                0 4px 15px rgba(67, 160, 71, 0.4),
                0 8px 30px rgba(46, 125, 50, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            font-size: 13px;
            padding: 10px 18px;
        }

        .fixed-header-btn.privacy:hover {
            box-shadow:
                0 6px 20px rgba(67, 160, 71, 0.5),
                0 12px 40px rgba(46, 125, 50, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        /* ê°œì¸ì •ë³´ë¬¸ì˜ ëª¨ë‹¬ */
        .privacy-modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }
        .privacy-modal-overlay.show {
            display: flex;
        }
        .privacy-modal-card {
            background: #fff;
            border-radius: 16px;
            padding: 30px;
            width: min(400px, 90vw);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .privacy-modal-card h2 {
            margin: 0 0 8px;
            font-size: 20px;
            color: #2e7d32;
        }
        .privacy-modal-card p {
            margin: 0 0 20px;
            font-size: 14px;
            color: #666;
        }
        .privacy-modal-card label {
            display: block;
            margin-bottom: 16px;
            font-size: 14px;
            font-weight: 500;
        }
        .privacy-modal-card select,
        .privacy-modal-card input,
        .privacy-modal-card textarea {
            width: 100%;
            margin-top: 6px;
            padding: 10px 12px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 14px;
        }
        .privacy-modal-card textarea {
            resize: vertical;
            min-height: 80px;
        }
        .privacy-modal-btns {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        .privacy-modal-btns button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }
        .privacy-modal-btns .cancel-btn {
            background: #e0e0e0;
            color: #333;
        }
        .privacy-modal-btns .submit-btn {
            background: #2e7d32;
            color: #fff;
        }

        @keyframes shake {
            0%, 100% {
                transform: rotate(0deg);
            }
            10% {
                transform: rotate(-3deg);
            }
            20% {
                transform: rotate(3deg);
            }
            30% {
                transform: rotate(-3deg);
            }
            40% {
                transform: rotate(3deg);
            }
            50%, 100% {
                transform: rotate(0deg);
            }
        }

        @media (max-width: 768px) {
            .fixed-header-btns {
                top: 15px;
                right: 15px;
                gap: 8px;
            }

            .fixed-header-btn {
                padding: 12px 22px;
                font-size: 0.95rem;
            }
        }

        /* ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ */
        .section {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* ë¡œë”© ì‹œ ì²« ë²ˆì§¸ ì„¹ì…˜ì€ ë°”ë¡œ ë³´ì´ê²Œ */
        .section:first-child {
            opacity: 1;
            transform: translateY(0);
        }

        /* ===== ë¡œê·¸ì¸ ëª¨ë‹¬ (í•™ì›ìš© - ë³´ë¼í†¤) ===== */
        .modal-overlay {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: radial-gradient(
                circle at top,
                rgba(200, 180, 255, 0.65) 0,
                rgba(0, 0, 0, 0.55) 55%
            );
            z-index: 2000;
        }
        .modal-overlay.active {
            display: flex;
        }

        .modal-card {
            width: min(420px, 92vw);
            background: linear-gradient(145deg, #f5f0ff 0%, #e8e0f5 45%, #ddd5f0 100%);
            border-radius: 22px;
            padding: 20px 22px 24px;
            box-shadow:
                0 18px 40px rgba(0, 0, 0, 0.35),
                0 0 0 1px rgba(150, 130, 200, 0.7);
            position: relative;
            color: #3d2b5a;
            font-family: "Apple SD Gothic Neo", "Noto Sans KR", -apple-system,
                BlinkMacSystemFont, system-ui, sans-serif;
            overflow: hidden;
        }

        .modal-card::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background:
                radial-gradient(circle at top left, rgba(255, 255, 255, 0.9) 0, transparent 45%),
                radial-gradient(circle at bottom right, rgba(180, 160, 220, 0.6) 0, transparent 55%);
            opacity: 0.9;
            pointer-events: none;
            z-index: -1;
        }

        .modal-header-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .modal-close {
            width: 28px;
            height: 28px;
            border-radius: 999px;
            border: 1px solid rgba(100, 80, 140, 0.25);
            background: #e8e0f5;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 16px;
            color: #6B5B95;
        }
        .modal-close:hover {
            background: #ddd5f0;
        }

        .modal-title-wrap {
            flex: 1;
        }
        .modal-title {
            margin: 0;
            font-size: 18px;
            font-weight: 700;
            color: #3d2b5a;
        }
        .modal-subtitle {
            margin: 2px 0 0;
            font-size: 12px;
            color: #6B5B95;
        }

        .admin-pill {
            border-radius: 999px;
            padding: 5px 12px;
            font-size: 11px;
            border: 1px solid rgba(107, 91, 149, 0.3);
            background: #f0e8ff;
            color: #5a4a7a;
            cursor: pointer;
            white-space: nowrap;
            text-decoration: none;
        }
        .admin-pill:hover {
            background: #e0d5f5;
        }

        .modal-form {
            margin-top: 14px;
        }
        .modal-form label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            margin: 10px 0 4px;
            color: #4a3a6a;
        }
        .modal-input {
            width: 100%;
            padding: 9px 10px;
            border-radius: 10px;
            border: 1px solid #c8b8e0;
            font-size: 14px;
            outline: none;
            background: rgba(255, 255, 255, 0.95);
        }
        .modal-input::placeholder {
            color: #a090c0;
        }
        .modal-input:focus {
            border-color: #8B7BB5;
            box-shadow: 0 0 0 1px rgba(139, 123, 181, 0.3);
        }

        /* í•™ì› ê²€ìƒ‰ ë“œë¡­ë‹¤ìš´ */
        .academy-search-wrapper {
            position: relative;
        }
        .academy-search-input {
            width: 100%;
            padding: 9px 10px;
            border-radius: 10px;
            border: 1px solid #c8b8e0;
            font-size: 14px;
            outline: none;
            background: rgba(255, 255, 255, 0.95);
        }
        .academy-search-input:focus {
            border-color: #8B7BB5;
            box-shadow: 0 0 0 1px rgba(139, 123, 181, 0.3);
        }
        .academy-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            max-height: 180px;
            overflow-y: auto;
            background: #fff;
            border: 1px solid #c8b8e0;
            border-top: none;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
        }
        .academy-dropdown.show {
            display: block;
        }
        .academy-dropdown-item {
            padding: 10px 12px;
            cursor: pointer;
            font-size: 14px;
            color: #3d2b5a;
            border-bottom: 1px solid #f0e8f8;
        }
        .academy-dropdown-item:last-child {
            border-bottom: none;
        }
        .academy-dropdown-item:hover,
        .academy-dropdown-item.highlight {
            background: #f5f0ff;
        }
        .academy-dropdown-item.new-entry {
            color: #6B5B95;
            font-style: italic;
        }
        .academy-no-result {
            padding: 10px 12px;
            font-size: 13px;
            color: #999;
            text-align: center;
        }

        .modal-btn {
            margin-top: 18px;
            width: 100%;
            border: none;
            border-radius: 999px;
            padding: 11px 0;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            background: linear-gradient(135deg, #8B7BB5 0%, #6B5B95 45%, #5a4a85 100%);
            color: #fff;
            box-shadow: 0 10px 20px rgba(107, 91, 149, 0.5);
        }
        .modal-btn:hover {
            filter: brightness(1.03);
            transform: translateY(-1px);
            box-shadow: 0 12px 24px rgba(107, 91, 149, 0.55);
        }

        .modal-footer {
            margin-top: 10px;
            font-size: 12px;
            text-align: center;
            color: #6B5B95;
        }
        .modal-footer a,
        .modal-footer button {
            color: #8B7BB5;
            font-weight: 600;
            text-decoration: none;
            border: none;
            background: none;
            cursor: pointer;
            padding: 0 4px;
            font-size: 12px;
        }
        .modal-footer a:hover,
        .modal-footer button:hover {
            text-decoration: underline;
        }

        /* ë¡œê·¸ì¸/íšŒì›ê°€ì… íŒ¨ë„ í† ê¸€ ê³µí†µ */
        .panel {
            display: none;
        }
        .panel.active {
            display: block;
        }

        /* ===== ë¡œê·¸ì¸ ì˜¤ë¥˜/ìŠ¹ì¸ ëŒ€ê¸° ëª¨ë‹¬ ===== */
        .login-error-overlay {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.55);
            backdrop-filter: blur(3px);
            z-index: 2100;
        }
        .login-error-overlay.active {
            display: flex;
        }

        .login-error-card {
            width: min(420px, 90vw);
            background: #f5f0ff;
            border-radius: 24px;
            padding: 26px 26px 22px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            text-align: center;
            color: #3d2b5a;
        }

        .login-error-icon {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #e8e0f5;
            color: #c54632;
            font-size: 26px;
        }

        .login-error-title {
            margin: 0 0 6px;
            font-size: 18px;
            font-weight: 700;
        }

        .login-error-msg {
            margin: 0 0 18px;
            font-size: 14px;
            line-height: 1.5;
            color: #6B5B95;
        }

        .login-error-btn-row {
            display: flex;
            gap: 8px;
            justify-content: center;
        }

        .login-error-btn {
            flex: 1;
            border-radius: 999px;
            padding: 9px 0;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }
        .login-error-btn.cancel {
            background: #e0d5f5;
            color: #6B5B95;
        }
        .login-error-btn.cancel:hover {
            background: #d5c8ea;
        }
        .login-error-btn.retry {
            background: #6B5B95;
            color: #fff;
        }
        .login-error-btn.retry:hover {
            filter: brightness(1.05);
        }

        /* ìŠ¹ì¸ ëŒ€ê¸° ëª¨ë‹¬ */
        .login-error-overlay.show {
            display: flex;
        }
        .login-error-modal {
            background: #f5f0ff;
            border-radius: 18px;
            padding: 24px 26px 22px;
            width: 320px;
            text-align: center;
            box-shadow: 0 15px 45px rgba(0,0,0,0.16);
            border: 1px solid rgba(107, 91, 149, 0.1);
        }
        .login-error-actions {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        .login-error-btn.primary {
            background: #6B5B95;
            color: #fff;
            min-width: 90px;
        }
    </style>
</head>
<body>
    <!-- ê³ ì • í—¤ë” ë²„íŠ¼ -->
    <div class="fixed-header-btns">
        <button type="button" class="fixed-header-btn" id="openLoginBtn">í•™ìŠµ ì‹œì‘í•˜ê¸°</button>
        <a href="/diagnostic_reading_test_academy.html" class="fixed-header-btn diagnostic">ì§„ë‹¨í…ŒìŠ¤íŠ¸</a>
        <button type="button" class="fixed-header-btn privacy" id="openPrivacyInquiryBtn">ê°œì¸ì •ë³´ë¬¸ì˜</button>
    </div>

    <!-- ê°œì¸ì •ë³´ë¬¸ì˜ ëª¨ë‹¬ -->
    <div class="privacy-modal-overlay" id="privacyInquiryOverlay">
        <div class="privacy-modal-card">
            <h2>ê°œì¸ì •ë³´ ì²˜ë¦¬ ìš”ì²­</h2>
            <p>ê°œì¸ì •ë³´ ë³´í˜¸ì±…ì„ìì—ê²Œ ìš”ì²­ ë©”ì¼ì„ ë³´ëƒ…ë‹ˆë‹¤.</p>

            <label>
                ìš”ì²­ ìœ í˜•
                <select id="privacyRequestType">
                    <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                    <option value="ì—´ëŒ">ì—´ëŒ ìš”ì²­</option>
                    <option value="ì •ì •">ì •ì • ìš”ì²­</option>
                    <option value="ì‚­ì œ">ì‚­ì œ ìš”ì²­</option>
                    <option value="ì •ì§€">ì²˜ë¦¬ ì •ì§€ ìš”ì²­</option>
                </select>
            </label>

            <label>
                ì´ë¦„
                <input type="text" id="privacyRequesterName" placeholder="í™ê¸¸ë™" />
            </label>

            <label>
                ì—°ë½ì²˜ (ì´ë©”ì¼ ë˜ëŠ” ì „í™”ë²ˆí˜¸)
                <input type="text" id="privacyRequesterContact" placeholder="example@email.com" />
            </label>

            <label>
                ìƒì„¸ ë‚´ìš©
                <textarea id="privacyRequestDetail" placeholder="ìš”ì²­ ë‚´ìš©ì„ ìƒì„¸íˆ ì ì–´ì£¼ì„¸ìš”."></textarea>
            </label>

            <div class="privacy-modal-btns">
                <button type="button" class="cancel-btn" id="closePrivacyInquiryBtn">ì·¨ì†Œ</button>
                <button type="button" class="submit-btn" id="submitPrivacyInquiryBtn">ë©”ì¼ ë³´ë‚´ê¸°</button>
            </div>
        </div>
    </div>

    <!-- âœ… ë¡œê·¸ì¸ / íšŒì›ê°€ì… ëª¨ë‹¬ (í•™ì›ìš©) -->
    <div class="modal-overlay" id="loginOverlay">
        <div class="modal-card">
            <div class="modal-header-row">
                <button type="button" class="modal-close" id="closeLoginBtn">âœ•</button>

                <div class="modal-title-wrap">
                    <h1 class="modal-title" id="modalTitle">í•™ì›ìš© ë¡œê·¸ì¸</h1>
                    <p class="modal-subtitle" id="modalSubtitle">
                        í•™ì›ëª…Â·í•™ë…„Â·ì´ë¦„Â·ì „í™”ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•´ ì£¼ì„¸ìš”.
                    </p>
                </div>

                <a href="/academy-admin-login" class="admin-pill">ì„ ìƒë‹˜ëª¨ë“œ</a>
            </div>

            <!-- ğŸ”¹ ë¡œê·¸ì¸ íŒ¨ë„ -->
            <div id="login-panel" class="panel active">
                <form action="/academy-login" method="post" class="modal-form" id="login-form">
                    <label>
                        í•™ì›ëª… (ì§€ì ëª…)
                        <div class="academy-search-wrapper">
                            <input type="text" class="academy-search-input" id="loginAcademySearch" placeholder="í•™ì›ëª… ê²€ìƒ‰..." autocomplete="off" />
                            <input type="hidden" name="academyName" id="loginAcademyValue" required />
                            <div class="academy-dropdown" id="loginAcademyDropdown"></div>
                        </div>
                    </label>

                    <label>
                        í•™ë…„
                        <select name="grade" id="loginGrade" class="modal-input" required>
                            <option value="" disabled selected>í•™ë…„ ì„ íƒ</option>
                            <option value="ì´ˆ3">ì´ˆ3</option>
                            <option value="ì´ˆ4">ì´ˆ4</option>
                            <option value="ì´ˆ5">ì´ˆ5</option>
                            <option value="ì´ˆ6">ì´ˆ6</option>
                            <option value="ì¤‘1">ì¤‘1</option>
                            <option value="ì¤‘2">ì¤‘2</option>
                            <option value="ì¤‘3">ì¤‘3</option>
                            <option value="ê³ 1">ê³ 1</option>
                            <option value="ê³ 2">ê³ 2</option>
                            <option value="ê³ 3">ê³ 3</option>
                        </select>
                    </label>

                    <label>
                        ì´ë¦„
                        <input
                            type="text"
                            name="name"
                            class="modal-input"
                            placeholder="ì˜ˆ) í™ê¸¸ë™"
                            required
                        />
                    </label>

                    <label>
                        ì „í™”ë²ˆí˜¸
                        <input
                            type="tel"
                            name="phone"
                            id="loginPhone"
                            class="modal-input"
                            placeholder="ì˜ˆ) 01012345678 (ìˆ«ìë§Œ)"
                            maxlength="11"
                            required
                        />
                    </label>

                    <button type="submit" class="modal-btn">ë¡œê·¸ì¸</button>
                </form>

                <div class="modal-footer">
                    ì²˜ìŒì´ì‹ ê°€ìš”?
                    <button type="button" id="open-register">íšŒì›ê°€ì…</button>
                </div>
            </div>

            <!-- ğŸ”¹ íšŒì›ê°€ì… íŒ¨ë„ -->
            <div id="register-panel" class="panel">
                <form action="/academy-register" method="post" class="modal-form" id="register-form">
                    <label>
                        í•™ì›ëª… (ì§€ì ëª…)
                        <div class="academy-search-wrapper">
                            <input type="text" class="academy-search-input" id="registerAcademySearch" placeholder="í•™ì›ëª… ê²€ìƒ‰ ë˜ëŠ” ì…ë ¥..." autocomplete="off" />
                            <input type="hidden" name="academyName" id="registerAcademyValue" required />
                            <div class="academy-dropdown" id="registerAcademyDropdown"></div>
                        </div>
                    </label>

                    <label>
                        í•™ë…„
                        <select name="grade" id="registerGrade" class="modal-input" required>
                            <option value="" disabled selected>í•™ë…„ ì„ íƒ</option>
                            <option value="ì´ˆ3">ì´ˆ3</option>
                            <option value="ì´ˆ4">ì´ˆ4</option>
                            <option value="ì´ˆ5">ì´ˆ5</option>
                            <option value="ì´ˆ6">ì´ˆ6</option>
                            <option value="ì¤‘1">ì¤‘1</option>
                            <option value="ì¤‘2">ì¤‘2</option>
                            <option value="ì¤‘3">ì¤‘3</option>
                            <option value="ê³ 1">ê³ 1</option>
                            <option value="ê³ 2">ê³ 2</option>
                            <option value="ê³ 3">ê³ 3</option>
                        </select>
                    </label>

                    <label>
                        ì´ë¦„
                        <input
                            type="text"
                            name="name"
                            class="modal-input"
                            placeholder="ì˜ˆ) í™ê¸¸ë™"
                            required
                        />
                    </label>

                    <label>
                        ì „í™”ë²ˆí˜¸
                        <input
                            type="tel"
                            name="phone"
                            id="registerPhone"
                            class="modal-input"
                            placeholder="ì˜ˆ) 01012345678 (ìˆ«ìë§Œ)"
                            maxlength="11"
                            required
                        />
                    </label>

                    <!-- ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë™ì˜ -->
                    <label class="privacy-agree-label" style="display: flex; align-items: flex-start; gap: 8px; margin-top: 16px; font-size: 13px; cursor: pointer;">
                        <input type="checkbox" id="privacyAgree" required style="width: 18px; height: 18px; margin-top: 2px; cursor: pointer; accent-color: #6B5B95;" />
                        <span style="color: #555; line-height: 1.5;">
                            <a href="/privacy.html" target="_blank" style="color: #6B5B95; text-decoration: underline; font-weight: 600;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>ì— ë™ì˜í•©ë‹ˆë‹¤. (í•„ìˆ˜)
                        </span>
                    </label>

                    <!-- ì„œë¹„ìŠ¤ ì´ìš© ì•ˆë‚´ -->
                    <div style="margin-top: 12px; padding: 12px; background: #f5f0ff; border-radius: 8px; font-size: 12px; color: #666; line-height: 1.6; text-align: center;">
                        ë³¸ ì„œë¹„ìŠ¤ëŠ” í•™ì› ìŠ¹ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>
                        í•™ìƒ ê³„ì •ì€ í•™ì› ê´€ë¦¬ í•˜ì— ìš´ì˜ë©ë‹ˆë‹¤.
                    </div>

                    <button type="submit" class="modal-btn">íšŒì›ê°€ì… ì™„ë£Œ</button>
                </form>

                <div class="modal-footer">
                    ì´ë¯¸ ê°€ì…í•˜ì…¨ë‚˜ìš”?
                    <button type="button" id="back-to-login">ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <!-- âœ… ë¡œê·¸ì¸ ì˜¤ë¥˜ / ìŠ¹ì¸ ëŒ€ê¸° ëª¨ë‹¬ -->
    <div id="loginErrorOverlay" class="login-error-overlay">
        <div class="login-error-card">
            <div class="login-error-icon">ğŸš«</div>
            <h2 class="login-error-title" id="loginErrorTitle">ë¡œê·¸ì¸ ì˜¤ë¥˜ì…ë‹ˆë‹¤</h2>
            <p class="login-error-msg" id="loginErrorMsg">
                í•™ì›ëª…, ì´ë¦„, ì „í™”ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ í•œ ë²ˆ í™•ì¸í•´ ì£¼ì„¸ìš”.
            </p>
            <div class="login-error-btn-row">
                <button type="button" class="login-error-btn cancel" id="loginErrorCloseBtn">
                    ë‹«ê¸°
                </button>
                <button type="button" class="login-error-btn retry" id="loginErrorRetryBtn">
                    ë‹¤ì‹œ ì…ë ¥í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- ìŠ¹ì¸ ëŒ€ê¸° ì•ˆë‚´ ëª¨ë‹¬ -->
    <div class="login-error-overlay" id="signupPendingOverlay">
        <div class="login-error-modal">
            <div class="login-error-icon">ğŸš«</div>
            <div class="login-error-title">ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤</div>
            <div class="login-error-msg">
                í˜„ì¬ 'ìŠ¹ì¸ ëŒ€ê¸°' ìƒíƒœì…ë‹ˆë‹¤.<br />
                í•™ì› ê´€ë¦¬ìì—ê²Œ ìŠ¹ì¸ ìš”ì²­ì„ í•´ ì£¼ì„¸ìš” ğŸ™‚
            </div>
            <div class="login-error-actions">
                <button type="button" class="login-error-btn primary" id="signupPendingCloseBtn">
                    í™•ì¸
                </button>
            </div>
        </div>
    </div>

    <div class="landing-container">
        <!-- ë©”ì¸ ì˜ìƒ -->
        <section class="section video-section">
            <video src="images/brain/ë¸Œë ˆì¸ë¬¸ë©”ì¸.mp4" autoplay muted loop playsinline></video>
        </section>
    </div>

    <script>
        // ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });

        // ë¹„ë””ì˜¤ ìë™ ì¬ìƒ ë³´ì¥
        document.querySelectorAll('video').forEach(video => {
            video.play().catch(() => {
                // ìë™ ì¬ìƒ ì‹¤íŒ¨ ì‹œ ë¬´ì‹œ
            });
        });

        // ========== ë¡œê·¸ì¸ ëª¨ë‹¬ ì œì–´ ==========
        // ğŸ”§ í•™ìƒ key ìƒì„± (ë¡œê·¸ì¸ ì‹œ localStorageìš©)
        function buildStudentKey(stu) {
            const cleanPhone = (stu.phone || "").replace(/\D/g, "");
            const cleanName  = (stu.name  || "").trim();
            const cleanAcademy = (stu.academyName || "").trim();
            return `academy_${cleanAcademy}_${cleanName}_${cleanPhone}`;
        }

        // ğŸ”§ ë¡œê·¸ì¸/íšŒì›ê°€ì… íŒ¨ë„ í† ê¸€
        function showPanel(which) {
            const loginPanel    = document.getElementById("login-panel");
            const registerPanel = document.getElementById("register-panel");
            const titleEl       = document.getElementById("modalTitle");
            const subtitleEl    = document.getElementById("modalSubtitle");

            if (!loginPanel || !registerPanel) return;

            if (which === "register") {
                registerPanel.classList.add("active");
                loginPanel.classList.remove("active");
                if (titleEl)    titleEl.textContent    = "í•™ì›ìš© íšŒì›ê°€ì…";
                if (subtitleEl) subtitleEl.textContent = "í•™ì›ëª…Â·í•™ë…„Â·ì´ë¦„Â·ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
            } else {
                loginPanel.classList.add("active");
                registerPanel.classList.remove("active");
                if (titleEl)    titleEl.textContent    = "í•™ì›ìš© ë¡œê·¸ì¸";
                if (subtitleEl) subtitleEl.textContent = "í•™ì›ëª…Â·í•™ë…„Â·ì´ë¦„Â·ì „í™”ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•´ ì£¼ì„¸ìš”.";
            }
        }

        // ğŸ”§ URL ì¿¼ë¦¬ì—ì„œ loginError íƒ€ì… ê°€ì ¸ì˜¤ê¸°
        function getLoginErrorType() {
            const params = new URLSearchParams(window.location.search);
            return params.get("loginError");
        }

        // ğŸ”§ ì˜¤ë¥˜ ëª¨ë‹¬ ì—´ê¸°
        function openLoginErrorModal(type) {
            const overlay = document.getElementById("loginErrorOverlay");
            const titleEl = document.getElementById("loginErrorTitle");
            const msgEl   = document.getElementById("loginErrorMsg");
            if (!overlay || !titleEl || !msgEl) return;

            if (type === "pending") {
                titleEl.textContent = "ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤";
                msgEl.innerHTML =
                    "ì•„ì§ í•™ì› ê´€ë¦¬ì ìŠ¹ì¸ ì „ì´ë¼ ë¡œê·¸ì¸í•  ìˆ˜ ì—†ì–´ìš”.<br>" +
                    "í•™ì› ê´€ë¦¬ìì—ê²Œ ìŠ¹ì¸ ìš”ì²­ì„ í•´ ì£¼ì„¸ìš” ğŸ™‚";
            } else if (type === "trashed") {
                titleEl.textContent = "íœ´ì§€ ìƒíƒœ ê³„ì •ì…ë‹ˆë‹¤";
                msgEl.innerHTML =
                    "í˜„ì¬ ì‚¬ìš© ì¤‘ì§€ëœ ê³„ì •ì´ì—ìš”.<br>" +
                    "í•™ì› ê´€ë¦¬ìì—ê²Œ ë‹¤ì‹œ ë³µêµ¬ê°€ ê°€ëŠ¥í•œì§€ ë¬¸ì˜í•´ ì£¼ì„¸ìš”.";
            } else if (type === "duplicate") {
                titleEl.textContent = "ì´ë¯¸ ë“±ë¡ëœ ì „í™”ë²ˆí˜¸ì…ë‹ˆë‹¤";
                msgEl.innerHTML =
                    "ë™ì¼í•œ ì „í™”ë²ˆí˜¸ë¡œ ì´ë¯¸ ê°€ì…ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<br>" +
                    "ë¡œê·¸ì¸ì„ ì‹œë„í•´ ì£¼ì„¸ìš”.";
            } else if (type === "1") {
                titleEl.textContent = "ë¡œê·¸ì¸ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤";
                msgEl.innerHTML =
                    "í•™ì›ëª…Â·ì´ë¦„Â·ì „í™”ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ í•œ ë²ˆ í™•ì¸í•´ ì£¼ì„¸ìš”.";
            } else {
                titleEl.textContent = "ë¡œê·¸ì¸ ì˜¤ë¥˜ì…ë‹ˆë‹¤";
                msgEl.textContent = "ë‹¤ì‹œ í•œ ë²ˆ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
            }

            overlay.classList.add("active");
        }

        // ğŸ”§ íšŒì›ê°€ì… ìƒíƒœ í™•ì¸
        function getSignupStatus() {
            const params = new URLSearchParams(window.location.search);
            return params.get("signup");
        }

        function openSignupPendingModal() {
            const overlay = document.getElementById("signupPendingOverlay");
            if (!overlay) return;
            overlay.classList.add("show");

            if (window.history && window.history.replaceState) {
                const clean = window.location.origin + window.location.pathname;
                window.history.replaceState({}, document.title, clean);
            }
        }

        function closeSignupPendingModal() {
            const overlay = document.getElementById("signupPendingOverlay");
            if (overlay) overlay.classList.remove("show");
        }

        document.addEventListener("DOMContentLoaded", () => {
            const openBtn      = document.getElementById("openLoginBtn");
            const overlay      = document.getElementById("loginOverlay");
            const closeBtn     = document.getElementById("closeLoginBtn");
            const openRegBtn   = document.getElementById("open-register");
            const backLoginBtn = document.getElementById("back-to-login");
            const loginForm    = document.getElementById("login-form");

            const errOverlay   = document.getElementById("loginErrorOverlay");
            const errCloseBtn  = document.getElementById("loginErrorCloseBtn");
            const errRetryBtn  = document.getElementById("loginErrorRetryBtn");

            // ========== í•™ì› ê²€ìƒ‰ ë“œë¡­ë‹¤ìš´ ==========
            let academyList = [];

            // ì„œë²„ì—ì„œ í•™ì› ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
            async function loadAcademies() {
                try {
                    const res = await fetch('/api/academies');
                    const data = await res.json();
                    if (data.ok && data.academies) {
                        academyList = data.academies;
                    }
                } catch (err) {
                    console.error('í•™ì› ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:', err);
                }
            }

            // í•™ì› ê²€ìƒ‰ ë“œë¡­ë‹¤ìš´ ì´ˆê¸°í™” (allowCustom: íšŒì›ê°€ì…ìš© - ìƒˆ í•™ì› ì…ë ¥ ê°€ëŠ¥)
            function initAcademySearch(searchInputId, hiddenInputId, dropdownId, allowCustom = false) {
                const searchInput = document.getElementById(searchInputId);
                const hiddenInput = document.getElementById(hiddenInputId);
                const dropdown = document.getElementById(dropdownId);

                if (!searchInput || !hiddenInput || !dropdown) return;

                let highlightIndex = -1;

                // ë“œë¡­ë‹¤ìš´ ë Œë”ë§ (ê²€ìƒ‰ì–´ê°€ ìˆì„ ë•Œë§Œ ê²°ê³¼ í‘œì‹œ)
                function renderDropdown(query) {
                    dropdown.innerHTML = '';
                    highlightIndex = -1;

                    if (!query.trim()) {
                        dropdown.classList.remove('show');
                        return;
                    }

                    const filtered = academyList.filter(name =>
                        name.toLowerCase().includes(query.toLowerCase())
                    );

                    if (filtered.length === 0) {
                        if (allowCustom && query.trim()) {
                            // íšŒì›ê°€ì…: ìƒˆ í•™ì› ì…ë ¥ ì˜µì…˜
                            const newItem = document.createElement('div');
                            newItem.className = 'academy-dropdown-item new-entry';
                            newItem.textContent = `"${query}" (ìƒˆ í•™ì›ìœ¼ë¡œ ë“±ë¡)`;
                            newItem.addEventListener('click', () => {
                                searchInput.value = query.trim();
                                hiddenInput.value = query.trim();
                                dropdown.classList.remove('show');
                            });
                            dropdown.appendChild(newItem);
                        } else {
                            const noResult = document.createElement('div');
                            noResult.className = 'academy-no-result';
                            noResult.textContent = 'ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤';
                            dropdown.appendChild(noResult);
                        }
                    } else {
                        filtered.forEach((name, idx) => {
                            const item = document.createElement('div');
                            item.className = 'academy-dropdown-item';
                            item.textContent = name;
                            item.addEventListener('click', () => {
                                searchInput.value = name;
                                hiddenInput.value = name;
                                dropdown.classList.remove('show');
                            });
                            dropdown.appendChild(item);
                        });
                    }

                    dropdown.classList.add('show');
                }

                // ì…ë ¥ ì´ë²¤íŠ¸
                searchInput.addEventListener('input', () => {
                    renderDropdown(searchInput.value);
                    hiddenInput.value = '';  // ê²€ìƒ‰ ì¤‘ì—ëŠ” hidden ê°’ ì´ˆê¸°í™”
                });

                // í¬ì»¤ìŠ¤ ì‹œ ë“œë¡­ë‹¤ìš´ í‘œì‹œ (ê°’ì´ ìˆì„ ë•Œë§Œ)
                searchInput.addEventListener('focus', () => {
                    if (searchInput.value.trim()) {
                        renderDropdown(searchInput.value);
                    }
                });

                // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
                searchInput.addEventListener('keydown', (e) => {
                    const items = dropdown.querySelectorAll('.academy-dropdown-item');
                    if (!items.length) return;

                    if (e.key === 'ArrowDown') {
                        e.preventDefault();
                        highlightIndex = Math.min(highlightIndex + 1, items.length - 1);
                        updateHighlight(items);
                    } else if (e.key === 'ArrowUp') {
                        e.preventDefault();
                        highlightIndex = Math.max(highlightIndex - 1, 0);
                        updateHighlight(items);
                    } else if (e.key === 'Enter') {
                        e.preventDefault();
                        if (highlightIndex >= 0 && items[highlightIndex]) {
                            items[highlightIndex].click();
                        } else if (allowCustom && searchInput.value.trim()) {
                            // íšŒì›ê°€ì…: ì—”í„°ë¡œ ìƒˆ í•™ì› ì…ë ¥
                            hiddenInput.value = searchInput.value.trim();
                            dropdown.classList.remove('show');
                        }
                    } else if (e.key === 'Escape') {
                        dropdown.classList.remove('show');
                    }
                });

                function updateHighlight(items) {
                    items.forEach((item, idx) => {
                        item.classList.toggle('highlight', idx === highlightIndex);
                    });
                }

                // ì™¸ë¶€ í´ë¦­ ì‹œ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
                document.addEventListener('click', (e) => {
                    if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {
                        dropdown.classList.remove('show');
                        // ì„ íƒë˜ì§€ ì•Šì€ ê²½ìš° (allowCustomì´ë©´ ì…ë ¥ê°’ ìœ ì§€)
                        if (!hiddenInput.value && searchInput.value.trim()) {
                            if (allowCustom) {
                                hiddenInput.value = searchInput.value.trim();
                            } else {
                                searchInput.value = '';
                            }
                        }
                    }
                });
            }

            // í˜ì´ì§€ ë¡œë“œ ì‹œ í•™ì› ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° ë° ê²€ìƒ‰ ì´ˆê¸°í™”
            (async () => {
                await loadAcademies();
                initAcademySearch('loginAcademySearch', 'loginAcademyValue', 'loginAcademyDropdown', false);  // ë¡œê·¸ì¸: ê¸°ì¡´ í•™ì›ë§Œ
                initAcademySearch('registerAcademySearch', 'registerAcademyValue', 'registerAcademyDropdown', true);  // íšŒì›ê°€ì…: ìƒˆ í•™ì› ì…ë ¥ ê°€ëŠ¥
            })();

            // âœ… ê¸°ë³¸ ë¡œê·¸ì¸ ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
            if (openBtn && overlay && closeBtn) {
                overlay.classList.remove("active");

                openBtn.addEventListener("click", () => {
                    overlay.classList.add("active");
                    showPanel("login");
                });

                closeBtn.addEventListener("click", () => {
                    overlay.classList.remove("active");
                });

                overlay.addEventListener("click", (e) => {
                    if (e.target === overlay) {
                        overlay.classList.remove("active");
                    }
                });
            }

            // âœ… "íšŒì›ê°€ì…" í´ë¦­ â†’ ê°™ì€ ëª¨ë‹¬ ì•ˆì—ì„œ íšŒì›ê°€ì… íŒ¨ë„ë¡œ ì „í™˜
            if (openRegBtn && overlay) {
                openRegBtn.addEventListener("click", (e) => {
                    e.preventDefault();
                    overlay.classList.add("active");
                    showPanel("register");
                });
            }

            // âœ… "ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°"
            if (backLoginBtn) {
                backLoginBtn.addEventListener("click", (e) => {
                    e.preventDefault();
                    showPanel("login");
                });
            }

            // âœ… ë¡œê·¸ì¸ ì‹œ localStorageì— í•™ìƒ ì •ë³´ ì €ì¥
            if (loginForm) {
                loginForm.addEventListener("submit", () => {
                    const formData = new FormData(loginForm);
                    const student = {
                        academyName: formData.get("academyName") || "",
                        grade: formData.get("grade") || "",
                        name:  formData.get("name")  || "",
                        phone: formData.get("phone") || ""
                    };
                    localStorage.setItem("currentStudent", JSON.stringify(student));
                    localStorage.setItem("currentStudentKey", buildStudentKey(student));
                    localStorage.setItem("userType", "academy");

                    sessionStorage.setItem("justLoggedIn", "true");
                });
            }

            // âœ… ë¡œê·¸ì¸ ì˜¤ë¥˜ / ìŠ¹ì¸ ëŒ€ê¸° ì¿¼ë¦¬ ì²˜ë¦¬
            const errType = getLoginErrorType();
            if (errType) {
                openLoginErrorModal(errType);

                const url = new URL(window.location.href);
                url.searchParams.delete("loginError");
                window.history.replaceState({}, "", url.pathname + url.search);
            }

            // âœ… ì˜¤ë¥˜ ëª¨ë‹¬ ë²„íŠ¼ ë™ì‘
            if (errOverlay && errCloseBtn) {
                errCloseBtn.addEventListener("click", () => {
                    errOverlay.classList.remove("active");
                });
            }
            if (errOverlay && errRetryBtn && overlay) {
                errRetryBtn.addEventListener("click", () => {
                    errOverlay.classList.remove("active");
                    overlay.classList.add("active");
                    showPanel("login");
                });
            }

            // âœ… íšŒì›ê°€ì… ìŠ¹ì¸ ëŒ€ê¸° ì²˜ë¦¬
            const signupStatus = getSignupStatus();
            if (signupStatus === "pending") {
                openSignupPendingModal();
            }

            const signupCloseBtn = document.getElementById("signupPendingCloseBtn");
            if (signupCloseBtn) {
                signupCloseBtn.addEventListener("click", closeSignupPendingModal);
            }

            const signupOverlay = document.getElementById("signupPendingOverlay");
            if (signupOverlay) {
                signupOverlay.addEventListener("click", function (e) {
                    if (e.target === signupOverlay) closeSignupPendingModal();
                });
            }

            // âœ… ê°œì¸ì •ë³´ë¬¸ì˜ ëª¨ë‹¬
            const privacyOpenBtn = document.getElementById("openPrivacyInquiryBtn");
            const privacyOverlay = document.getElementById("privacyInquiryOverlay");
            const privacyCloseBtn = document.getElementById("closePrivacyInquiryBtn");
            const privacySubmitBtn = document.getElementById("submitPrivacyInquiryBtn");

            if (privacyOpenBtn && privacyOverlay) {
                privacyOpenBtn.addEventListener("click", () => {
                    privacyOverlay.classList.add("show");
                });
            }

            if (privacyCloseBtn && privacyOverlay) {
                privacyCloseBtn.addEventListener("click", () => {
                    privacyOverlay.classList.remove("show");
                });
            }

            if (privacyOverlay) {
                privacyOverlay.addEventListener("click", (e) => {
                    if (e.target === privacyOverlay) {
                        privacyOverlay.classList.remove("show");
                    }
                });
            }

            if (privacySubmitBtn) {
                privacySubmitBtn.addEventListener("click", () => {
                    const requestType = document.getElementById("privacyRequestType").value;
                    const name = document.getElementById("privacyRequesterName").value.trim();
                    const contact = document.getElementById("privacyRequesterContact").value.trim();
                    const detail = document.getElementById("privacyRequestDetail").value.trim();

                    if (!requestType) {
                        alert("ìš”ì²­ ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
                        return;
                    }
                    if (!name) {
                        alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                        return;
                    }
                    if (!contact) {
                        alert("ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                        return;
                    }

                    const subject = encodeURIComponent(`[ê°œì¸ì •ë³´ ${requestType} ìš”ì²­] ${name}`);
                    const body = encodeURIComponent(
                        `ì•ˆë…•í•˜ì„¸ìš”, ê°œì¸ì •ë³´ ${requestType} ìš”ì²­ë“œë¦½ë‹ˆë‹¤.\n\n` +
                        `â–  ìš”ì²­ ìœ í˜•: ${requestType}\n` +
                        `â–  ì´ë¦„: ${name}\n` +
                        `â–  ì—°ë½ì²˜: ${contact}\n` +
                        `â–  ìƒì„¸ ë‚´ìš©:\n${detail || '(ì—†ìŒ)'}\n\n` +
                        `í™•ì¸ í›„ íšŒì‹  ë¶€íƒë“œë¦½ë‹ˆë‹¤.\nê°ì‚¬í•©ë‹ˆë‹¤.`
                    );

                    window.location.href = `mailto:kukikukilove@naver.com?subject=${subject}&body=${body}`;
                    privacyOverlay.classList.remove("show");
                });
            }

            // âœ… ì „í™”ë²ˆí˜¸ ì…ë ¥ ì‹œ ìˆ«ìë§Œ í—ˆìš©
            const phoneInputs = document.querySelectorAll('input[type="tel"]');
            phoneInputs.forEach(input => {
                input.addEventListener("input", (e) => {
                    e.target.value = e.target.value.replace(/\D/g, "");
                });
            });
        });
    </script>

    <!-- Footer -->
    <footer style="background: #3d2b5a; color: #d4c4e5; text-align: center; padding: 20px 16px; font-size: 13px; line-height: 1.8;">
        <div style="max-width: 600px; margin: 0 auto;">
            <p style="margin: 0 0 8px;">Â© 2026 AI ë¸Œë ˆì¸ ë¬¸í•´ë ¥ ì—°êµ¬ì†Œ</p>
            <p style="margin: 0 0 8px;">ê°œì¸ì •ë³´ ë³´í˜¸ì±…ì„ì: ì´êµ­í˜„ | ì—°ë½ì²˜: 010-3887-9967</p>
            <p style="margin: 0;">
                <a href="/privacy.html" target="_blank" style="color: #e8e0f5; text-decoration: underline;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
            </p>
        </div>
    </footer>
</body>
</html>
