<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë¸Œë ˆì¸ë¬¸í•´ë ¥ ìˆ˜ì—… ì§€ì¹¨ì„œ - êµì‚¬ìš© ê°€ì´ë“œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
      --panel: #ffffff;
      --accent: #059669;
      --accent-hover: #047857;
      --accent-dark: #065f46;
      --text: #1f2937;
      --text-light: #6b7280;
      --line: #d1fae5;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      padding: 40px 20px;
      background: var(--bg);
      font-family: "Gmarket Sans", "Noto Sans KR", -apple-system, BlinkMacSystemFont, sans-serif;
      color: var(--text);
    }
    .wrap {
      max-width: 1000px;
      margin: 0 auto;
    }
    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 10px 18px;
      background: #fff;
      border: 2px solid rgba(5, 150, 105, 0.3);
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      color: var(--accent);
      text-decoration: none;
      cursor: pointer;
      transition: all 0.25s ease;
      margin-bottom: 24px;
    }
    .back-btn:hover {
      background: var(--accent);
      color: #fff;
      border-color: transparent;
    }
    h1 {
      margin: 0 0 12px;
      font-size: 32px;
      font-weight: 700;
      color: var(--accent-dark);
    }
    .sub {
      margin: 0 0 30px;
      font-size: 16px;
      color: var(--text-light);
      line-height: 1.6;
    }

    /* ì‹œë¦¬ì¦ˆ íƒ­ ë©”ë‰´ */
    .tab-menu {
      display: flex;
      gap: 12px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }
    .tab-btn {
      flex: 1;
      min-width: 120px;
      padding: 16px 24px;
      background: #fff;
      border: 2px solid rgba(5, 150, 105, 0.2);
      border-radius: 14px;
      font-size: 16px;
      font-weight: 700;
      color: var(--text-light);
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }
    .tab-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
    }
    .tab-btn.active {
      background: linear-gradient(135deg, #059669 0%, #047857 100%);
      border-color: transparent;
      color: #fff;
      box-shadow: 0 4px 15px rgba(5, 150, 105, 0.3);
    }
    .tab-btn .icon {
      font-size: 24px;
      display: block;
      margin-bottom: 8px;
    }

    /* íƒ­ ì½˜í…ì¸  */
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }

    /* ê³¼ëª© ì•„ì½”ë””ì–¸ (1ë‹¨ê³„) */
    .subject-accordion {
      background: #fff;
      border: 2px solid rgba(5, 150, 105, 0.15);
      border-radius: 14px;
      margin-bottom: 12px;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    .subject-accordion:hover {
      border-color: rgba(5, 150, 105, 0.3);
      box-shadow: 0 4px 15px rgba(5, 150, 105, 0.1);
    }
    .subject-header {
      padding: 18px 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    .subject-header:hover {
      background: #f0fdf4;
    }
    .subject-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .subject-title .icon {
      font-size: 22px;
    }
    .subject-arrow {
      font-size: 18px;
      color: var(--accent);
      transition: transform 0.3s ease;
    }
    .subject-accordion.open .subject-arrow {
      transform: rotate(180deg);
    }
    .subject-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }
    .subject-accordion.open .subject-content {
      max-height: 5000px;
    }
    .subject-body {
      padding: 0 24px 20px 24px;
      border-top: 1px solid #e9ecef;
    }

    /* ë‹¨ì› ì•„ì½”ë””ì–¸ (2ë‹¨ê³„) */
    .unit-accordion {
      background: #fafafa;
      border: 1px solid rgba(5, 150, 105, 0.1);
      border-radius: 10px;
      margin-top: 12px;
      overflow: hidden;
    }
    .unit-header {
      padding: 14px 18px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    .unit-header:hover {
      background: #f0fdf4;
    }
    .unit-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .unit-title .num {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 26px;
      height: 26px;
      background: linear-gradient(135deg, #059669 0%, #047857 100%);
      color: #fff;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 700;
    }
    .unit-arrow {
      font-size: 16px;
      color: var(--accent);
      transition: transform 0.3s ease;
    }
    .unit-accordion.open .unit-arrow {
      transform: rotate(180deg);
    }
    .unit-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }
    .unit-accordion.open .unit-content {
      max-height: 10000px;
    }
    .unit-body {
      padding: 16px 18px;
      border-top: 1px solid #e9ecef;
      background: #fff;
    }

    /* ë‹¨ì› ìƒì„¸ ì˜ì—­ */
    .detail-section {
      margin-bottom: 20px;
    }
    .detail-section:last-child {
      margin-bottom: 0;
    }
    .detail-section h4 {
      font-size: 14px;
      font-weight: 700;
      color: var(--accent-dark);
      margin: 0 0 12px 0;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--line);
    }
    .detail-section h4 .badge {
      display: inline-block;
      padding: 3px 8px;
      background: var(--accent);
      color: #fff;
      border-radius: 4px;
      font-size: 11px;
      margin-left: 8px;
      vertical-align: middle;
    }

    /* ë¬¸ë‹¨ë³„ ì¤‘ì‹¬ë‚´ìš© */
    .paragraph-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .paragraph-item {
      display: flex;
      gap: 12px;
      padding: 10px 0;
      border-bottom: 1px dashed #e9ecef;
    }
    .paragraph-item:last-child {
      border-bottom: none;
    }
    .paragraph-num {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 24px;
      height: 24px;
      background: #e0f2f1;
      color: var(--accent-dark);
      border-radius: 50%;
      font-size: 12px;
      font-weight: 700;
    }
    .paragraph-content {
      flex: 1;
      font-size: 14px;
      color: var(--text);
      line-height: 1.6;
    }

    /* êµì‚¬ìš© ê°€ì´ë“œ */
    .teacher-guide {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border-radius: 10px;
      padding: 16px 20px;
      font-size: 14px;
      line-height: 1.7;
      color: #78350f;
    }
    .teacher-guide .placeholder {
      color: #b45309;
      font-style: italic;
    }
    .teacher-guide h5 {
      margin: 16px 0 10px 0;
      font-size: 15px;
      font-weight: 700;
      color: #92400e;
    }
    .teacher-guide h5:first-child {
      margin-top: 0;
    }
    .teacher-guide ul {
      margin: 8px 0;
      padding-left: 20px;
    }
    .teacher-guide li {
      margin-bottom: 6px;
    }
    .teacher-guide b {
      color: #78350f;
    }

    /* ì°½ì˜í™œë™ ì˜ˆì‹œë‹µì•ˆ */
    .creative-topic {
      background: #f0fdf4;
      border-left: 4px solid var(--accent);
      padding: 12px 16px;
      margin-bottom: 12px;
      font-weight: 600;
      color: var(--accent-dark);
    }
    .creative-hint {
      background: #fefce8;
      border-left: 4px solid #eab308;
      padding: 12px 16px;
      margin-bottom: 12px;
      font-size: 14px;
      color: #854d0e;
    }
    .creative-examples {
      background: #f9fafb;
      border-radius: 10px;
      padding: 16px;
    }
    .creative-example-item {
      padding: 10px 0;
      border-bottom: 1px dashed #e5e7eb;
      font-size: 14px;
      line-height: 1.7;
      color: var(--text);
    }
    .creative-example-item:last-child {
      border-bottom: none;
    }
    .creative-example-item .label {
      display: inline-block;
      background: var(--accent);
      color: #fff;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
      margin-right: 8px;
    }
    .creative-example-item .placeholder {
      color: #9ca3af;
      font-style: italic;
    }

    /* ë¬¸ì œí’€ì´ ì •ë‹µ ë° í•´ì„¤ */
    .quiz-section {
      background: #f0f9ff;
      border-radius: 12px;
      padding: 20px;
      margin-top: 8px;
    }
    .quiz-item {
      background: #fff;
      border-radius: 10px;
      padding: 16px;
      margin-bottom: 12px;
      border: 1px solid #bae6fd;
    }
    .quiz-item:last-child {
      margin-bottom: 0;
    }
    .quiz-item-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }
    .quiz-index-badge {
      display: inline-block;
      background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);
      color: #fff;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }
    .quiz-index-name {
      font-size: 13px;
      color: #0369a1;
      font-weight: 600;
    }
    .quiz-question {
      background: #f8fafc;
      border-left: 3px solid #0284c7;
      padding: 12px 14px;
      margin-bottom: 12px;
      font-size: 14px;
      color: #1e293b;
      line-height: 1.6;
    }
    .quiz-options {
      margin-bottom: 12px;
    }
    .quiz-option {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      padding: 8px 12px;
      margin-bottom: 4px;
      border-radius: 6px;
      font-size: 13px;
      color: #475569;
      transition: all 0.2s ease;
    }
    .quiz-option.correct {
      background: #dcfce7;
      color: #166534;
      font-weight: 600;
    }
    .quiz-option.correct::before {
      content: 'âœ“';
      color: #16a34a;
      font-weight: 700;
    }
    .quiz-option-num {
      flex-shrink: 0;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #e2e8f0;
      border-radius: 50%;
      font-size: 11px;
      font-weight: 600;
      color: #64748b;
    }
    .quiz-option.correct .quiz-option-num {
      background: #16a34a;
      color: #fff;
    }
    .quiz-detail {
      background: #fffbeb;
      border: 1px solid #fde68a;
      border-radius: 8px;
      padding: 14px;
      font-size: 13px;
      line-height: 1.7;
      color: #78350f;
    }
    .quiz-detail-title {
      font-weight: 700;
      color: #92400e;
      margin-bottom: 8px;
      font-size: 13px;
    }
    .quiz-essay {
      background: #faf5ff;
      border: 1px solid #e9d5ff;
      border-radius: 8px;
      padding: 14px;
      font-size: 13px;
      line-height: 1.7;
      color: #581c87;
    }
    .quiz-essay-title {
      font-weight: 700;
      color: #7c3aed;
      margin-bottom: 8px;
    }
    .quiz-no-data {
      text-align: center;
      padding: 30px;
      color: #9ca3af;
      font-style: italic;
    }

    /* ë¡œë”© ìŠ¤í”¼ë„ˆ */
    .loading {
      text-align: center;
      padding: 40px;
      color: var(--text-light);
    }
    .loading .spinner {
      display: inline-block;
      width: 30px;
      height: 30px;
      border: 3px solid #e5e7eb;
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 12px;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* í—¤ë” ë ˆì´ì•„ì›ƒ */
    .header-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 20px;
      margin-bottom: 24px;
    }
    .header-left {
      flex: 1;
    }
    .header-left h1 {
      margin-bottom: 12px;
    }
    .header-left .sub {
      margin-bottom: 0;
    }

    /* ê²€ìƒ‰ ë°•ìŠ¤ */
    .search-box {
      position: relative;
      display: flex;
      gap: 8px;
      flex-shrink: 0;
    }
    .search-box input {
      width: 220px;
      padding: 12px 16px;
      border: 2px solid rgba(5, 150, 105, 0.2);
      border-radius: 10px;
      font-size: 14px;
      outline: none;
      transition: border-color 0.2s ease;
    }
    .search-box input:focus {
      border-color: var(--accent);
    }
    .search-box button {
      padding: 12px 16px;
      background: var(--accent);
      border: none;
      border-radius: 10px;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    .search-box button:hover {
      background: var(--accent-hover);
    }

    /* ê²€ìƒ‰ ê²°ê³¼ ë“œë¡­ë‹¤ìš´ */
    .search-results {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      margin-top: 8px;
      background: #fff;
      border: 2px solid rgba(5, 150, 105, 0.2);
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.12);
      max-height: 320px;
      overflow-y: auto;
      z-index: 100;
      display: none;
    }
    .search-results.show {
      display: block;
    }
    .search-result-item {
      padding: 12px 16px;
      cursor: pointer;
      border-bottom: 1px solid #f0f0f0;
      transition: background 0.15s ease;
    }
    .search-result-item:last-child {
      border-bottom: none;
    }
    .search-result-item:hover {
      background: #f0fdf4;
    }
    .search-result-item .title {
      font-weight: 600;
      color: var(--text);
      font-size: 14px;
    }
    .search-result-item .meta {
      font-size: 12px;
      color: var(--text-light);
      margin-top: 4px;
    }
    .search-result-item .meta .series-badge {
      display: inline-block;
      padding: 2px 6px;
      background: var(--accent);
      color: #fff;
      border-radius: 4px;
      font-size: 10px;
      margin-right: 6px;
    }
    .search-no-result {
      padding: 16px;
      text-align: center;
      color: var(--text-light);
      font-size: 14px;
    }

    /* ë°˜ì‘í˜• */
    @media (max-width: 768px) {
      .header-row {
        flex-direction: column;
      }
      .search-box {
        width: 100%;
      }
      .search-box input {
        flex: 1;
        width: auto;
      }
      .tab-btn {
        flex: none;
        width: calc(50% - 6px);
        padding: 14px 16px;
        font-size: 14px;
      }
      h1 { font-size: 26px; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <a href="/academy_admin_dashboard.html" class="back-btn">â† ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°</a>

    <div class="header-row">
      <div class="header-left">
        <h1>ğŸ“— ë¸Œë ˆì¸ë¬¸í•´ë ¥ ìˆ˜ì—… ì§€ì¹¨ì„œ</h1>
        <p class="sub">
          ê° ì‹œë¦¬ì¦ˆë³„ ê³¼ëª©ê³¼ ë‹¨ì›ì„ ì„ íƒí•˜ë©´ <b>ë¬¸ë‹¨ë³„ ì¤‘ì‹¬ë‚´ìš©</b>, <b>êµì‚¬ìš© ì§€ë„ ê°€ì´ë“œ</b>, <b>ì°½ì˜í™œë™ ì˜ˆì‹œë‹µì•ˆ</b>ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>
      </div>
      <div class="search-box">
        <input type="text" id="unitSearch" placeholder="ë‹¨ì›ëª… ê²€ìƒ‰..." />
        <button id="searchBtn">ğŸ”</button>
        <div id="searchResults" class="search-results"></div>
      </div>
    </div>

    <!-- ì‹œë¦¬ì¦ˆ íƒ­ -->
    <div class="tab-menu">
      <button class="tab-btn active" data-series="brainon">
        <span class="icon">ğŸŒ±</span>
        ë¸Œë ˆì¸ì˜¨
      </button>
      <button class="tab-btn" data-series="brainup">
        <span class="icon">ğŸš€</span>
        ë¸Œë ˆì¸ì—…
      </button>
      <button class="tab-btn" data-series="brainfit">
        <span class="icon">ğŸ’ª</span>
        ë¸Œë ˆì¸í•
      </button>
      <button class="tab-btn" data-series="braindeep">
        <span class="icon">ğŸ¯</span>
        ë¸Œë ˆì¸ë”¥
      </button>
    </div>

    <!-- íƒ­ ì½˜í…ì¸ : ë¸Œë ˆì¸ì˜¨ -->
    <div id="tab-brainon" class="tab-content active">
      <div class="loading">
        <div class="spinner"></div>
        <p>ê³¼ëª© ëª©ë¡ ë¡œë”© ì¤‘...</p>
      </div>
    </div>

    <!-- íƒ­ ì½˜í…ì¸ : ë¸Œë ˆì¸ì—… -->
    <div id="tab-brainup" class="tab-content">
      <div class="loading">
        <div class="spinner"></div>
        <p>ê³¼ëª© ëª©ë¡ ë¡œë”© ì¤‘...</p>
      </div>
    </div>

    <!-- íƒ­ ì½˜í…ì¸ : ë¸Œë ˆì¸í• -->
    <div id="tab-brainfit" class="tab-content">
      <div class="loading">
        <div class="spinner"></div>
        <p>ê³¼ëª© ëª©ë¡ ë¡œë”© ì¤‘...</p>
      </div>
    </div>

    <!-- íƒ­ ì½˜í…ì¸ : ë¸Œë ˆì¸ë”¥ -->
    <div id="tab-braindeep" class="tab-content">
      <div class="loading">
        <div class="spinner"></div>
        <p>ê³¼ëª© ëª©ë¡ ë¡œë”© ì¤‘...</p>
      </div>
    </div>
  </div>

  <script>
    // =============================================
    // ê³¼ëª© ë° ì‹œë¦¬ì¦ˆ ì„¤ì •
    // =============================================
    const SUBJECTS = {
      // ê³¼í•™ (4ê°œ)
      bio: { name: 'ìƒë¬¼', icon: 'ğŸ§¬', folder: 'science' },
      earth: { name: 'ì§€êµ¬ê³¼í•™', icon: 'ğŸŒ', folder: 'science' },
      physics: { name: 'ë¬¼ë¦¬', icon: 'âš¡', folder: 'science' },
      chem: { name: 'í™”í•™', icon: 'ğŸ§ª', folder: 'science' },
      // ì‚¬íšŒ (4ê°œ)
      soc: { name: 'ì‚¬íšŒë¬¸í™”', icon: 'ğŸ›ï¸', folder: 'social' },
      geo: { name: 'ì§€ë¦¬', icon: 'ğŸ—ºï¸', folder: 'social' },
      law: { name: 'ë²•', icon: 'âš–ï¸', folder: 'social' },
      pol: { name: 'ì •ì¹˜ê²½ì œ', icon: 'ğŸ“Š', folder: 'social' },
      // êµ­ì–´ë¬¸í•™ (2ê°œ)
      modern: { name: 'í˜„ëŒ€ë¬¸í•™', icon: 'ğŸ“–', folder: 'korlit' },
      classic: { name: 'ê³ ì „ë¬¸í•™', icon: 'ğŸ“œ', folder: 'korlit' },
      // ì„¸ê³„ë¬¸í•™ (2ê°œ)
      world1: { name: 'ì„¸ê³„ë¬¸í•™1', icon: 'ğŸŒ', folder: 'worldlit' },
      world2: { name: 'ì„¸ê³„ë¬¸í•™2', icon: 'ğŸŒ', folder: 'worldlit' },
      // ì¸ë¬¼ (2ê°œ)
      people1: { name: 'í•œêµ­ì¸ë¬¼', icon: 'ğŸ‡°ğŸ‡·', folder: 'person' },
      people2: { name: 'ì„¸ê³„ì¸ë¬¼', icon: 'ğŸŒ', folder: 'person' }
    };

    // ì‹œë¦¬ì¦ˆë³„ content.js íŒŒì¼ëª… ì ‘ë‘ì‚¬
    const SERIES_PREFIX = {
      brainon: 'on_',      // on_physics_content.js
      brainup: '',         // physics_content.js
      brainfit: 'fit_',    // fit_physics_content.js
      braindeep: 'deep_'   // deep_physics_content.js
    };

    // ìºì‹œëœ ì½˜í…ì¸  ë°ì´í„°
    const contentCache = {};

    // =============================================
    // íƒ­ ì „í™˜
    // =============================================
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        // íƒ­ ë²„íŠ¼ í™œì„±í™”
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        // íƒ­ ì½˜í…ì¸  ì „í™˜
        const series = btn.dataset.series;
        document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
        document.getElementById('tab-' + series).classList.add('active');

        // ê³¼ëª© ëª©ë¡ ë Œë”ë§
        renderSubjects(series);
      });
    });

    // =============================================
    // ê³¼ëª© ëª©ë¡ ë Œë”ë§
    // =============================================
    function renderSubjects(series) {
      const container = document.getElementById('tab-' + series);

      // ì´ë¯¸ ë Œë”ë§ ë˜ì—ˆìœ¼ë©´ ìŠ¤í‚µ
      if (container.querySelector('.subject-accordion')) return;

      let html = '';
      for (const [key, subject] of Object.entries(SUBJECTS)) {
        html += `
          <div class="subject-accordion" data-subject="${key}" data-series="${series}">
            <div class="subject-header" onclick="toggleSubject(this)">
              <span class="subject-title">
                <span class="icon">${subject.icon}</span>
                ${subject.name}
              </span>
              <span class="subject-arrow">â–¼</span>
            </div>
            <div class="subject-content">
              <div class="subject-body">
                <div class="loading">
                  <div class="spinner"></div>
                  <p>ë‹¨ì› ëª©ë¡ ë¡œë”© ì¤‘...</p>
                </div>
              </div>
            </div>
          </div>
        `;
      }
      container.innerHTML = html;
    }

    // =============================================
    // ê³¼ëª© ì•„ì½”ë””ì–¸ í† ê¸€
    // =============================================
    function toggleSubject(headerEl) {
      const accordion = headerEl.closest('.subject-accordion');
      const isOpen = accordion.classList.contains('open');

      // ë‹¤ë¥¸ ê³¼ëª© ë‹«ê¸° (ì„ íƒì )
      // accordion.parentElement.querySelectorAll('.subject-accordion').forEach(a => a.classList.remove('open'));

      if (isOpen) {
        accordion.classList.remove('open');
      } else {
        accordion.classList.add('open');
        // ë‹¨ì› ëª©ë¡ ë¡œë“œ
        const series = accordion.dataset.series;
        const subject = accordion.dataset.subject;
        loadUnits(series, subject, accordion.querySelector('.subject-body'));
      }
    }

    // =============================================
    // ë‹¨ì› ëª©ë¡ ë¡œë“œ
    // =============================================
    async function loadUnits(series, subjectKey, containerEl) {
      // ì´ë¯¸ ë¡œë“œë˜ì—ˆìœ¼ë©´ ìŠ¤í‚µ
      if (containerEl.querySelector('.unit-accordion')) return;

      const subject = SUBJECTS[subjectKey];
      const prefix = SERIES_PREFIX[series];
      const contentFile = `/BRAINUP/${subject.folder}/${prefix}${subjectKey}_content.js`;

      // ìºì‹œ í™•ì¸
      const cacheKey = `${series}_${subjectKey}`;
      if (contentCache[cacheKey]) {
        renderUnits(contentCache[cacheKey], subjectKey, containerEl);
        return;
      }

      try {
        // content.js íŒŒì¼ ë¡œë“œ (ìŠ¤í¬ë¦½íŠ¸ë¡œ ì£¼ì…)
        const response = await fetch(contentFile);
        if (!response.ok) {
          containerEl.innerHTML = `<p style="color: #ef4444;">í•´ë‹¹ ì‹œë¦¬ì¦ˆì˜ ${subject.name} ì½˜í…ì¸ ê°€ ì•„ì§ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>`;
          return;
        }

        const scriptText = await response.text();

        // CONTENTS ê°ì²´ ì¶”ì¶œ
        const contents = extractContents(scriptText, prefix, subjectKey);
        contentCache[cacheKey] = contents;

        renderUnits(contents, subjectKey, containerEl);
      } catch (err) {
        console.error('Error loading content:', err);
        containerEl.innerHTML = `<p style="color: #ef4444;">ì½˜í…ì¸  ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>`;
      }
    }

    // =============================================
    // content.jsì—ì„œ CONTENTS ê°ì²´ ì¶”ì¶œ
    // =============================================
    function extractContents(scriptText, prefix, subjectKey) {
      const contents = {};
      const unitPrefix = prefix + subjectKey + '_';

      // ì •ê·œì‹ìœ¼ë¡œ ê° ë‹¨ì› ë¸”ë¡ ì°¾ê¸°
      const unitRegex = new RegExp(`(${prefix}${subjectKey}_\\d{2}):\\s*\\{`, 'g');
      let match;

      while ((match = unitRegex.exec(scriptText)) !== null) {
        const unitKey = match[1];
        const startIdx = match.index;

        // í•´ë‹¹ ë‹¨ì›ì˜ ë°ì´í„° ì¶”ì¶œ (ê°„ë‹¨í•œ íŒŒì‹±)
        let braceCount = 0;
        let endIdx = startIdx;
        let inString = false;
        let stringChar = '';

        for (let i = scriptText.indexOf('{', startIdx); i < scriptText.length; i++) {
          const char = scriptText[i];

          if (!inString) {
            if (char === "'" || char === '"' || char === '`') {
              inString = true;
              stringChar = char;
            } else if (char === '{') {
              braceCount++;
            } else if (char === '}') {
              braceCount--;
              if (braceCount === 0) {
                endIdx = i + 1;
                break;
              }
            }
          } else {
            if (char === stringChar && scriptText[i-1] !== '\\') {
              inString = false;
            }
          }
        }

        const unitBlock = scriptText.substring(scriptText.indexOf('{', startIdx), endIdx);

        // í•„ìš”í•œ í•„ë“œ ì¶”ì¶œ
        const labelNo = extractField(unitBlock, 'labelNo');
        const title = extractField(unitBlock, 'title');
        const paragraphMain = extractArray(unitBlock, 'paragraphMain');
        const creative = extractCreative(unitBlock);
        const quiz = extractQuiz(unitBlock);
        const answerKey = extractAnswerKey(unitBlock);
        const detail = extractDetail(unitBlock);

        contents[unitKey] = {
          labelNo,
          title,
          paragraphMain,
          creative,
          quiz,
          answerKey,
          detail
        };
      }

      return contents;
    }

    function extractField(block, fieldName) {
      // ì—¬ëŸ¬ ì¤„ ì§€ì›ì„ ìœ„í•´ [\s\S] ì‚¬ìš©, í•˜ì§€ë§Œ greedyí•˜ì§€ ì•Šê²Œ *? ì‚¬ìš©
      // ë¨¼ì € ì‘ì€ë”°ì˜´í‘œ ì‹œë„
      let regex = new RegExp(`${fieldName}:\\s*'([^']*)'`);
      let match = block.match(regex);
      if (match) return match[1];

      // í°ë”°ì˜´í‘œ ì‹œë„
      regex = new RegExp(`${fieldName}:\\s*"([^"]*)"`);
      match = block.match(regex);
      if (match) return match[1];

      // ë°±í‹± ì‹œë„ (ì—¬ëŸ¬ ì¤„ ê°€ëŠ¥)
      regex = new RegExp(`${fieldName}:\\s*\`([^\`]*)\``);
      match = block.match(regex);
      if (match) return match[1];

      return '';
    }

    function extractArray(block, fieldName) {
      const regex = new RegExp(`${fieldName}:\\s*\\[([\\s\\S]*?)\\]`);
      const match = block.match(regex);
      if (!match) return [];

      const arrayContent = match[1];
      const items = [];
      const itemRegex = /['"`]([^'"`]+)['"`]/g;
      let itemMatch;
      while ((itemMatch = itemRegex.exec(arrayContent)) !== null) {
        items.push(itemMatch[1]);
      }
      return items;
    }

    function extractCreative(block) {
      // creative ë¸”ë¡ ì°¾ê¸° - examples ë°°ì—´ì˜ ë‹«ëŠ” ] ì´í›„ } ì°¾ê¸°
      const creativeStart = block.indexOf('creative:');
      if (creativeStart === -1) return null;

      // creative: { ì´í›„ì˜ ë‚´ìš© ì¶”ì¶œ
      const afterCreative = block.substring(creativeStart);
      let braceCount = 0;
      let startIdx = afterCreative.indexOf('{');
      let endIdx = -1;
      let inString = false;
      let stringChar = '';

      for (let i = startIdx; i < afterCreative.length; i++) {
        const char = afterCreative[i];

        if (!inString) {
          if (char === "'" || char === '"' || char === '`') {
            inString = true;
            stringChar = char;
          } else if (char === '{') {
            braceCount++;
          } else if (char === '}') {
            braceCount--;
            if (braceCount === 0) {
              endIdx = i + 1;
              break;
            }
          }
        } else {
          if (char === stringChar && afterCreative[i-1] !== '\\') {
            inString = false;
          }
        }
      }

      if (endIdx === -1) return null;

      const creativeBlock = afterCreative.substring(startIdx, endIdx);

      // topic ë˜ëŠ” title í•„ë“œ ì¶”ì¶œ (ì¼ë¶€ íŒŒì¼ì€ title ì‚¬ìš©)
      let topic = extractField(creativeBlock, 'topic');
      if (!topic) {
        topic = extractField(creativeBlock, 'title');
      }

      // hint ë˜ëŠ” instruction í•„ë“œ ì¶”ì¶œ
      let hint = extractField(creativeBlock, 'hint');
      if (!hint) {
        hint = extractField(creativeBlock, 'instruction');
      }

      // examples ë°°ì—´ ì¶”ì¶œ
      let examples = extractArray(creativeBlock, 'examples');

      // examplesê°€ ì—†ìœ¼ë©´ stepsì—ì„œ example ì¶”ì¶œ ì‹œë„
      if (examples.length === 0) {
        // steps ë°°ì—´ì—ì„œ example í•„ë“œë“¤ ì¶”ì¶œ
        const stepsMatch = creativeBlock.match(/steps:\s*\[([\s\S]*?)\]\s*$/);
        if (stepsMatch) {
          const stepsContent = stepsMatch[1];
          const exampleRegex = /example:\s*['"`]([^'"`]+)['"`]/g;
          let exMatch;
          while ((exMatch = exampleRegex.exec(stepsContent)) !== null) {
            examples.push(exMatch[1]);
          }
        }
      }

      return {
        topic,
        hint,
        examples
      };
    }

    // quiz ê°ì²´ ì¶”ì¶œ (q1_text, q1_opts, q2_text, q2_opts, ... q5_text)
    function extractQuiz(block) {
      const quizMatch = block.match(/quiz:\s*\{([\s\S]*?)\n\s*\},?\s*\n/);
      if (!quizMatch) return null;

      const quizBlock = quizMatch[1];
      const quiz = {};

      // q1~q5ì˜ textì™€ opts ì¶”ì¶œ
      for (let i = 1; i <= 5; i++) {
        // q{i}_text ì¶”ì¶œ
        const textRegex = new RegExp(`q${i}_text:\\s*['"\`]([\\s\\S]*?)['"\`]\\s*,`);
        const textMatch = quizBlock.match(textRegex);
        if (textMatch) {
          quiz[`q${i}_text`] = textMatch[1];
        }

        // q{i}_opts ì¶”ì¶œ (ë°°ì—´)
        const optsRegex = new RegExp(`q${i}_opts:\\s*\\[([\\s\\S]*?)\\]`);
        const optsMatch = quizBlock.match(optsRegex);
        if (optsMatch) {
          const optsContent = optsMatch[1];
          const opts = [];
          const optRegex = /['"`]([^'"`]+)['"`]/g;
          let optMatch;
          while ((optMatch = optRegex.exec(optsContent)) !== null) {
            opts.push(optMatch[1]);
          }
          quiz[`q${i}_opts`] = opts;
        }
      }

      return quiz;
    }

    // answerKey ê°ì²´ ì¶”ì¶œ { q1:'3', q2:'3', ... }
    function extractAnswerKey(block) {
      const answerMatch = block.match(/answerKey:\s*\{([^}]*)\}/);
      if (!answerMatch) return null;

      const answerBlock = answerMatch[1];
      const answerKey = {};

      for (let i = 1; i <= 5; i++) {
        const regex = new RegExp(`q${i}:\\s*['"\`]([^'"\`]*)['"\`]`);
        const match = answerBlock.match(regex);
        if (match) {
          answerKey[`q${i}`] = match[1];
        }
      }

      return answerKey;
    }

    // detail ê°ì²´ ì¶”ì¶œ { q1:'í•´ì„¤...', q2:'í•´ì„¤...', ... }
    function extractDetail(block) {
      const detailMatch = block.match(/detail:\s*\{([\s\S]*?)\n\s*\},?\s*\n/);
      if (!detailMatch) return null;

      const detailBlock = detailMatch[1];
      const detail = {};

      for (let i = 1; i <= 5; i++) {
        // ì—¬ëŸ¬ ì¤„ ë¬¸ìì—´ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ë°±í‹±ë„ ê³ ë ¤
        const regex = new RegExp(`q${i}:\\s*['"\`]([\\s\\S]*?)['"\`]\\s*,?\\s*(?=q\\d|$)`);
        const match = detailBlock.match(regex);
        if (match) {
          detail[`q${i}`] = match[1].trim();
        }
      }

      return detail;
    }

    // =============================================
    // ë‹¨ì› ëª©ë¡ ë Œë”ë§
    // =============================================
    function renderUnits(contents, subjectKey, containerEl) {
      const units = Object.entries(contents).sort((a, b) => a[0].localeCompare(b[0]));

      if (units.length === 0) {
        containerEl.innerHTML = '<p style="color: #6b7280;">ë“±ë¡ëœ ë‹¨ì›ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
        return;
      }

      let html = '';
      units.forEach(([unitKey, data]) => {
        html += `
          <div class="unit-accordion" data-unit="${unitKey}">
            <div class="unit-header" onclick="toggleUnit(this)">
              <span class="unit-title">
                <span class="num">${data.labelNo || unitKey.split('_').pop()}</span>
                ${data.title || unitKey}
              </span>
              <span class="unit-arrow">â–¼</span>
            </div>
            <div class="unit-content">
              <div class="unit-body">
                ${renderUnitDetail(data, unitKey)}
              </div>
            </div>
          </div>
        `;
      });
      containerEl.innerHTML = html;
    }

    // =============================================
    // ë‹¨ì› ì•„ì½”ë””ì–¸ í† ê¸€
    // =============================================
    function toggleUnit(headerEl) {
      const accordion = headerEl.closest('.unit-accordion');
      accordion.classList.toggle('open');
    }

    // =============================================
    // êµì‚¬ìš© ê°€ì´ë“œ ë°ì´í„° (í•˜ë“œì½”ë”©)
    // =============================================
    const TEACHER_GUIDES = {
      // ë¸Œë ˆì¸ì˜¨ ìƒë¬¼ 1ë‹¨ì›
      'on_bio_01': {
        teacherGuide: `
          <h5>ğŸ¯ í•™ìŠµ ëª©í‘œ</h5>
          <ul>
            <li>ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì˜ ì°¨ì´ì ì„ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.</li>
            <li>ìƒë¬¼ì˜ ê¸°ë³¸ íŠ¹ì§•(ì„­ì·¨, ë²ˆì‹, í˜¸í¡)ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.</li>
            <li>ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì´ ìì—°ì—ì„œ ì„œë¡œ ì˜í–¥ì„ ì£¼ê³ ë°›ìŒì„ ì´í•´í•œë‹¤.</li>
          </ul>
          <h5>ğŸ“– í•µì‹¬ ê°œë… ì„¤ëª… í¬ì¸íŠ¸</h5>
          <ul>
            <li><b>ìƒë¬¼ vs ë¬´ìƒë¬¼</b>: "ìŠ¤ìŠ¤ë¡œ ì›€ì§ì´ê³ , ë¨¹ê³ , ìë¼ê³ , ë²ˆì‹í•˜ëŠ”ê°€?"ë¥¼ ê¸°ì¤€ìœ¼ë¡œ êµ¬ë¶„í•´ìš”. ê°•ì•„ì§€ëŠ” ìƒë¬¼, ëŒì€ ë¬´ìƒë¬¼!</li>
            <li><b>ìƒë¬¼ì˜ 5ê°€ì§€ íŠ¹ì§•</b>: â‘  ì˜ì–‘ë¶„ ì„­ì·¨ â‘¡ í˜¸í¡ â‘¢ ì„±ì¥ â‘£ ë²ˆì‹ â‘¤ ìê·¹ì— ë°˜ì‘</li>
            <li><b>ìì—°ì˜ ìˆœí™˜</b>: ì£½ì€ ìƒë¬¼ â†’ ì„¸ê· /ê³°íŒ¡ì´ê°€ ë¶„í•´ â†’ í™ ì† ì–‘ë¶„ â†’ ì‹ë¬¼ì´ í¡ìˆ˜ â†’ ë™ë¬¼ì´ ë¨¹ìŒ â†’ ë°˜ë³µ</li>
          </ul>
          <h5>â“ í•™ìƒ ì§ˆë¬¸ ì˜ˆìƒ & ë‹µë³€ ê°€ì´ë“œ</h5>
          <ul>
            <li><b>Q: ë°”ì´ëŸ¬ìŠ¤ëŠ” ìƒë¬¼ì´ì—ìš”?</b><br>A: ì¢‹ì€ ì§ˆë¬¸ì´ì—ìš”! ë°”ì´ëŸ¬ìŠ¤ëŠ” ìŠ¤ìŠ¤ë¡œ ë²ˆì‹í•˜ì§€ ëª»í•˜ê³  ë‹¤ë¥¸ ìƒë¬¼ì— ê¸°ìƒí•´ì•¼ í•´ìš”. ê·¸ë˜ì„œ "ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì˜ ê²½ê³„"ì— ìˆë‹¤ê³  í•´ìš”.</li>
            <li><b>Q: ë¶ˆì€ ì›€ì§ì´ëŠ”ë° ì™œ ë¬´ìƒë¬¼ì´ì—ìš”?</b><br>A: ë¶ˆì€ ì‚°ì†Œì™€ ì—°ë£Œê°€ ìˆì–´ì•¼ íƒ€ìš”. ìŠ¤ìŠ¤ë¡œ ë¨¹ì´ë¥¼ ì°¾ê±°ë‚˜ ë²ˆì‹í•˜ì§€ ì•Šì£ . ê·¸ë˜ì„œ ë¬´ìƒë¬¼ì´ì—ìš”!</li>
          </ul>
          <h5>ğŸ’¡ í™œë™ ì œì•ˆ</h5>
          <ul>
            <li>êµì‹¤/ì§‘ì—ì„œ ìƒë¬¼ 5ê°œ, ë¬´ìƒë¬¼ 5ê°œ ì°¾ì•„ ë¶„ë¥˜í•´ë³´ê¸°</li>
            <li>"ë‚´ê°€ ë§Œì•½ ë‚˜ë¬´ë¼ë©´" ì—­í• ê·¹ìœ¼ë¡œ ìì—° ìˆœí™˜ ì´í•´í•˜ê¸°</li>
          </ul>
        `,
        creativeExamples: [
          'í•™êµ í™”ë‹¨ì˜ ë‚˜ë¬´(ìƒë¬¼)ëŠ” í™ê³¼ ë¬¼(ë¬´ìƒë¬¼)ì—ì„œ ë¿Œë¦¬ë¥¼ ë‚´ë¦¬ê³  ì–‘ë¶„ì„ í¡ìˆ˜í•´ìš”. ë‚˜ë¬´ê°€ ê´‘í•©ì„±ì„ í•˜ë©´ ì‚°ì†Œê°€ ë‚˜ì˜¤ê³ , ìš°ë¦¬ê°€ ìˆ¨ ì‰´ ë•Œ ë‚´ë±‰ëŠ” ì´ì‚°í™”íƒ„ì†ŒëŠ” ë‹¤ì‹œ ë‚˜ë¬´ê°€ ì‚¬ìš©í•´ìš”. ê°€ì„ì— ë‚™ì—½ì´ ë–¨ì–´ì§€ë©´ ë•…ì—ì„œ ì©ì–´ í™ì˜ ì˜ì–‘ë¶„ì´ ë˜ê³ , ê·¸ ì˜ì–‘ë¶„ìœ¼ë¡œ ë‚˜ë¬´ê°€ ë˜ ìë¼ìš”. ì´ë ‡ê²Œ ì„œë¡œ í•„ìš”í•œ ê²ƒì„ ì£¼ê³ ë°›ìœ¼ë‹ˆê¹Œ ê· í˜•ì´ë¼ê³  í•  ìˆ˜ ìˆì–´ìš”.',
          'ì—°ëª»ì˜ ë¬¼ê³ ê¸°(ìƒë¬¼)ì™€ ë¬¼(ë¬´ìƒë¬¼)ì˜ ê´€ê³„ë¥¼ ì˜ˆë¡œ ë“¤ ìˆ˜ ìˆì–´ìš”. ë¬¼ê³ ê¸°ëŠ” ë¬¼ì†ì—ì„œ ì•„ê°€ë¯¸ë¡œ ìˆ¨ì„ ì‰¬ê³ , ë¬¼ì— ë…¹ì•„ ìˆëŠ” ì‚°ì†Œë¥¼ ì–»ì–´ìš”. ë¬¼ê³ ê¸°ê°€ ë°°ì„¤ë¬¼ì„ ë‚´ë³´ë‚´ë©´ ë¯¸ìƒë¬¼ì´ ë¶„í•´í•˜ê³ , ê·¸ê²Œ ë¬¼í’€ì˜ ì˜ì–‘ë¶„ì´ ë¼ìš”. ë¬¼í’€ì€ ê´‘í•©ì„±ìœ¼ë¡œ ì‚°ì†Œë¥¼ ë§Œë“¤ì–´ ë¬¼ì†ì— ë…¹ì—¬ì£¼ì£ . ë¬¼ê³¼ ë¬¼ê³ ê¸°, ë¬¼í’€ì´ ì„œë¡œ ë„ìš°ë©° ì‚´ì•„ê°€ë‹ˆê¹Œ ê· í˜•ì´ì—ìš”.',
          'ìš°ë¦¬ ì§‘ í™”ë¶„ì˜ ê½ƒ(ìƒë¬¼)ê³¼ í–‡ë¹›, ê³µê¸°, ë¬¼(ë¬´ìƒë¬¼)ì€ ì„œë¡œ ì—°ê²°ë˜ì–´ ìˆì–´ìš”. ê½ƒì€ í–‡ë¹›ìœ¼ë¡œ ê´‘í•©ì„±ì„ í•´ì„œ ì–‘ë¶„ì„ ë§Œë“¤ê³ , ë¬¼ì„ í¡ìˆ˜í•´ì„œ ìë¼ìš”. ê³µê¸° ì¤‘ì˜ ì´ì‚°í™”íƒ„ì†Œë„ í•„ìš”í•˜ì£ . ê½ƒì´ í”¼ë©´ ë²Œ(ìƒë¬¼)ì´ ì°¾ì•„ì™€ ê½ƒê°€ë£¨ë¥¼ ì˜®ê¸°ê³ , ì”¨ì•—ì´ ë§ºí˜€ìš”. ê½ƒì´ ì‹œë“¤ë©´ í™ì— ì„ì—¬ ê±°ë¦„ì´ ë˜ê³ ìš”. ëª¨ë‘ê°€ ì„œë¡œ ì˜í–¥ì„ ì£¼ê³ ë°›ìœ¼ë‹ˆ ìì—°ì˜ ê· í˜•ì´ì—ìš”.'
        ]
      },
      // ë¸Œë ˆì¸ì—… ìƒë¬¼ 1ë‹¨ì›
      'bio_01': {
        teacherGuide: `
          <h5>ğŸ¯ í•™ìŠµ ëª©í‘œ</h5>
          <ul>
            <li>ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì˜ ê³¼í•™ì  ì •ì˜ì™€ êµ¬ë¶„ ê¸°ì¤€ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.</li>
            <li>ìƒë¬¼ì˜ 7ê°€ì§€ íŠ¹ì§•(ì˜ì–‘, í˜¸í¡, ë°°ì„¤, ì„±ì¥, ìš´ë™, ìê·¹ë°˜ì‘, ìƒì‹)ì„ ì´í•´í•œë‹¤.</li>
            <li>ìƒíƒœê³„ì—ì„œ ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì˜ ìƒí˜¸ì‘ìš©ê³¼ ìˆœí™˜ì„ ë¶„ì„í•  ìˆ˜ ìˆë‹¤.</li>
          </ul>
          <h5>ğŸ“– í•µì‹¬ ê°œë… ì„¤ëª… í¬ì¸íŠ¸</h5>
          <ul>
            <li><b>ìƒë¬¼ì˜ ì •ì˜</b>: ì„¸í¬ë¡œ êµ¬ì„±ë˜ì–´ ìˆê³ , ë¬¼ì§ˆëŒ€ì‚¬ë¥¼ í•˜ë©°, ìƒì‹ì„ í†µí•´ ìì†ì„ ë‚¨ê¸°ëŠ” ì¡´ì¬</li>
            <li><b>ë¬´ìƒë¬¼ì˜ ì—­í• </b>: ë¹›, ì˜¨ë„, ë¬¼, ê³µê¸°, í† ì–‘ ë“± ìƒë¬¼ì´ ì‚´ì•„ê°€ëŠ” ë° í•„ìˆ˜ì ì¸ í™˜ê²½ ìš”ì†Œ</li>
            <li><b>ìƒíƒœê³„ ìˆœí™˜</b>: ìƒì‚°ì(ì‹ë¬¼) â†’ ì†Œë¹„ì(ë™ë¬¼) â†’ ë¶„í•´ì(ì„¸ê· , ê³°íŒ¡ì´) â†’ ë¬´ê¸°ë¬¼ â†’ ë‹¤ì‹œ ìƒì‚°ì</li>
            <li><b>í•­ìƒì„±</b>: ìƒë¬¼ì´ í™˜ê²½ ë³€í™”ì—ë„ ì²´ì˜¨, ìˆ˜ë¶„ ë“±ì„ ì¼ì •í•˜ê²Œ ìœ ì§€í•˜ë ¤ëŠ” íŠ¹ì„±</li>
          </ul>
          <h5>â“ í•™ìƒ ì§ˆë¬¸ ì˜ˆìƒ & ë‹µë³€ ê°€ì´ë“œ</h5>
          <ul>
            <li><b>Q: ì„¸í¬ê°€ ì—†ìœ¼ë©´ ìƒë¬¼ì´ ì•„ë‹Œê°€ìš”?</b><br>A: ë°”ì´ëŸ¬ìŠ¤ëŠ” ì„¸í¬ê°€ ì—†ì–´ì„œ ì™„ì „í•œ ìƒë¬¼ë¡œ ë³´ê¸° ì–´ë ¤ì›Œìš”. í•˜ì§€ë§Œ DNA/RNAê°€ ìˆê³  ë³µì œí•˜ë‹ˆê¹Œ "ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì˜ ê²½ê³„"ì— ìˆë‹¤ê³  í•´ìš”.</li>
            <li><b>Q: ì‹ë¬¼ë„ í˜¸í¡í•´ìš”?</b><br>A: ë„¤! ì‹ë¬¼ì€ ë‚®ì—ëŠ” ê´‘í•©ì„±ìœ¼ë¡œ ì‚°ì†Œë¥¼ ë‚´ë†“ì§€ë§Œ, ë°¤ì—ëŠ” ë™ë¬¼ì²˜ëŸ¼ ì‚°ì†Œë¥¼ ë§ˆì‹œê³  ì´ì‚°í™”íƒ„ì†Œë¥¼ ë‚´ë±‰ì–´ìš”.</li>
            <li><b>Q: ë¶„í•´ìê°€ ì™œ ì¤‘ìš”í•´ìš”?</b><br>A: ë¶„í•´ìê°€ ì—†ìœ¼ë©´ ì£½ì€ ìƒë¬¼ì´ ìŒ“ì—¬ì„œ ì˜ì–‘ë¶„ì´ ìˆœí™˜ë˜ì§€ ì•Šì•„ìš”. ì‹ë¬¼ì´ ìë„ ìˆ˜ ì—†ê³ , ê²°êµ­ ëª¨ë“  ìƒë¬¼ì´ ì‚´ ìˆ˜ ì—†ê²Œ ë¼ìš”.</li>
          </ul>
          <h5>ğŸ’¡ ì‹¬í™” í™œë™ ì œì•ˆ</h5>
          <ul>
            <li>ë¯¸ë‹ˆ ìƒíƒœê³„(í…Œë¼ë¦¬ì›€) ë§Œë“¤ê¸°: í™, ë¬¼, ì‹ë¬¼, ì‘ì€ ê³¤ì¶©ì˜ ìƒí˜¸ì‘ìš© ê´€ì°°</li>
            <li>ìƒíƒœê³„ ì—­í• ê·¹: ìƒì‚°ì, ì†Œë¹„ì, ë¶„í•´ì ì—­í•  ë‚˜ëˆ ì„œ ìˆœí™˜ ê³¼ì • ì²´í—˜</li>
            <li>íƒêµ¬ ë³´ê³ ì„œ: "ìš°ë¦¬ ë™ë„¤ ê³µì›ì˜ ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ ê´€ê³„ ì¡°ì‚¬"</li>
          </ul>
        `,
        creativeExamples: [
          'ìˆ²ì† ì°¸ë‚˜ë¬´(ìƒë¬¼)ëŠ” í™ê³¼ ë¬¼, í–‡ë¹›(ë¬´ìƒë¬¼)ì„ ì´ìš©í•´ ê´‘í•©ì„±ìœ¼ë¡œ ì–‘ë¶„ì„ ë§Œë“¤ì–´ìš”. ì°¸ë‚˜ë¬´ê°€ ìë¼ë©´ì„œ ì‚°ì†Œë¥¼ ë°©ì¶œí•˜ê³ , ë‹¤ëŒì¥ì™€ ìƒˆ(ìƒë¬¼)ì—ê²Œ ë„í† ë¦¬ì™€ ë‘¥ì§€ë¥¼ ì œê³µí•˜ì£ . ê°€ì„ì— ë–¨ì–´ì§„ ë‚™ì—½ì€ ê³°íŒ¡ì´ì™€ ì„¸ê· (ë¶„í•´ì)ì— ì˜í•´ ë¶„í•´ë˜ì–´ í™ ì† ì–‘ë¶„ì´ ë¼ìš”. ì´ ì–‘ë¶„ì€ ë‹¤ì‹œ ì°¸ë‚˜ë¬´ ë¿Œë¦¬ê°€ í¡ìˆ˜í•´ ì„±ì¥ì— ì‚¬ìš©í•˜ê³ ìš”. ì´ì²˜ëŸ¼ ë‚˜ë¬´ í•œ ê·¸ë£¨ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì´ ëŠì„ì—†ì´ ë¬¼ì§ˆê³¼ ì—ë„ˆì§€ë¥¼ ì£¼ê³ ë°›ìœ¼ë©° ìˆœí™˜í•˜ê¸° ë•Œë¬¸ì— "ê· í˜•"ì´ë¼ê³  ë¶€ë¥¼ ìˆ˜ ìˆì–´ìš”.',
          'ê°•ì˜ ìƒíƒœê³„ë¥¼ ì˜ˆë¡œ ë“¤ë©´, ë¬¼(ë¬´ìƒë¬¼)ì€ ë¬¼ê³ ê¸°, ìˆ˜ì´ˆ, í”Œë‘í¬í†¤(ìƒë¬¼)ì´ ì‚´ì•„ê°€ëŠ” í„°ì „ì´ì—ìš”. ìˆ˜ì´ˆëŠ” í–‡ë¹›ìœ¼ë¡œ ê´‘í•©ì„±ì„ í•´ì„œ ë¬¼ì†ì— ì‚°ì†Œë¥¼ ê³µê¸‰í•˜ê³ , ì‘ì€ ë¬¼ê³ ê¸°ì˜ ë¨¹ì´ê°€ ë˜ì£ . í° ë¬¼ê³ ê¸°ëŠ” ì‘ì€ ë¬¼ê³ ê¸°ë¥¼ ë¨¹ê³ , ì£½ìœ¼ë©´ ë°”ë‹¥ì— ê°€ë¼ì•‰ì•„ ë¯¸ìƒë¬¼ì— ì˜í•´ ë¶„í•´ë¼ìš”. ë¶„í•´ëœ ì˜ì–‘ë¶„ì€ ë¬¼ì— ë…¹ì•„ ë‹¤ì‹œ ìˆ˜ì´ˆê°€ ì‚¬ìš©í•˜ê³ ìš”. ê°•ë¬¼ì˜ íë¦„, ì˜¨ë„, ê¹Šì´ ê°™ì€ ë¬´ìƒë¬¼ì  ìš”ì†Œì™€ ë‹¤ì–‘í•œ ìƒë¬¼ì´ ì„œë¡œ ì˜í–¥ì„ ì£¼ë©° ì¼ì •í•œ ìƒíƒœë¥¼ ìœ ì§€í•˜ë‹ˆ ì´ê²ƒì´ ê· í˜•ì´ì—ìš”.',
          'ë…¼ì—ì„œ ë²¼(ìƒë¬¼)ëŠ” í™ ì† ì˜ì–‘ë¶„ê³¼ ë¬¼, í–‡ë¹›(ë¬´ìƒë¬¼)ì„ í¡ìˆ˜í•´ ìë¼ìš”. ë²¼ ì‚¬ì´ì— ì‚¬ëŠ” ê°œêµ¬ë¦¬ëŠ” í•´ì¶©ì„ ì¡ì•„ë¨¹ì–´ ë²¼ë¥¼ ë³´í˜¸í•˜ê³ , ë…¼ë¬¼ ì† ë¯¸ìƒë¬¼ì€ ìœ ê¸°ë¬¼ì„ ë¶„í•´í•´ ì˜ì–‘ë¶„ì„ ë§Œë“¤ì–´ìš”. ê°€ì„ì— ë²¼ë¥¼ ìˆ˜í™•í•˜ê³  ë‚¨ì€ ë³ì§šì´ ë…¼ì— ë¿Œë ¤ì§€ë©´, ë¶„í•´ë˜ì–´ ë‹¤ìŒ í•´ ë²¼ ë†ì‚¬ë¥¼ ìœ„í•œ ê±°ë¦„ì´ ë˜ì£ . ë†ë¶€ê°€ ë¬¼ì„ ëŒ€ê³  ë¹¼ëŠ” ê²ƒë„ ì´ ìˆœí™˜ì„ ë•ëŠ” ê±°ì˜ˆìš”. ë…¼ì´ë¼ëŠ” ì‘ì€ ìƒíƒœê³„ì—ì„œ ìƒë¬¼ê³¼ ë¬´ìƒë¬¼, ê·¸ë¦¬ê³  ì¸ê°„ê¹Œì§€ ì—°ê²°ë˜ì–´ ê· í˜•ì„ ì´ë£¨ê³  ìˆì–´ìš”.'
        ]
      },
      // ë¸Œë ˆì¸í• ìƒë¬¼ 1ë‹¨ì›
      'fit_bio_01': {
        teacherGuide: `
          <h5>ğŸ¯ í•™ìŠµ ëª©í‘œ</h5>
          <ul>
            <li>ìƒëª… í™œë™ì˜ ì •ì˜ì™€ ìƒë¬¼ì˜ ë³¸ì§ˆì  íŠ¹ì„±ì„ ì¢…í•©ì ìœ¼ë¡œ ì´í•´í•œë‹¤.</li>
            <li>ê´‘í•©ì„±, í˜¸í¡, ì˜ì–‘ë¶„ í¡ìˆ˜ ë“± ì—ë„ˆì§€ íšë“ ë°©ì‹ì„ ë¹„êµ ë¶„ì„í•œë‹¤.</li>
            <li>ìƒë¬¼ì˜ ë²ˆì‹ê³¼ ìœ ì „ ì •ë³´ ì „ë‹¬ì˜ ì˜ë¯¸ë¥¼ íŒŒì•…í•œë‹¤.</li>
            <li>ìì—°ì˜ ë¬¼ì§ˆ ìˆœí™˜ì—ì„œ ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì˜ ì—­í• ì„ ì„¤ëª…í•œë‹¤.</li>
          </ul>
          <h5>ğŸ“– í•µì‹¬ ê°œë… ì„¤ëª… í¬ì¸íŠ¸</h5>
          <ul>
            <li><b>ìƒëª… í™œë™</b>: ìˆ¨ ì‰¬ê³ , ë¨¹ê³ , ìë¼ê³ , ë²ˆì‹í•˜ëŠ” ëª¨ë“  í™œë™ â†’ ì—ë„ˆì§€ê°€ í•„ìš”!</li>
            <li><b>ì—ë„ˆì§€ íšë“ ë°©ì‹ ë¹„êµ</b>:
              <br>- ì‹ë¬¼: ê´‘í•©ì„±(ë¹› ì—ë„ˆì§€ â†’ í™”í•™ ì—ë„ˆì§€)
              <br>- ë™ë¬¼: ë¨¹ì´ ì„­ì·¨(í™”í•™ ì—ë„ˆì§€ â†’ ìš´ë™/ì—´ ì—ë„ˆì§€)
              <br>- ê³µí†µ: ì„¸í¬ í˜¸í¡ìœ¼ë¡œ ATP ìƒì„±
            </li>
            <li><b>ë²ˆì‹ì˜ ì˜ë¯¸</b>: ë‹¨ìˆœíˆ ìì†ì„ ë‚³ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìœ ì „ ì •ë³´(DNA)ë¥¼ ë‹¤ìŒ ì„¸ëŒ€ì— ì „ë‹¬í•˜ëŠ” ê²ƒ</li>
            <li><b>ë¬¼ì§ˆ ìˆœí™˜ê³¼ ì—ë„ˆì§€ íë¦„</b>: ë¬¼ì§ˆì€ ìˆœí™˜í•˜ì§€ë§Œ, ì—ë„ˆì§€ëŠ” í•œ ë°©í–¥ìœ¼ë¡œ íë¦„(íƒœì–‘ â†’ ìƒì‚°ì â†’ ì†Œë¹„ì â†’ ë¶„í•´ì â†’ ì—´ë¡œ ë°©ì¶œ)</li>
          </ul>
          <h5>â“ í•™ìƒ ì§ˆë¬¸ ì˜ˆìƒ & ë‹µë³€ ê°€ì´ë“œ</h5>
          <ul>
            <li><b>Q: ì‹ë¬¼ì€ ë°¤ì— ë­˜ë¡œ ì—ë„ˆì§€ë¥¼ ì–»ì–´ìš”?</b><br>A: ë‚®ì— ê´‘í•©ì„±ìœ¼ë¡œ ë§Œë“  í¬ë„ë‹¹ì„ ì €ì¥í•´ë’€ë‹¤ê°€, ë°¤ì— í˜¸í¡ìœ¼ë¡œ ë¶„í•´í•´ì„œ ì—ë„ˆì§€ë¥¼ ì–»ì–´ìš”.</li>
            <li><b>Q: ë¬´ì„±ìƒì‹ê³¼ ìœ ì„±ìƒì‹ì˜ ì°¨ì´ëŠ”ìš”?</b><br>A: ë¬´ì„±ìƒì‹ì€ ë¶€ëª¨ 1ëª…ì˜ ìœ ì „ìë§Œ ì „ë‹¬(ë³µì œ), ìœ ì„±ìƒì‹ì€ ë¶€ëª¨ 2ëª…ì˜ ìœ ì „ìê°€ ì„ì—¬ì„œ ë‹¤ì–‘ì„±ì´ ìƒê²¨ìš”.</li>
            <li><b>Q: ì—ë„ˆì§€ëŠ” ì™œ ìˆœí™˜í•˜ì§€ ì•Šì•„ìš”?</b><br>A: ìƒë¬¼ì´ ì—ë„ˆì§€ë¥¼ ì‚¬ìš©í•  ë•Œë§ˆë‹¤ ì¼ë¶€ê°€ ì—´ë¡œ ë¹ ì ¸ë‚˜ê°€ìš”. ê·¸ë˜ì„œ ê³„ì† íƒœì–‘ì—ì„œ ìƒˆ ì—ë„ˆì§€ë¥¼ ë°›ì•„ì•¼ í•´ìš”.</li>
          </ul>
          <h5>ğŸ’¡ ì‹¬í™” í™œë™ ì œì•ˆ</h5>
          <ul>
            <li>ì—ë„ˆì§€ í”¼ë¼ë¯¸ë“œ ê·¸ë¦¬ê¸°: ìƒì‚°ì â†’ 1ì°¨ ì†Œë¹„ì â†’ 2ì°¨ ì†Œë¹„ì â†’ 3ì°¨ ì†Œë¹„ìì˜ ì—ë„ˆì§€ ê°ì†Œ ì‹œê°í™”</li>
            <li>ê´‘í•©ì„± ì‹¤í—˜: ìˆ˜ì´ˆë¥¼ ë¬¼ì†ì— ë„£ê³  ë¹›ì„ ë¹„ì¶° ê¸°í¬(ì‚°ì†Œ) ê´€ì°°</li>
            <li>í† ë¡ : "ë§Œì•½ ë¶„í•´ìê°€ ì‚¬ë¼ì§„ë‹¤ë©´ ì§€êµ¬ëŠ” ì–´ë–»ê²Œ ë ê¹Œ?"</li>
          </ul>
        `,
        creativeExamples: [
          'í–‡ë¹›(ë¬´ìƒë¬¼)ì€ ì‹ë¬¼(ìƒë¬¼)ì˜ ê´‘í•©ì„±ì— í•„ìˆ˜ì ì¸ ì—ë„ˆì§€ì›ì´ì—ìš”. ì‹ë¬¼ì€ ì´ ë¹› ì—ë„ˆì§€ë¥¼ í™”í•™ ì—ë„ˆì§€(í¬ë„ë‹¹)ë¡œ ë³€í™˜í•´ ì €ì¥í•˜ì£ . í† ë¼(1ì°¨ ì†Œë¹„ì)ê°€ ì‹ë¬¼ì„ ë¨¹ìœ¼ë©´ ê·¸ ì—ë„ˆì§€ì˜ ì•½ 10%ë§Œ í† ë¼ ëª¸ì— ì €ì¥ë˜ê³ , ì—¬ìš°(2ì°¨ ì†Œë¹„ì)ê°€ í† ë¼ë¥¼ ë¨¹ìœ¼ë©´ ë˜ 10%ë§Œ ì „ë‹¬ë¼ìš”. ì—¬ìš°ê°€ ì£½ìœ¼ë©´ ê³°íŒ¡ì´ì™€ ì„¸ê· ì´ ë¶„í•´í•´ì„œ í™ ì† ì–‘ë¶„(ë¬´ìƒë¬¼)ìœ¼ë¡œ ëŒë ¤ë³´ë‚´ìš”. ì´ë ‡ê²Œ ì—ë„ˆì§€ëŠ” íƒœì–‘ì—ì„œ ì‹œì‘í•´ ê° ë‹¨ê³„ë¥¼ ê±°ì¹˜ë©° ì¤„ì–´ë“¤ê³ , ë¬¼ì§ˆì€ ê³„ì† ìˆœí™˜í•˜ë‹ˆê¹Œ ì„œë¡œ ì—°ê²°ëœ ê· í˜•ì´ì—ìš”.',
          'ì—°ëª» ìƒíƒœê³„ì—ì„œ ë¬¼ê³¼ ê³µê¸°(ë¬´ìƒë¬¼)ëŠ” ëª¨ë“  ìƒë¬¼ì˜ ìƒì¡´ ê¸°ë°˜ì´ì—ìš”. ì¡°ë¥˜(ì‹ë¬¼í”Œë‘í¬í†¤)ëŠ” ë¬¼ì† ì´ì‚°í™”íƒ„ì†Œì™€ í–‡ë¹›ìœ¼ë¡œ ê´‘í•©ì„±ì„ í•´ì„œ ì‚°ì†Œë¥¼ ë§Œë“¤ê³ , ë™ë¬¼í”Œë‘í¬í†¤ì´ ì¡°ë¥˜ë¥¼ ë¨¹ì–´ìš”. ì‘ì€ ë¬¼ê³ ê¸°ê°€ ë™ë¬¼í”Œë‘í¬í†¤ì„ ë¨¹ê³ , í° ë¬¼ê³ ê¸°ê°€ ì‘ì€ ë¬¼ê³ ê¸°ë¥¼ ë¨¹ì£ . ë¬¼ì† ì„¸ê· ì€ ì£½ì€ ìƒë¬¼ì„ ë¶„í•´í•´ì„œ ì§ˆì†Œ, ì¸ ê°™ì€ ì˜ì–‘ë¶„ì„ ë¬¼ì— ë…¹ì—¬ìš”. ì´ ì˜ì–‘ë¶„ì„ ë‹¤ì‹œ ì¡°ë¥˜ê°€ í¡ìˆ˜í•˜ê³ ìš”. ë¬¼ì˜ ì˜¨ë„ë‚˜ ì‚°ì†ŒëŸ‰ ê°™ì€ ë¬´ìƒë¬¼ ì¡°ê±´ì´ ë³€í•˜ë©´ ìƒë¬¼ ì „ì²´ì— ì˜í–¥ì„ ë¯¸ì¹˜ë‹ˆ, ì´ ê· í˜•ì´ ê¹¨ì§€ì§€ ì•Šë„ë¡ ì„œë¡œ ì¡°ì ˆí•˜ëŠ” ê±°ì˜ˆìš”.',
          'ìˆ²ì—ì„œ ë‚˜ë¬´(ìƒë¬¼)ëŠ” ë¿Œë¦¬ë¡œ í™ê³¼ ë¬¼(ë¬´ìƒë¬¼)ì—ì„œ ë¬´ê¸°ì—¼ë¥˜ë¥¼ í¡ìˆ˜í•˜ê³ , ìì—ì„œ ì´ì‚°í™”íƒ„ì†Œë¥¼ ë°›ì•„ ê´‘í•©ì„±ì„ í•´ìš”. ì´ë•Œ ë§Œë“  í¬ë„ë‹¹ì€ ë‚˜ë¬´ ì„±ì¥ì— ì“°ì´ê³ , ì‚°ì†ŒëŠ” ê³µê¸° ì¤‘ì— ë°©ì¶œë˜ì£ . ë‚™ì—½ì´ ì§€ë©´ ë•…ì† ì§€ë ì´ì™€ ë¯¸ìƒë¬¼ì´ ë¶„í•´í•´ì„œ ë¶€ì‹í† (ì˜ì–‘ë¶„ í’ë¶€í•œ í™)ë¥¼ ë§Œë“¤ì–´ìš”. ì´ ë¶€ì‹í† ì—ì„œ ìƒˆ ì‹ë¬¼ì´ ìë¼ê³ , ê³¤ì¶©ê³¼ ìƒˆê°€ ì°¾ì•„ì™€ ë¨¹ì´ì‚¬ìŠ¬ì´ í˜•ì„±ë¼ìš”. ë¹„ê°€ ì˜¤ë©´ ë¬¼ì´ í™ ì† ì˜ì–‘ë¶„ì„ ë…¹ì—¬ ë¿Œë¦¬ì— ì „ë‹¬í•˜ê³ ìš”. ìˆ²ì˜ ëª¨ë“  ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì´ ëŠì„ì—†ì´ ë¬¼ì§ˆì„ êµí™˜í•˜ë©° ì•ˆì •ì ì¸ ìƒíƒœë¥¼ ìœ ì§€í•˜ë‹ˆ "ê· í˜•"ì´ë¼ ë¶ˆëŸ¬ìš”.'
        ]
      },
      // ë¸Œë ˆì¸ë”¥ ìƒë¬¼ 1ë‹¨ì›
      'deep_bio_01': {
        teacherGuide: `
          <h5>ğŸ¯ í•™ìŠµ ëª©í‘œ</h5>
          <ul>
            <li>ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì˜ ê²½ê³„(ë°”ì´ëŸ¬ìŠ¤ ë“±)ì— ëŒ€í•´ ê³¼í•™ì ìœ¼ë¡œ ë…¼ì˜í•œë‹¤.</li>
            <li>ìƒëª… í™œë™ì˜ ë¶„ìì  ê¸°ë°˜(DNA, íš¨ì†Œ, ATP)ì„ ê°œë…ì ìœ¼ë¡œ ì´í•´í•œë‹¤.</li>
            <li>ìƒíƒœì  ê· í˜•ì˜ ê°œë…ê³¼ ì´ë¥¼ ìœ ì§€í•˜ëŠ” í”¼ë“œë°± ë©”ì»¤ë‹ˆì¦˜ì„ ë¶„ì„í•œë‹¤.</li>
            <li>ì¸ê°„ í™œë™ì´ ìƒíƒœê³„ ê· í˜•ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ë¹„íŒì ìœ¼ë¡œ í‰ê°€í•œë‹¤.</li>
          </ul>
          <h5>ğŸ“– í•µì‹¬ ê°œë… ì„¤ëª… í¬ì¸íŠ¸</h5>
          <ul>
            <li><b>ìƒëª…ì˜ ì •ì˜ ë…¼ìŸ</b>: ì„¸í¬ êµ¬ì¡°, ë¬¼ì§ˆëŒ€ì‚¬, ìê¸°ë³µì œ ëŠ¥ë ¥ â†’ ë°”ì´ëŸ¬ìŠ¤ëŠ” ì´ ì¤‘ ì¼ë¶€ë§Œ ì¶©ì¡± â†’ "ì¤€ìƒë¬¼" ê°œë…</li>
            <li><b>ìƒëª… í™œë™ì˜ ë¶„ìì  ê¸°ë°˜</b>:
              <br>- DNA: ìœ ì „ ì •ë³´ ì €ì¥ ë° ì „ë‹¬
              <br>- íš¨ì†Œ: ìƒí™”í•™ ë°˜ì‘ ì´‰ë§¤
              <br>- ATP: ì„¸í¬ì˜ ì—ë„ˆì§€ í™”í
            </li>
            <li><b>ìƒíƒœì  ê· í˜•ê³¼ í”¼ë“œë°±</b>:
              <br>- ìŒì„± í”¼ë“œë°±: í¬ì‹ì ì¦ê°€ â†’ í”¼ì‹ì ê°ì†Œ â†’ í¬ì‹ì ê°ì†Œ â†’ í”¼ì‹ì ì¦ê°€ (ì¡°ì ˆ)
              <br>- ì–‘ì„± í”¼ë“œë°±: ì§€êµ¬ì˜¨ë‚œí™” â†’ ë¹™í•˜ ë…¹ìŒ â†’ ë°˜ì‚¬ìœ¨ ê°ì†Œ â†’ ë” ì˜¨ë‚œí™” (ì¦í­, ìœ„í—˜!)
            </li>
            <li><b>ì¸ê°„ê³¼ ìƒíƒœê³„</b>: ì‚°ì—…í™”, ë„ì‹œí™”, ë†ì—… ì§‘ì•½í™” â†’ ì„œì‹ì§€ íŒŒê´´, ì¢… ë‹¤ì–‘ì„± ê°ì†Œ, ê¸°í›„ë³€í™”</li>
          </ul>
          <h5>â“ í•™ìƒ ì§ˆë¬¸ ì˜ˆìƒ & ë‹µë³€ ê°€ì´ë“œ</h5>
          <ul>
            <li><b>Q: ë°”ì´ëŸ¬ìŠ¤ëŠ” ì™œ ìƒë¬¼ë„ ì•„ë‹ˆê³  ë¬´ìƒë¬¼ë„ ì•„ë‹Œê°€ìš”?</b><br>A: ë°”ì´ëŸ¬ìŠ¤ëŠ” DNA/RNA(ìœ ì „ë¬¼ì§ˆ)ê°€ ìˆì§€ë§Œ, ì„¸í¬ê°€ ì—†ê³  í˜¼ìì„œëŠ” ì—ë„ˆì§€ ëŒ€ì‚¬ë‚˜ ë²ˆì‹ì´ ë¶ˆê°€ëŠ¥í•´ìš”. ìˆ™ì£¼ ì„¸í¬ë¥¼ ë¹Œë ¤ì•¼ë§Œ ë³µì œë˜ì£ . ê·¸ë˜ì„œ "ìƒë¬¼ì˜ ì •ì˜"ë¥¼ í”ë“œëŠ” ì¡´ì¬ì˜ˆìš”.</li>
            <li><b>Q: ìƒíƒœê³„ ê· í˜•ì´ ê¹¨ì§€ë©´ ë³µêµ¬ ê°€ëŠ¥í•œê°€ìš”?</b><br>A: ì‘ì€ êµë€ì€ ìì—°ì´ ìŠ¤ìŠ¤ë¡œ íšŒë³µí•´ìš”(ë³µì›ë ¥). í•˜ì§€ë§Œ ì¢… ë©¸ì¢…, ì„œì‹ì§€ ì™„ì „ íŒŒê´´ ê°™ì€ í° ë³€í™”ëŠ” ëŒì´í‚¤ê¸° ì–´ë ¤ì›Œìš”. ì´ê±¸ "ìƒíƒœì  ì„ê³„ì "ì´ë¼ê³  í•´ìš”.</li>
            <li><b>Q: ì™œ ì¢… ë‹¤ì–‘ì„±ì´ ì¤‘ìš”í•´ìš”?</b><br>A: ì¢…ì´ ë‹¤ì–‘í•˜ë©´ ë¨¹ì´ì‚¬ìŠ¬ì´ ë³µì¡í•´ì„œ í•œ ì¢…ì´ ì‚¬ë¼ì ¸ë„ ë‹¤ë¥¸ ì¢…ì´ ëŒ€ì²´í•  ìˆ˜ ìˆì–´ìš”. ìƒíƒœê³„ê°€ ë” ì•ˆì •ì ì´ì£ . ë°˜ëŒ€ë¡œ ì¢…ì´ ì ìœ¼ë©´ í•œ ì¢…ì˜ ë³€í™”ê°€ ì „ì²´ì— í° ì˜í–¥ì„ ë¯¸ì³ìš”.</li>
          </ul>
          <h5>ğŸ’¡ ì‹¬í™” í™œë™ ì œì•ˆ</h5>
          <ul>
            <li>íƒêµ¬ í† ë¡ : "ë°”ì´ëŸ¬ìŠ¤ëŠ” ìƒë¬¼ì¸ê°€ ë¬´ìƒë¬¼ì¸ê°€?" - ì •ì˜ ê¸°ì¤€ ì¬ê²€í† </li>
            <li>ì‚¬ë¡€ ë¶„ì„: ëŠ‘ëŒ€ ì¬ë„ì…ì´ ì˜ë¡œìŠ¤í†¤ ìƒíƒœê³„ì— ë¯¸ì¹œ ì˜í–¥(íŠ¸ë¡œí”½ ìºìŠ¤ì¼€ì´ë“œ)</li>
            <li>í™˜ê²½ í”„ë¡œì íŠ¸: ì§€ì—­ ìƒíƒœê³„ ê· í˜•ì„ ìœ„í˜‘í•˜ëŠ” ìš”ì¸ ì¡°ì‚¬ ë° í•´ê²°ì±… ì œì•ˆ</li>
            <li>ëª¨ì˜ ìƒíƒœê³„ ì‹œë®¬ë ˆì´ì…˜: ìƒì‚°ì/ì†Œë¹„ì/ë¶„í•´ì ë¹„ìœ¨ ì¡°ì ˆí•˜ë©° ê· í˜• ì‹¤í—˜</li>
          </ul>
        `,
        creativeExamples: [
          'ì˜ë¡œìŠ¤í†¤ êµ­ë¦½ê³µì›ì—ì„œ ëŠ‘ëŒ€(ìƒìœ„ í¬ì‹ì)ê°€ ì‚¬ë¼ì¡Œì„ ë•Œ, ì‚¬ìŠ´ ê°œì²´ìˆ˜ê°€ í­ë°œì ìœ¼ë¡œ ì¦ê°€í–ˆì–´ìš”. ì‚¬ìŠ´ì´ ì–´ë¦° ë‚˜ë¬´ì™€ í’€ì„ ê³¼ë„í•˜ê²Œ ë¨¹ì–´ì¹˜ìš°ë©´ì„œ ê°•ë³€ ì‹ìƒì´ íŒŒê´´ë˜ì—ˆì£ . ë‚˜ë¬´ê°€ ì—†ì–´ì§€ë‹ˆ ë¹„ë²„ê°€ ëŒì„ ë§Œë“¤ ì¬ë£Œê°€ ë¶€ì¡±í•´ì¡Œê³ , ê°•ë‘‘ì´ ì¹¨ì‹ë˜ì–´ ë¬¼ê¸¸ì´ ë°”ë€Œì—ˆì–´ìš”. ìƒˆì™€ ê³¤ì¶©ë„ ì„œì‹ì§€ë¥¼ ìƒì—ˆê³ ìš”. ëŠ‘ëŒ€ë¥¼ ë‹¤ì‹œ ë„ì…í•˜ì ì‚¬ìŠ´ì´ ì¤„ê³ , ë‚˜ë¬´ê°€ ìë¼ê³ , ê°•ì´ ì•ˆì •ë˜ì—ˆì–´ìš”. ì´ì²˜ëŸ¼ í•œ ì¢…(ìƒë¬¼)ì´ ì‚¬ë¼ì§€ë©´ ë¬¼(ë¬´ìƒë¬¼)ì˜ íë¦„ê¹Œì§€ ë°”ë€ŒëŠ” ì—°ì‡„ íš¨ê³¼ê°€ ì¼ì–´ë‚˜ìš”. ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì´ ë³µì¡í•˜ê²Œ ì—°ê²°ë˜ì–´ ìˆê¸°ì— "ê· í˜•"ì´ë¼ ë¶€ë¥´ê³ , ì´ ê· í˜•ì„ ìœ ì§€í•˜ë ¤ë©´ ëª¨ë“  êµ¬ì„± ìš”ì†Œê°€ í•„ìš”í•´ìš”.',
          'ì‚°í˜¸ì´ˆ ìƒíƒœê³„ëŠ” ìƒë¬¼ê³¼ ë¬´ìƒë¬¼ì˜ ì •êµí•œ ê· í˜•ì„ ë³´ì—¬ì¤˜ìš”. ì‚°í˜¸(ìƒë¬¼)ëŠ” ì²´ë‚´ì— ê³µìƒí•˜ëŠ” ì¡°ë¥˜(ì‹ë¬¼í”Œë‘í¬í†¤)ê°€ ê´‘í•©ì„±ìœ¼ë¡œ ë§Œë“  ì–‘ë¶„ì„ ë°›ì•„ìš”. ë°”ë‹·ë¬¼(ë¬´ìƒë¬¼)ì˜ ì˜¨ë„, ì‚°ì„±ë„, ì—¼ë¶„ì´ ì ì • ë²”ìœ„ë¥¼ ìœ ì§€í•´ì•¼ ì´ ê³µìƒì´ ì§€ì†ë˜ì£ . ìˆ˜ì˜¨ì´ 1~2ë„ë§Œ ì˜¬ë¼ë„ ì‚°í˜¸ê°€ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì•„ ì¡°ë¥˜ë¥¼ ë‚´ë³´ë‚´ê³  í•˜ì–—ê²Œ ë³€í•´ìš”(ë°±í™” í˜„ìƒ). ì‚°í˜¸ê°€ ì£½ìœ¼ë©´ ê·¸ê³³ì— ì‚¬ëŠ” ìˆ˜ì²œ ì¢…ì˜ ë¬¼ê³ ê¸°, ê²Œ, ë¶ˆê°€ì‚¬ë¦¬ê°€ ì„œì‹ì§€ë¥¼ ìƒì–´ìš”. ì´ë“¤ì´ ì‚¬ë¼ì§€ë©´ í•´ì¡°ë¥˜ê°€ ê³¼ì‰ ë²ˆì‹í•˜ê³ , ë°”ë‹¤ ìƒíƒœê³„ ì „ì²´ê°€ ë¬´ë„ˆì ¸ìš”. COâ‚‚ ì¦ê°€ â†’ í•´ì–‘ ì‚°ì„±í™” â†’ ì‚°í˜¸ ì„íšŒì§ˆ í˜•ì„± ë°©í•´ë¼ëŠ” ë¬´ìƒë¬¼ ìš”ì¸ ë³€í™”ê°€ ìƒë¬¼ ì „ì²´ì— íŒŒê¸‰ë˜ë‹ˆ, ì´ê²Œ ë°”ë¡œ ìƒíƒœì  ê· í˜•ì˜ ì—°ê²°ê³ ë¦¬ì˜ˆìš”.',
          'ì•„ë§ˆì¡´ ì—´ëŒ€ìš°ë¦¼ì€ "ì§€êµ¬ì˜ í—ˆíŒŒ"ë¡œ ë¶ˆë¦¬ë©° ì‚°ì†Œ ìƒì‚°ê³¼ íƒ„ì†Œ ì €ì¥ì— í•µì‹¬ ì—­í• ì„ í•´ìš”. ë‚˜ë¬´(ìƒë¬¼)ëŠ” ê´‘í•©ì„±ìœ¼ë¡œ COâ‚‚ë¥¼ í¡ìˆ˜í•˜ê³  Oâ‚‚ë¥¼ ë°©ì¶œí•˜ì£ . ìˆ²ì´ ì¦ë°œì‹œí‚¨ ìˆ˜ì¦ê¸°ëŠ” êµ¬ë¦„ì´ ë˜ì–´ ë¹„(ë¬´ìƒë¬¼)ë¥¼ ë‚´ë¦¬ê³ , ì´ ë¹„ê°€ ë‹¤ì‹œ ë‚˜ë¬´ë¥¼ í‚¤ì›Œìš”. ìˆ²ì† ë‚™ì—½ì¸µì€ ìˆ˜ë¶„ì„ ë¨¸ê¸ˆì–´ í† ì–‘ ì¹¨ì‹ì„ ë§‰ê³ , ë¶„í•´ë˜ì–´ ì˜ì–‘ë¶„ì„ ê³µê¸‰í•´ìš”. í•˜ì§€ë§Œ ë¬´ë¶„ë³„í•œ ë²Œëª©ê³¼ í™”ì¬ë¡œ ë‚˜ë¬´ê°€ ì¤„ë©´ ì´ ìˆœí™˜ì´ ëŠê²¨ìš”. ë¹„ê°€ ì¤„ê³ , ê±´ì¡°í•´ì§€ê³ , ë‚¨ì€ ë‚˜ë¬´ë„ ë§ë¼ ì£½ëŠ” ì–‘ì„± í”¼ë“œë°±ì´ ì‹œì‘ë˜ì£ . ì¼ì • ë©´ì  ì´ìƒ íŒŒê´´ë˜ë©´ íšŒë³µ ë¶ˆê°€ëŠ¥í•œ "í‹°í•‘ í¬ì¸íŠ¸"ë¥¼ ë„˜ì–´ìš”. ìƒë¬¼(ë‚˜ë¬´, ë™ë¬¼, ë¯¸ìƒë¬¼)ê³¼ ë¬´ìƒë¬¼(ë¬¼, ê³µê¸°, í† ì–‘)ì´ ì„œë¡œë¥¼ ìœ ì§€ì‹œí‚¤ëŠ” ì´ ê´€ê³„ê°€ ê· í˜•ì´ê³ , ì¸ê°„ì˜ ì±…ì„ì´ ì—¬ê¸° ìˆì–´ìš”.'
        ]
      }
    };

    // =============================================
    // ë‹¨ì› ìƒì„¸ ë Œë”ë§
    // =============================================
    function renderUnitDetail(data, unitKey) {
      let html = '';
      const guideData = TEACHER_GUIDES[unitKey];

      // 1. ë¬¸ë‹¨ë³„ ì¤‘ì‹¬ë‚´ìš©
      html += `
        <div class="detail-section">
          <h4>ğŸ“Œ ë¬¸ë‹¨ë³„ ì¤‘ì‹¬ë‚´ìš©</h4>
          <ul class="paragraph-list">
      `;
      if (data.paragraphMain && data.paragraphMain.length > 0) {
        data.paragraphMain.forEach((content, idx) => {
          html += `
            <li class="paragraph-item">
              <span class="paragraph-num">${idx + 1}</span>
              <span class="paragraph-content">${content}</span>
            </li>
          `;
        });
      } else {
        html += `<li class="paragraph-item"><span class="paragraph-content" style="color: #9ca3af; font-style: italic;">(ë¬¸ë‹¨ë³„ ì¤‘ì‹¬ë‚´ìš© ë°ì´í„° ì—†ìŒ)</span></li>`;
      }
      html += `</ul></div>`;

      // 2. 5ê°œ ì§€ìˆ˜ ë¬¸ì œí’€ì´ ì •ë‹µ ë° í•´ì„¤
      html += `<div class="detail-section">
        <h4>ğŸ“ 5ê°œ ì§€ìˆ˜ ë¬¸ì œí’€ì´ ì •ë‹µ ë° í•´ì„¤</h4>
      `;

      if (data.quiz && data.answerKey) {
        html += `<div class="quiz-section">`;

        const indexNames = {
          1: 'ì‚¬ì‹¤ì  ì´í•´',
          2: 'êµ¬ì¡°ì  ì´í•´',
          3: 'ì–´íœ˜ë ¥',
          4: 'ì¶”ë¡ ì  ì´í•´',
          5: 'ë¹„íŒì  ì´í•´(ì„œìˆ í˜•)'
        };

        for (let i = 1; i <= 5; i++) {
          const qText = data.quiz[`q${i}_text`];
          const qOpts = data.quiz[`q${i}_opts`];
          const answer = data.answerKey[`q${i}`];
          const detail = data.detail ? data.detail[`q${i}`] : null;

          if (!qText) continue;

          html += `
            <div class="quiz-item">
              <div class="quiz-item-header">
                <span class="quiz-index-badge">Q${i}</span>
                <span class="quiz-index-name">${indexNames[i] || ''}</span>
              </div>
              <div class="quiz-question">${qText}</div>
          `;

          // ê°ê´€ì‹ (Q1~Q4)
          if (qOpts && qOpts.length > 0) {
            html += `<div class="quiz-options">`;
            qOpts.forEach((opt, idx) => {
              const optNum = idx + 1;
              const isCorrect = answer === String(optNum);
              html += `
                <div class="quiz-option ${isCorrect ? 'correct' : ''}">
                  <span class="quiz-option-num">${optNum}</span>
                  <span>${opt}</span>
                </div>
              `;
            });
            html += `</div>`;
          }

          // í•´ì„¤
          if (detail) {
            if (i === 5) {
              // ì„œìˆ í˜• ë¬¸ì œëŠ” ì˜ˆì‹œ ë‹µì•ˆ
              html += `
                <div class="quiz-essay">
                  <div class="quiz-essay-title">ğŸ’¡ ì˜ˆì‹œ ë‹µì•ˆ</div>
                  ${detail.replace(/\\n/g, '<br>')}
                </div>
              `;
            } else {
              html += `
                <div class="quiz-detail">
                  <div class="quiz-detail-title">ğŸ“– í•´ì„¤</div>
                  ${detail.replace(/\\n/g, '<br>')}
                </div>
              `;
            }
          }

          html += `</div>`;
        }
        html += `</div>`;
      } else {
        html += `<div class="quiz-no-data">(ë¬¸ì œí’€ì´ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤)</div>`;
      }
      html += `</div>`;

      // 3. êµì‚¬ìš© ì§€ë„ ê°€ì´ë“œ
      if (guideData && guideData.teacherGuide) {
        html += `
          <div class="detail-section">
            <h4>ğŸ“š êµì‚¬ìš© ì§€ë„ ê°€ì´ë“œ</h4>
            <div class="teacher-guide">
              ${guideData.teacherGuide}
            </div>
          </div>
        `;
      } else {
        html += `
          <div class="detail-section">
            <h4>ğŸ“š êµì‚¬ìš© ì§€ë„ ê°€ì´ë“œ <span class="badge">ì‘ì„± í•„ìš”</span></h4>
            <div class="teacher-guide">
              <p class="placeholder">
                [ì´ ì˜ì—­ì— êµì‚¬ìš© ì§€ë„ ê°€ì´ë“œê°€ í‘œì‹œë©ë‹ˆë‹¤]<br><br>
                â€¢ ë‹¨ì› í•™ìŠµ ëª©í‘œ<br>
                â€¢ í•µì‹¬ ê°œë… ì„¤ëª… í¬ì¸íŠ¸<br>
                â€¢ í•™ìƒ ì§ˆë¬¸ ì˜ˆìƒ ë° ë‹µë³€ ê°€ì´ë“œ<br>
                â€¢ ì¶”ê°€ ì„¤ëª… ìë£Œ ë° í™œë™ ì œì•ˆ
              </p>
            </div>
          </div>
        `;
      }

      // 4. ì°½ì˜í™œë™ ì˜ˆì‹œë‹µì•ˆ
      html += `<div class="detail-section">
        <h4>âœï¸ ì°½ì˜í™œë™ ì˜ˆì‹œë‹µì•ˆ</h4>
      `;

      if (data.creative) {
        html += `
          <div class="creative-topic">ğŸ“ ì£¼ì œ: ${data.creative.topic || '(ì£¼ì œ ì—†ìŒ)'}</div>
          <div class="creative-hint">${data.creative.hint || '(íŒíŠ¸ ì—†ìŒ)'}</div>
          <div class="creative-examples">
        `;

        // ì‘ì„±ëœ ì˜ˆì‹œë‹µì•ˆì´ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ content.jsì˜ examples ì‚¬ìš©
        const examples = (guideData && guideData.creativeExamples) ? guideData.creativeExamples :
                         (data.creative.examples && data.creative.examples.length > 0) ? data.creative.examples : null;

        if (examples && examples.length > 0) {
          examples.forEach((example, idx) => {
            html += `
              <div class="creative-example-item">
                <span class="label">ì˜ˆì‹œ ${idx + 1}</span>
                ${example}
              </div>
            `;
          });
        } else {
          html += `
            <div class="creative-example-item">
              <span class="placeholder">[150ì ì´ìƒì˜ ì˜ˆì‹œ ë‹µì•ˆ 3ê°œê°€ í•„ìš”í•©ë‹ˆë‹¤]</span>
            </div>
          `;
        }
        html += `</div>`;
      } else {
        html += `
          <div class="creative-examples">
            <div class="creative-example-item">
              <span class="placeholder">[ì°½ì˜í™œë™ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. content.jsì— creative ë¸”ë¡ ì¶”ê°€ í•„ìš”]</span>
            </div>
          </div>
        `;
      }
      html += `</div>`;

      return html;
    }

    // =============================================
    // ê²€ìƒ‰ ê¸°ëŠ¥
    // =============================================
    const SERIES_NAMES = {
      brainon: 'ë¸Œë ˆì¸ì˜¨',
      brainup: 'ë¸Œë ˆì¸ì—…',
      brainfit: 'ë¸Œë ˆì¸í•',
      braindeep: 'ë¸Œë ˆì¸ë”¥'
    };

    let searchIndex = []; // ì „ì²´ ë‹¨ì› ê²€ìƒ‰ ì¸ë±ìŠ¤

    // ê²€ìƒ‰ ì¸ë±ìŠ¤ êµ¬ì¶• (ëª¨ë“  ì‹œë¦¬ì¦ˆ/ê³¼ëª©ì˜ content.js ë¡œë“œ)
    async function buildSearchIndex() {
      searchIndex = [];
      const seriesList = ['brainon', 'brainup', 'brainfit', 'braindeep'];

      for (const series of seriesList) {
        const prefix = SERIES_PREFIX[series];
        for (const [subjectKey, subject] of Object.entries(SUBJECTS)) {
          const contentFile = `/BRAINUP/${subject.folder}/${prefix}${subjectKey}_content.js`;
          try {
            const response = await fetch(contentFile);
            if (!response.ok) continue;

            const scriptText = await response.text();
            const contents = extractContents(scriptText, prefix, subjectKey);

            // ìºì‹œì— ì €ì¥
            const cacheKey = `${series}_${subjectKey}`;
            contentCache[cacheKey] = contents;

            // ê²€ìƒ‰ ì¸ë±ìŠ¤ì— ì¶”ê°€
            for (const [unitKey, data] of Object.entries(contents)) {
              searchIndex.push({
                series,
                seriesName: SERIES_NAMES[series],
                subjectKey,
                subjectName: subject.name,
                subjectIcon: subject.icon,
                unitKey,
                labelNo: data.labelNo,
                title: data.title || unitKey
              });
            }
          } catch (err) {
            // í•´ë‹¹ ì‹œë¦¬ì¦ˆ/ê³¼ëª© ì—†ìŒ - ë¬´ì‹œ
          }
        }
      }
      console.log('ê²€ìƒ‰ ì¸ë±ìŠ¤ êµ¬ì¶• ì™„ë£Œ:', searchIndex.length, 'ê°œ ë‹¨ì›');
    }

    // ê²€ìƒ‰ ì‹¤í–‰
    function searchUnits(query) {
      if (!query || query.trim().length < 1) return [];

      const q = query.toLowerCase().trim();
      return searchIndex.filter(item => {
        const titleMatch = item.title.toLowerCase().includes(q);
        const subjectMatch = item.subjectName.toLowerCase().includes(q);
        const seriesMatch = item.seriesName.toLowerCase().includes(q);
        return titleMatch || subjectMatch || seriesMatch;
      }).slice(0, 10); // ìµœëŒ€ 10ê°œ
    }

    // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
    function showSearchResults(results) {
      const container = document.getElementById('searchResults');

      if (results.length === 0) {
        container.innerHTML = '<div class="search-no-result">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
        container.classList.add('show');
        return;
      }

      let html = '';
      results.forEach(item => {
        html += `
          <div class="search-result-item" data-series="${item.series}" data-subject="${item.subjectKey}" data-unit="${item.unitKey}">
            <div class="title">${item.subjectIcon} ${item.title}</div>
            <div class="meta">
              <span class="series-badge">${item.seriesName}</span>
              ${item.subjectName} ${item.labelNo}ë‹¨ì›
            </div>
          </div>
        `;
      });
      container.innerHTML = html;
      container.classList.add('show');

      // í´ë¦­ ì´ë²¤íŠ¸
      container.querySelectorAll('.search-result-item').forEach(el => {
        el.addEventListener('click', () => {
          navigateToUnit(el.dataset.series, el.dataset.subject, el.dataset.unit);
          container.classList.remove('show');
          document.getElementById('unitSearch').value = '';
        });
      });
    }

    // ê²€ìƒ‰ ê²°ê³¼ ìˆ¨ê¸°ê¸°
    function hideSearchResults() {
      document.getElementById('searchResults').classList.remove('show');
    }

    // ë‹¨ì›ìœ¼ë¡œ ì´ë™ (ì‹œë¦¬ì¦ˆ íƒ­ â†’ ê³¼ëª© ì•„ì½”ë””ì–¸ â†’ ë‹¨ì› ì•„ì½”ë””ì–¸ ì—´ê¸°)
    async function navigateToUnit(series, subjectKey, unitKey) {
      // 1. ì‹œë¦¬ì¦ˆ íƒ­ ì „í™˜
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      document.querySelector(`.tab-btn[data-series="${series}"]`).classList.add('active');

      document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
      document.getElementById('tab-' + series).classList.add('active');

      // 2. ê³¼ëª© ëª©ë¡ ë Œë”ë§ (ì•„ì§ ì•ˆ ë˜ì–´ ìˆìœ¼ë©´)
      renderSubjects(series);

      // ì•½ê°„ì˜ ë”œë ˆì´ í›„ ì§„í–‰ (DOM ë Œë”ë§ ëŒ€ê¸°)
      await new Promise(r => setTimeout(r, 50));

      // 3. ê³¼ëª© ì•„ì½”ë””ì–¸ ì°¾ì•„ì„œ ì—´ê¸°
      const subjectAccordion = document.querySelector(`#tab-${series} .subject-accordion[data-subject="${subjectKey}"]`);
      if (subjectAccordion) {
        // ë‹¤ë¥¸ ê³¼ëª©ë“¤ ë‹«ê¸°
        document.querySelectorAll(`#tab-${series} .subject-accordion`).forEach(a => a.classList.remove('open'));
        subjectAccordion.classList.add('open');

        // ë‹¨ì› ëª©ë¡ ë¡œë“œ
        const subjectBody = subjectAccordion.querySelector('.subject-body');
        await loadUnits(series, subjectKey, subjectBody);

        // 4. ë‹¨ì› ì•„ì½”ë””ì–¸ ì°¾ì•„ì„œ ì—´ê¸°
        await new Promise(r => setTimeout(r, 50));
        const unitAccordion = subjectBody.querySelector(`.unit-accordion[data-unit="${unitKey}"]`);
        if (unitAccordion) {
          // ë‹¤ë¥¸ ë‹¨ì›ë“¤ ë‹«ê¸°
          subjectBody.querySelectorAll('.unit-accordion').forEach(a => a.classList.remove('open'));
          unitAccordion.classList.add('open');

          // ìŠ¤í¬ë¡¤ ì´ë™
          setTimeout(() => {
            unitAccordion.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }, 100);
        }
      }
    }

    // ê²€ìƒ‰ ì´ë²¤íŠ¸ ë°”ì¸ë”©
    document.getElementById('unitSearch').addEventListener('input', (e) => {
      const query = e.target.value;
      if (query.length >= 1) {
        const results = searchUnits(query);
        showSearchResults(results);
      } else {
        hideSearchResults();
      }
    });

    document.getElementById('unitSearch').addEventListener('focus', (e) => {
      if (e.target.value.length >= 1) {
        const results = searchUnits(e.target.value);
        showSearchResults(results);
      }
    });

    document.getElementById('searchBtn').addEventListener('click', () => {
      const query = document.getElementById('unitSearch').value;
      if (query.length >= 1) {
        const results = searchUnits(query);
        showSearchResults(results);
      }
    });

    // ê²€ìƒ‰ì°½ ì™¸ë¶€ í´ë¦­ ì‹œ ê²°ê³¼ ìˆ¨ê¸°ê¸°
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.search-box')) {
        hideSearchResults();
      }
    });

    // Enter í‚¤ë¡œ ì²« ë²ˆì§¸ ê²°ê³¼ ì„ íƒ
    document.getElementById('unitSearch').addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        const firstResult = document.querySelector('.search-result-item');
        if (firstResult) {
          firstResult.click();
        }
      }
    });

    // =============================================
    // ì´ˆê¸°í™”
    // =============================================
    document.addEventListener('DOMContentLoaded', () => {
      renderSubjects('brainon');
      // ë°±ê·¸ë¼ìš´ë“œì—ì„œ ê²€ìƒ‰ ì¸ë±ìŠ¤ êµ¬ì¶•
      buildSearchIndex();
    });
  </script>
</body>
</html>
