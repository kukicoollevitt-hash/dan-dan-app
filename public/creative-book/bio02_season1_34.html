<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🦁 몸이 뒤바뀐 그날</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url('/images/창작도서/창작생물02/00.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    #map-canvas {
      display: none;
    }

    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #d4a017 0%, #8b6914 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 15px;
      box-shadow: 0 4px 15px rgba(212, 160, 23, 0.3);
    }

    .story-card .theme {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(212, 160, 23, 0.15);
      color: #8b6914;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 8px;
    }

    .story-card h2 {
      font-size: 26px;
      color: #2c3e50;
      margin-bottom: 20px;
      line-height: 1.4;
    }

    .story-card p {
      font-size: 15px;
      line-height: 1.9;
      color: #34495e;
      margin-bottom: 14px;
      text-align: justify;
    }

    .story-card p:last-child {
      margin-bottom: 0;
    }

    .story-card .highlight {
      color: #d4a017;
      font-weight: 600;
    }

    .story-card .dialogue {
      color: #8b6914;
      font-weight: 600;
    }

    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
    }

    .intro-content {
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      padding: 60px 80px;
      border-radius: 30px;
      max-width: 850px;
      animation: fadeInUp 1s ease-out;
    }

    .intro-content h1 {
      font-size: 44px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }

    .intro-content .subtitle {
      font-size: 20px;
      line-height: 1.8;
      color: #e0e0e0;
      margin-bottom: 30px;
      font-weight: 400;
    }

    .intro-content .characters {
      text-align: left;
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 16px;
      margin-bottom: 30px;
    }

    .intro-content .characters h3 {
      color: #FFD700;
      font-size: 16px;
      margin-bottom: 15px;
    }

    .intro-content .characters p {
      color: #d0d0d0;
      font-size: 14px;
      line-height: 1.7;
      margin-bottom: 8px;
    }

    .intro-content .scroll-hint {
      font-size: 16px;
      color: #ffffff;
      font-weight: 600;
      animation: pulse 2s infinite;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    .scroll-indicator {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      animation: bounce 2s infinite;
      pointer-events: none;
    }

    .scroll-indicator svg {
      width: 40px;
      height: 40px;
      opacity: 0.7;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateX(-50%) translateY(0);
      }
      40% {
        transform: translateX(-50%) translateY(-20px);
      }
      60% {
        transform: translateX(-50%) translateY(-10px);
      }
    }

    @media (max-width: 768px) {
      .story-section {
        padding: 40px 20px;
      }

      .story-card {
        max-width: 100%;
        padding: 30px;
      }

      .story-card h2 {
        font-size: 22px;
      }

      .story-card p {
        font-size: 14px;
      }

      .intro-content {
        padding: 40px 30px;
      }

      .intro-content h1 {
        font-size: 28px;
      }

      .intro-content .subtitle {
        font-size: 15px;
      }
    }

    .nav-buttons {
      position: fixed;
      bottom: 40px;
      left: 50%; transform: translateX(-50%);
      z-index: 1000;
      display: flex;
      gap: 15px;
      pointer-events: auto;
    }

    .nav-btn {
      padding: 15px 30px;
      background: rgba(212, 160, 23, 0.9);
      backdrop-filter: blur(10px);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(212, 160, 23, 0.3);
    }

    .nav-btn:hover {
      background: rgba(139, 105, 20, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(212, 160, 23, 0.4);
    }

    @media (max-width: 768px) {
      .nav-buttons {
        bottom: 20px;
        right: 20px;
        flex-direction: column;
      }

      .nav-btn {
        padding: 12px 24px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div id="map-container">
    <canvas id="map-canvas"></canvas>
  </div>

  <div id="content">
    <!-- 인트로 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🦁 몸이 뒤바뀐 그날</h1>
        <p class="subtitle">
          — 사자와 토끼가 서로의 몸으로 살아본 이야기 —<br>
          교과기반 창작도서 · 생물 02 (3·4학년)
        </p>
        <div class="characters">
          <h3>📋 등장인물 소개</h3>
          <p><strong>▸ 사자 레오:</strong> 힘센 동물 왕국의 왕. 약한 동물들을 이해하지 못해요.</p>
          <p><strong>▸ 토끼 루루:</strong> 빠르고 귀여운 토끼. 늘 도망치는 자기 모습이 싫어요.</p>
          <p><strong>▸ 올빼미 오울:</strong> 천 년 된 현자. 둘의 몸을 바꾸는 마법을 걸어요.</p>
          <p><strong>▸ 기린 지노 & 펭귄 피피:</strong> 진화의 비밀을 알려주는 친구들이에요.</p>
        </div>
        <p class="scroll-hint">↓ 아래로 스크롤하여 이야기를 시작하세요 ↓</p>
      </div>
    </section>

    <!-- Part 1 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물02/01.jpg">
      <div class="story-card">
        <span class="chapter">제1화</span>
        <span class="theme">숨겨진 갈등</span>
        <h2>동물 왕국의 비밀</h2>
        <p>아주 먼 옛날, '하모니아'라는 동물 왕국이 있었어요. 사자부터 개미까지, 모든 동물이 함께 살았지요. 겉으로는 평화로워 보였지만, 사실 문제가 있었어요.</p>
        <p>사자 왕 레오는 늘 이렇게 말했어요. <br><br><span class="dialogue">"힘이 있어야 진짜 살아 있는 거야. 도망만 치는 녀석들은 비겁해!"</span></p>
        <p>토끼 루루는 작은 굴에서 조용히 눈물을 흘렸어요. <br><br><span class="dialogue">"난 왜 이렇게 작고 약하게 태어났을까. 사자처럼 강했으면 좋겠어."</span></p>
        <p>둘은 서로를 전혀 이해하지 못했어요. 레오는 루루를 겁쟁이라고 생각했고, 루루는 레오를 무서운 괴물이라고 생각했지요.</p>
      </div>
    </section>

    <!-- Part 2 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물02/02.jpg">
      <div class="story-card">
        <span class="chapter">제2화</span>
        <span class="theme">마법의 시작</span>
        <h2>몸이 바뀌다!</h2>
        <p>천 년 된 올빼미 현자 오울은 레오와 루루의 다툼을 지켜봤어요. <br><br><span class="dialogue">"이대로 가면 왕국이 무너지겠어."</span><br><br>오울은 오래된 마법책을 꺼냈어요.</p>
        <p>보름달이 뜬 새벽, 오울이 두 동물을 불렀어요. <br><br><span class="dialogue">"진정한 평화를 원한다면, 먼저 서로를 이해해야 해."</span></p>
        <p>오울의 눈이 달빛처럼 빛나더니 은빛 가루가 둘을 감쌌어요. 눈을 떠보니 - 레오는 토끼 몸에, 루루는 사자 몸에 있었어요!</p>
        <p><span class="dialogue">"해가 질 때까지 서로의 몸으로 살아야 해. 그래야 마법이 풀려."</span><br><br>세상에서 가장 이상한 하루가 시작됐어요!</p>
      </div>
    </section>

    <!-- Part 3 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물02/03.jpg">
      <div class="story-card">
        <span class="chapter">제3화</span>
        <span class="theme">공포를 느끼다</span>
        <h2>레오, 도망치는 삶</h2>
        <p>토끼 몸이 된 레오는 깜짝 놀랐어요. 세상이 엄청나게 크게 보였거든요! 풀잎이 나무처럼 높았고, 작은 돌이 바위처럼 보였어요.</p>
        <p>그때 귀가 쫑긋 섰어요. 발소리! 하이에나 세 마리가 다가왔어요. 레오의 몸이 저절로 떨리기 시작했어요. <span class="highlight">심장이 미친 듯이 뛰었어요!</span></p>
        <p><span class="dialogue">"이게 뭐야?! 내가 왜 이렇게 무서운 거지?!"</span><br><br>레오는 생전 처음 '공포'를 느꼈어요.</p>
        <p>레오는 죽을힘을 다해 도망쳤어요. 지그재그로 뛰고, 좁은 구멍으로 숨었어요. 겨우 살아남은 레오는 눈물을 흘렸어요. <br><br><span class="dialogue">"이게... 루루의 매일이었구나."</span></p>
      </div>
    </section>

    <!-- Part 4 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물02/04.jpg">
      <div class="story-card">
        <span class="chapter">제4화</span>
        <span class="theme">무거운 책임</span>
        <h2>루루, 사냥의 무게</h2>
        <p>사자 몸이 된 루루는 처음에 신이 났어요. <br><br><span class="dialogue">"세상이 이렇게 작게 보이다니!"</span><br><br>모든 게 낮아 보이고, 자기가 가장 큰 것 같았어요.</p>
        <p>하지만 기쁨은 오래가지 않았어요. 배가 고파지기 시작했거든요. 당근이나 풀로는 절대 채울 수 없는 <span class="highlight">깊은 배고픔</span><br><br>이었어요.</p>
        <p>루루는 영양 떼를 발견하고 다가갔어요. 하지만 발소리가 너무 크고, 숨을 곳이 없었어요. 세 번, 네 번, 다섯 번 실패했어요.</p>
        <p>루루는 털썩 주저앉았어요. <br><br><span class="dialogue">"레오는 매번 이런 실패 속에서 가족을 먹여 살렸구나."</span><br><br>강한 것은 편한 게 아니었어요. 강함에도 무거운 짐이 있었어요.</p>
      </div>
    </section>

    <!-- Part 5 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물02/05.jpg">
      <div class="story-card">
        <span class="chapter">제5화</span>
        <span class="theme">서로의 눈물</span>
        <h2>연못에서의 만남</h2>
        <p>해가 중천에 떴을 때, 토끼 몸의 레오와 사자 몸의 루루가 은빛 연못에서 만났어요. 둘은 한동안 서로를 바라봤어요.</p>
        <p>레오가 먼저 말했어요. <br><br><span class="dialogue">"루루, 미안해. 네가 비겁하다고 생각했어. 근데... 아니었어."</span></p>
        <p>루루도 눈물을 흘렸어요. <br><br><span class="dialogue">"나도 미안해. 네가 나쁜 왕이라고 생각했어. 근데 사냥이 이렇게 힘든 줄 몰랐어."</span></p>
        <p>두 동물은 연못가에 나란히 앉았어요. <br><br><span class="dialogue">"우리 둘 다 자기만의 힘든 싸움을 하고 있었구나."</span> <span class="highlight">처음으로 두 마음이 서로를 이해하게 됐어요.</span></p>
      </div>
    </section>

    <!-- Part 6 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물02/06.jpg">
      <div class="story-card">
        <span class="chapter">제6화</span>
        <span class="theme">새 친구들</span>
        <h2>기린 지노와 펭귄 피피</h2>
        <p>두 동물이 이야기할 때, 숲에서 소리가 들렸어요. <br><br><span class="dialogue">"안녕하세요!"</span><br><br>나무 위로 긴 목이 올라왔어요. 기린 지노였어요!</p>
        <p><span class="dialogue">"저도요! 아래도 봐주세요!"</span><br><br>지노 발 아래에서 뒤뚱뒤뚱 펭귄 피피가 왔어요. 남극에서 온 친구였지요.</p>
        <p>지노가 레오와 루루 이야기를 듣고 말했어요. <br><br><span class="dialogue">"몸이 바뀌었다고요? 아주 중요한 걸 배울 수 있겠네요!"</span></p>
        <p><span class="dialogue">"뭔데요?"</span><br><br><span class="dialogue">"<span class="highlight">모든 동물의 몸은 이유가 있다</span><br><br>는 거예요!"</span><br><br>이렇게 네 친구의 특별한 여행이 시작됐어요.</p>
      </div>
    </section>

    <!-- Part 7 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물02/07.jpg">
      <div class="story-card">
        <span class="chapter">제7화</span>
        <span class="theme">진화의 비밀</span>
        <h2>몸은 환경의 선물</h2>
        <p>네 동물은 숲을 걸으며 지노의 수업을 들었어요. <br><br><span class="dialogue">"제 목이 왜 이렇게 긴지 알아요?"</span><br><br>지노가 물었어요.</p>
        <p><span class="dialogue">"아프리카에서는 풀이 부족할 때가 있어요. 그때 높은 나무 잎을 먹을 수 있었던 기린들이 살아남았지요. 수만 년에 걸쳐 이런 목을 갖게 된 거예요."</span></p>
        <p>피피도 말했어요. <br><br><span class="dialogue">"저는 새인데 못 날아요. 슬프냐고요? 전혀요! 남극에서는 헤엄치는 게 더 중요해요. 제 날개는 완벽한 지느러미예요!"</span></p>
        <p>지노가 웃으며 말했어요. <span class="dialogue">"<span class="highlight">토끼의 긴 귀는 소리를 듣는 레이더, 강한 뒷다리는 도망치는 로켓 엔진이에요.</span><br><br>비겁함이 아니라 생존 전략이지요."</span><br><br>루루의 눈에 눈물이 고였어요.</p>
      </div>
    </section>

    <!-- Part 8 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물02/08.jpg">
      <div class="story-card">
        <span class="chapter">제8화</span>
        <span class="theme">다양한 전략</span>
        <h2>모두의 생존법</h2>
        <p>네 동물은 다른 친구들 이야기도 들었어요. 두더지 모리가 말했어요. <br><br><span class="dialogue">"제 눈은 거의 안 보여요. 하지만 땅속에서 눈이 무슨 소용이에요? 대신 제 코로 진동을 느껴요!"</span></p>
        <p>카멜레온 카미도 말했어요. <br><br><span class="dialogue">"제 눈은 따로 움직여요. 거의 360도를 볼 수 있지요!"</span></p>
        <p>나무늘보 슬로가 느릿느릿 말했어요. <span class="dialogue">"게으르다고요? 아니에요! 저는 <span class="highlight">에너지 절약의 달인</span><br><br>이에요. 느리게 살아서 오래 살아요."</span></p>
        <p>토끼 몸의 레오가 감탄했어요. <br><br><span class="dialogue">"모든 동물이 자기만의 방법이 있구나. 빠른 것만, 강한 것만 답이 아니야."</span></p>
      </div>
    </section>

    <!-- Part 9 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물02/09.jpg">
      <div class="story-card">
        <span class="chapter">제9화</span>
        <span class="theme">마법이 풀리다</span>
        <h2>원래 모습으로</h2>
        <p>해가 지고 하늘이 주황빛으로 물들었어요. 은빛 연못 위에 별이 떠오르자 연못이 빛나기 시작했어요.</p>
        <p>오울이 날아왔어요. <br><br><span class="dialogue">"때가 됐구나. 하루가 어땠니?"</span></p>
        <p>토끼 몸의 레오가 말했어요. <span class="dialogue">"무서웠어요. 하지만 루루의 몸이 약한 게 아니라 <span class="highlight">살아남기 위해 완벽하게 만들어진 거</span><br><br>란 걸 알았어요."</span></p>
        <p>사자 몸의 루루도 말했어요. <br><br><span class="dialogue">"무거웠어요. 힘센 만큼 책임도 많았어요."</span></p>
        <p>오울의 눈에서 은빛 가루가 다시 쏟아졌어요. 눈을 떴을 때 레오는 사자로, 루루는 토끼로 돌아와 있었어요. <br><br><span class="dialogue">"고마워요, 오울 현자님!"</span></p>
      </div>
    </section>

    <!-- Part 10 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물02/10.jpg">
      <div class="story-card">
        <span class="chapter">제10화</span>
        <span class="theme">새로운 시작</span>
        <h2>진짜 하모니아</h2>
        <p>다음 날 아침, 레오가 바위 위에서 선언했어요. <span class="dialogue">"오늘부터 새로운 법을 세운다! <span class="highlight">이 왕국에 약한 동물은 없다. 모두 자기만의 방식으로 살아남는 지혜로운 동물들이다!</span>"</span></p>
        <p>루루도 당당하게 말했어요. <br><br><span class="dialogue">"제 긴 귀는 소리를 듣는 레이더예요. 제 뒷다리는 위험을 피하는 로켓이에요. 이 몸은 자연이 준 최고의 선물이에요!"</span></p>
        <p>지노가 웃었어요. <br><br><span class="dialogue">"다름은 약점이 아니에요. 환경이 빚어낸 예술이지요!"</span></p>
        <p>그날 저녁, 하늘에 별이 가득 떴어요. 오울이 중얼거렸어요. <br><br><span class="dialogue">"이것이 진짜 하모니아야. 다름이 만드는 조화란다."</span></p>
        <p><span class="highlight">다름은 약점이 아니라, 환경에 맞춘 생존 전략이에요. 그걸 이해하는 것이 진정한 존중의 시작이에요.</span></p>
      </div>
    </section>
  </div>

  <div class="nav-buttons">
    <button class="nav-btn" onclick="goBack()">← 목록으로</button>
    <button class="nav-btn" onclick="goToQuiz()" style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);">🏆 관문평가</button>
  </div>

  <script>
    const sectionBackgrounds = {};
    const sections = document.querySelectorAll('.story-section');
    const mapContainer = document.getElementById('map-container');

    sections.forEach((section, index) => {
      const bg = section.getAttribute('data-bg');
      if (bg) {
        sectionBackgrounds[index] = bg;
      }
    });

    const observerOptions = {
      root: null,
      rootMargin: '-20% 0px -20% 0px',
      threshold: 0.3
    };

    const sectionObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const card = entry.target.querySelector('.story-card');
        if (entry.isIntersecting) {
          if (card) card.classList.add('active');
          const sectionIndex = Array.from(sections).indexOf(entry.target);
          if (sectionBackgrounds[sectionIndex]) {
            mapContainer.style.backgroundImage = `url('${sectionBackgrounds[sectionIndex]}')`;
          }
        } else {
          if (card) card.classList.remove('active');
        }
      });
    }, observerOptions);

    sections.forEach(section => {
      sectionObserver.observe(section);
    });

    function updateBackground() {
      const scrollPosition = window.scrollY;
      const windowHeight = window.innerHeight;

      if (scrollPosition < windowHeight * 0.5) {
        mapContainer.style.backgroundImage = "url('/images/창작도서/창작생물02/00.jpg')";
        return;
      }

      sections.forEach((section, index) => {
        const rect = section.getBoundingClientRect();
        if (rect.top < windowHeight * 0.5 && rect.bottom > windowHeight * 0.5) {
          if (sectionBackgrounds[index]) {
            mapContainer.style.backgroundImage = `url('${sectionBackgrounds[index]}')`;
          }
        }
      });
    }

    window.addEventListener('scroll', updateBackground);
    updateBackground();

    function goBack() {
      if (window.parent !== window) {
        window.parent.postMessage({ action: 'closeStory' }, '*');
      } else {
        window.history.back();
      }
    }

    function goToQuiz() {
      window.location.href = '/creative-book/bio02_season1_quiz.html?season=season1';
    }
  </script>
</body>
</html>
