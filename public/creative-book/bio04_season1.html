<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🐜 개미 전쟁: 작은 발걸음이 세상을 뒤흔든 날</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 지도 캔버스 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url('/images/창작도서/창작생물04/00.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    #map-canvas {
      display: none;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #8B4513 0%, #5D3A1A 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 15px;
    }

    .story-card .theme {
      display: block;
      color: #8B4513;
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 10px;
      letter-spacing: 2px;
    }

    .story-card h2 {
      font-size: 28px;
      font-weight: 800;
      color: #2d2d2d;
      margin-bottom: 20px;
      line-height: 1.4;
    }

    .story-card p {
      font-size: 17px;
      line-height: 2;
      color: #444;
      margin-bottom: 15px;
      text-align: justify;
      word-break: keep-all;
    }

    .story-card .highlight {
      background: linear-gradient(180deg, transparent 60%, rgba(139, 69, 19, 0.2) 60%);
      font-weight: 600;
    }

    .story-card .dialogue {
      color: #8B4513;
      font-weight: 500;
    }

    /* 인트로 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
    }

    .intro-content {
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      padding: 60px 80px;
      border-radius: 30px;
      max-width: 850px;
      animation: fadeInUp 1s ease-out;
    }

    .intro-content h1 {
      font-size: 44px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }

    .intro-content .subtitle {
      font-size: 20px;
      line-height: 1.8;
      color: #e0e0e0;
      margin-bottom: 30px;
      font-weight: 400;
    }

    .intro-content .characters {
      text-align: center;
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 16px;
      margin-bottom: 30px;
    }

    .intro-content .characters h3 {
      color: #FFD700;
      font-size: 16px;
      margin-bottom: 15px;
    }

    .intro-content .characters p {
      color: #d0d0d0;
      font-size: 14px;
      line-height: 1.7;
      margin-bottom: 8px;
    }

    .intro-content .scroll-hint {
      font-size: 16px;
      color: #ffffff;
      font-weight: 600;
      animation: pulse 2s infinite;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    /* 닫기 버튼 */
    .close-btn {
      position: fixed;
      top: 30px;
      right: 30px;
      width: 50px;
      height: 50px;
      background: rgba(255, 255, 255, 0.9);
      border: none;
      border-radius: 50%;
      font-size: 28px;
      cursor: pointer;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      pointer-events: auto;
    }

    .close-btn:hover {
      transform: scale(1.1);
      background: #fff;
    }

    /* 반응형 */
    @media (max-width: 768px) {
      .intro-section {
        padding: 30px 20px;
      }

      .intro-content {
        padding: 40px 25px;
      }

      .intro-content h1 {
        font-size: 28px;
      }

      .intro-content .subtitle {
        font-size: 15px;
      }

      .story-section {
        padding: 30px 20px;
        justify-content: center !important;
      }

      .story-card {
        max-width: 100%;
        padding: 30px;
      }

      .story-section:nth-child(odd) .story-card,
      .story-section:nth-child(even) .story-card {
        transform: translateY(50px);
      }

      .story-card.active {
        transform: translateY(0);
      }

      .story-card h2 {
        font-size: 22px;
      }

      .story-card p {
        font-size: 15px;
        line-height: 1.9;
      }

      .close-btn {
        top: 15px;
        right: 15px;
        width: 40px;
        height: 40px;
        font-size: 22px;
      }
    }
  </style>
</head>
<body>

  <button class="close-btn" onclick="closeStory()">×</button>

  <div id="map-container">
    <canvas id="map-canvas"></canvas>
  </div>

  <div id="content">
    <!-- 인트로 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🐜 개미 전쟁</h1>
        <p class="subtitle">
          — 작은 발걸음이 세상을 뒤흔든 날 —<br>
          협력이 세상을 움직인다
        </p>
        <div class="characters">
          <h3>📋 등장인물 소개</h3>
          <p><strong>▸ 솔이 (주인공, 일개미):</strong> 호기심 많고 용감한 막내 일개미. 작지만 누구보다 큰 꿈을 가진 모험가.</p>
          <p><strong>▸ 여왕 아리아 (여왕개미):</strong> 수천 마리 개미의 어머니이자 지도자. 깊은 지혜와 따뜻한 마음의 소유자.</p>
          <p><strong>▸ 강철 (병정개미 대장):</strong> 규율과 전통을 중시하는 베테랑 병정개미. 위기 속에서 솔이를 인정하게 된다.</p>
          <p><strong>▸ 두리 (솔이의 친구):</strong> 솔이의 유일한 이해자. 겁이 많지만 친구를 위해 용기를 내는 따뜻한 개미.</p>
          <p><strong>▸ 거미 장군 카로스 (적대자):</strong> 개미 도시를 위협하는 거대 거미. 교활하고 힘이 세다.</p>
        </div>
        <p class="scroll-hint">↓ 아래로 스크롤하여 이야기를 시작하세요 ↓</p>
      </div>
    </section>

    <!-- Part 1 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물04/01.jpg">
      <div class="story-card">
        <span class="chapter">제1화</span>
        <span class="theme">땅속 깊은 곳의 경이로운 세계</span>
        <h2>개미 도시 포르미카</h2>
        <p>땅속 깊은 곳, 해가 닿지 않는 어둠 속에 거대한 도시가 숨 쉬고 있었습니다. 수천 개의 터널이 미로처럼 얽혀 있고, 각 터널은 저마다의 목적을 가진 방으로 연결되어 있었죠. 이곳이 바로 개미들의 도시, <span class="highlight">'포르미카'</span>입니다.</p>
        <p>포르미카는 그 어떤 인간의 도시보다도 정교하게 설계되어 있었습니다. 식량을 저장하는 거대한 창고, 알과 애벌레를 돌보는 보육실, 쓰레기를 모아두는 처리장, 그리고 도시의 심장부에는 여왕개미가 거주하는 왕실이 있었습니다.</p>
        <p><span class="dialogue">"오른쪽 터널로! 식량 운반조는 서둘러!"</span> 한 병정개미가 외쳤습니다. 수백 마리의 일개미들이 자기 몸보다 큰 씨앗과 나뭇잎 조각을 등에 지고 질서 정연하게 이동했습니다. 아무도 불평하지 않았고, 아무도 줄에서 이탈하지 않았습니다.</p>
        <p>이 완벽한 질서 속에서, 유독 두리번거리며 걷는 작은 개미가 하나 있었습니다. 막내 일개미 <span class="highlight">솔이</span>였습니다. 솔이는 다른 개미들처럼 묵묵히 앞만 보고 걷지 못했습니다. 천장에 맺힌 물방울, 벽면의 신기한 무늬, 처음 보는 갈래길... 모든 것이 솔이의 호기심을 자극했습니다.</p>
        <p><span class="dialogue">"솔이! 또 딴짓이야? 빨리 따라와!"</span> 앞에서 친구 두리가 소리쳤습니다. 솔이는 아쉬운 표정으로 신기한 벽면에서 눈을 떼고 다시 줄에 합류했습니다. 하지만 솔이의 마음속에는 끝없는 질문들이 소용돌이치고 있었습니다. <em>'이 터널 너머에는 뭐가 있을까? 왜 우리는 항상 같은 길만 가야 하는 걸까?'</em></p>
      </div>
    </section>

    <!-- Part 2 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물04/02.jpg">
      <div class="story-card">
        <span class="chapter">제2화</span>
        <span class="theme">각자의 자리에서 빛나는 개미들</span>
        <h2>역할 분담</h2>
        <p>포르미카의 개미들은 태어날 때부터 정해진 역할이 있었습니다. 여왕개미 아리아는 도시의 지도자이자 모든 개미의 어머니였고, 병정개미들은 날카로운 큰턱으로 도시를 지켰습니다. 그리고 솔이처럼 가장 수가 많은 일개미들은 식량을 나르고, 터널을 파고, 알을 돌보는 일을 했습니다.</p>
        <p><span class="dialogue">"자, 오늘의 임무를 발표한다!"</span> 강철 대장이 아침 점호에서 외쳤습니다. <span class="dialogue">"1조는 동쪽 터널 확장, 2조는 식량 창고 정리, 3조는 보육실 청소!"</span></p>
        <p>솔이는 3조에 배치되었습니다. 언제나 그랬듯이 가장 단순한 일이었습니다. 솔이는 작은 한숨을 내쉬었습니다.</p>
        <p><span class="dialogue">"왜 한숨이야?"</span> 두리가 옆에서 물었습니다. 솔이는 작은 목소리로 대답했습니다. <span class="dialogue">"난 가끔 궁금해. 왜 우리는 항상 같은 일만 하는 걸까? 병정개미처럼 밖을 탐험하고 싶기도 하고, 여왕님처럼 중요한 결정을 내려보고 싶기도 해."</span></p>
        <p>두리는 깜짝 놀라 주위를 둘러보았습니다. <span class="dialogue">"쉿! 그런 말 하면 안 돼. 우리는 일개미야. 일개미는 일개미의 일을 해야 해. 그게 <span class="highlight">도시가 돌아가는 방식</span>이잖아."</span></p>
        <p>솔이는 고개를 끄덕였지만, 마음 한구석의 불씨는 꺼지지 않았습니다. <em>'정말 이게 전부일까? 나는 평생 이렇게만 살아야 하는 걸까?'</em></p>
      </div>
    </section>

    <!-- Part 3 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물04/03.jpg">
      <div class="story-card">
        <span class="chapter">제3화</span>
        <span class="theme">도시 탄생의 이야기</span>
        <h2>여왕의 비밀</h2>
        <p>어느 날 밤, 솔이는 실수로 왕실 근처까지 오게 되었습니다. 길을 잘못 든 것이었죠. 황급히 돌아가려는데, 부드러운 목소리가 솔이를 불러 세웠습니다.</p>
        <p><span class="dialogue">"거기 멈춰라, 작은 일개미야."</span></p>
        <p>솔이는 몸이 굳어버렸습니다. 돌아보니, 왕실 입구에 <span class="highlight">여왕 아리아</span>가 서 있었습니다. 여왕은 다른 개미들보다 훨씬 컸고, 눈에는 오랜 세월의 지혜가 담겨 있었습니다.</p>
        <p><span class="dialogue">"죄, 죄송합니다, 여왕님! 길을 잘못 들었습니다!"</span> 솔이가 몸을 낮추며 말했습니다.</p>
        <p>그런데 여왕은 화를 내지 않았습니다. 오히려 부드럽게 웃었습니다. <span class="dialogue">"넌 솔이로구나. 항상 두리번거리는 호기심 많은 아이. 나도 너에 대해 들었단다."</span></p>
        <p>솔이는 깜짝 놀랐습니다. 여왕님이 자신을 알고 계시다니!</p>
        <p><span class="dialogue">"이리 오렴. 들려줄 이야기가 있어."</span> 여왕이 솔이를 왕실 안으로 불렀습니다. 왕실 안은 생각보다 소박했지만, 벽면에는 이상한 그림들이 새겨져 있었습니다.</p>
        <p><span class="dialogue">"이건 우리 도시의 역사란다."</span> 여왕이 벽면을 가리켰습니다. <span class="dialogue">"오래전, 나는 혼자였어. 작은 굴 하나에서 첫 알을 낳고, 내 힘으로 아이들을 키웠지. 그 아이들이 자라서 터널을 파고, 그 아이들의 아이들이 도시를 만들었어. 포르미카는 <span class="highlight">협력의 힘</span>으로 만들어진 기적이란다."</span></p>
        <p>솔이는 숨을 멈추고 여왕의 이야기를 들었습니다. 작은 시작이 이렇게 거대한 도시가 될 수 있다니...</p>
      </div>
    </section>

    <!-- Part 4 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물04/04.jpg">
      <div class="story-card">
        <span class="chapter">제4화</span>
        <span class="theme">솔이의 고된 일상과 작은 발견</span>
        <h2>일개미의 하루</h2>
        <p>다음 날, 솔이는 평소처럼 일을 시작했습니다. 하지만 여왕의 이야기가 계속 머릿속을 맴돌았습니다. <em>'협력의 힘... 작은 시작이 기적을 만든다...'</em></p>
        <p>솔이의 하루는 해가 뜨기 전부터 시작되었습니다. 보육실 청소, 식량 운반, 터널 보수... 일개미의 일은 끝이 없었습니다. 등에 무거운 짐을 지고 수십 번이고 같은 터널을 오갔습니다.</p>
        <p><span class="dialogue">"솔이야, 힘들지?"</span> 두리가 옆에서 물었습니다. 둘은 나란히 씨앗을 운반하고 있었습니다.</p>
        <p><span class="dialogue">"힘들지. 그런데 두리야, 가끔 생각해 본 적 있어? 우리가 하는 이 일들이 모여서 도시 전체를 움직이게 한다는 거?"</span></p>
        <p>두리는 고개를 갸웃거렸습니다. <span class="dialogue">"무슨 소리야?"</span></p>
        <p><span class="dialogue">"우리가 씨앗 하나를 나르면, 그 씨앗이 다른 개미의 밥이 되고, 그 개미가 힘을 내서 터널을 파고, 그 터널로 또 다른 개미가 식량을 가져와... <span class="highlight">우리 모두가 연결되어 있는 거야.</span>"</span></p>
        <p>두리는 잠시 생각하더니 고개를 끄덕였습니다. <span class="dialogue">"그렇게 생각하니까 좀 다르게 느껴지네. 그냥 짐 나르는 게 아니라, 도시를 위한 일이구나."</span></p>
        <p>솔이는 처음으로 자신의 일에서 의미를 찾기 시작했습니다. 하지만 동시에 더 큰 꿈이 가슴속에서 자라나고 있었습니다.</p>
      </div>
    </section>

    <!-- Part 5 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물04/05.jpg">
      <div class="story-card">
        <span class="chapter">제5화</span>
        <span class="theme">강철 대장과의 충돌</span>
        <h2>병정개미의 임무</h2>
        <p>어느 날, 솔이는 우연히 도시 외곽 터널까지 오게 되었습니다. 그곳에서 병정개미들의 훈련을 목격했습니다. 강철 대장이 지휘하는 병정개미들은 일사분란하게 움직이며 가상의 적을 상대로 전투 훈련을 하고 있었습니다.</p>
        <p><span class="dialogue">"왼쪽 측면 방어! 오른쪽 협공!"</span> 강철 대장의 우렁찬 목소리가 터널에 울려 퍼졌습니다.</p>
        <p>솔이는 숨을 죽이고 바라보았습니다. 너무 멋있었습니다. 병정개미들의 움직임은 마치 하나의 생명체처럼 조화로웠습니다.</p>
        <p>그때, 강철 대장이 솔이를 발견했습니다. <span class="dialogue">"거기! 일개미! 여긴 일반 개미가 올 곳이 아니다!"</span></p>
        <p>솔이는 놀랐지만 용기를 내어 물었습니다. <span class="dialogue">"대장님, 바깥세상은 어떤가요? 위험한 게 많나요?"</span></p>
        <p>강철 대장은 잠시 솔이를 바라보았습니다. 그의 눈에 잠깐 어두운 그림자가 스쳤습니다. <span class="dialogue">"위험하지. 새, 개구리, 그리고... <span class="highlight">거미</span>. 특히 거미는 우리의 가장 큰 적이다. 최근 들어 거미들의 움직임이 심상치 않아."</span></p>
        <p>솔이는 등줄기가 서늘해지는 것을 느꼈습니다. <span class="dialogue">"거미요...?"</span></p>
        <p><span class="dialogue">"그래서 우리 병정개미가 필요한 거다. 이제 돌아가라, 일개미. 네 자리에서 네 일을 하는 게 최선이야."</span> 강철 대장은 단호하게 말하고 다시 훈련에 집중했습니다.</p>
        <p>하지만 솔이는 이상한 불안감을 떨칠 수 없었습니다. 무언가 큰일이 다가오고 있다는 예감이 들었습니다.</p>
      </div>
    </section>

    <!-- Part 6 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물04/06.jpg">
      <div class="story-card">
        <span class="chapter">제6화</span>
        <span class="theme">서로 다른 역할이 하나로 모이는 순간</span>
        <h2>협력의 힘</h2>
        <p>도시의 서쪽 끝에 거대한 협곡이 있었습니다. 개미들이 새로운 식량 창고로 가려면 이 협곡을 건너야 했는데, 지금까지는 한참을 돌아가야만 했습니다.</p>
        <p><span class="dialogue">"다리를 만들자!"</span> 한 공병개미가 제안했습니다. 모든 개미가 모여 회의를 열었습니다.</p>
        <p>솔이도 그 자리에 있었습니다. 처음에는 그저 지켜보기만 했지만, 어느 순간 손을 들었습니다.</p>
        <p><span class="dialogue">"저기, 제 생각에는요..."</span> 모든 시선이 솔이에게 쏠렸습니다. 솔이는 잠깐 움찔했지만 용기를 냈습니다. <span class="dialogue">"병정개미들이 협곡 양쪽에서 나뭇가지를 고정하고, 일개미들이 흙과 잎사귀로 다리 표면을 만들면 어떨까요? 각자 잘하는 걸 함께 하면..."</span></p>
        <p>강철 대장이 코웃음을 쳤습니다. <span class="dialogue">"일개미가 건축에 뭘 안다고..."</span></p>
        <p>하지만 여왕 아리아가 솔이의 말을 끊지 않고 들었습니다. <span class="dialogue">"계속해 보렴, 솔이."</span></p>
        <p>솔이의 아이디어대로 작업이 시작되었습니다. 병정개미들이 힘을 모아 나뭇가지를 협곡 양쪽에 고정했고, 일개미들이 끈적끈적한 흙을 섞어 다리 표면을 만들었습니다. 공병개미들이 구조를 점검하고 보육개미들이 재료를 운반했습니다.</p>
        <p>삼 일 밤낮의 작업 끝에, 마침내 <span class="highlight">협곡 위에 튼튼한 다리</span>가 완성되었습니다. 모든 개미가 환호했습니다. 솔이는 그 순간 깨달았습니다. 자신의 작은 아이디어가 모두의 협력으로 현실이 될 수 있다는 것을.</p>
      </div>
    </section>

    <!-- Part 7 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물04/07.jpg">
      <div class="story-card">
        <span class="chapter">제7화</span>
        <span class="theme">도시가 무너지기 시작하다</span>
        <h2>위기 발생</h2>
        <p>평화로운 날들이 계속되던 어느 날 밤, 도시 전체가 뒤흔들렸습니다.</p>
        <p><span class="dialogue">"적이다! 적습이다!"</span> 경계병의 외침이 터널 전체에 울려 퍼졌습니다.</p>
        <p>거미 장군 <span class="highlight">카로스</span>가 수십 마리의 거미 군단을 이끌고 포르미카를 습격한 것이었습니다. 카로스는 거대하고 교활한 거미로, 오랫동안 개미 도시를 노려왔습니다.</p>
        <p><span class="dialogue">"크크크, 드디어 이 맛있는 도시를 손에 넣을 때가 왔군."</span> 카로스의 으스스한 웃음소리가 터널에 메아리쳤습니다.</p>
        <p>병정개미들이 용감하게 맞서 싸웠지만, 거미들은 너무 컸고 너무 강했습니다. 강철 대장이 선두에서 싸웠지만, 점점 밀려나고 있었습니다.</p>
        <p><span class="dialogue">"후퇴! 일단 후퇴해서 여왕님을 지켜라!"</span> 강철 대장이 외쳤습니다.</p>
        <p>솔이는 두리와 함께 피난 터널로 뛰었습니다. 주변에서 터널이 무너지고, 비명소리가 들렸습니다. 솔이는 공포에 질렸지만, 동시에 이상한 분노가 치밀어 올랐습니다.</p>
        <p><span class="dialogue">"이대로 당하고만 있을 순 없어!"</span> 솔이가 소리쳤습니다.</p>
        <p>두리가 솔이의 팔을 잡았습니다. <span class="dialogue">"솔이, 우리는 일개미야! 뭘 할 수 있겠어?"</span></p>
        <p>하지만 솔이의 눈에는 결의가 타오르고 있었습니다. <span class="dialogue">"<span class="highlight">작아도 할 수 있는 일이 있을 거야.</span> 다 같이 모이면..."</span></p>
      </div>
    </section>

    <!-- Part 8 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물04/08.jpg">
      <div class="story-card">
        <span class="chapter">제8화</span>
        <span class="theme">모든 개미가 머리를 맞대다</span>
        <h2>집단 지성</h2>
        <p>솔이는 피난 터널에서 여왕 아리아를 찾아갔습니다. 여왕은 부상당한 개미들을 돌보고 있었습니다.</p>
        <p><span class="dialogue">"여왕님, 제게 아이디어가 있습니다!"</span> 솔이가 외쳤습니다.</p>
        <p>강철 대장이 가로막았습니다. <span class="dialogue">"지금 상황이 어떤지 알아? 일개미가 나설 때가 아니야!"</span></p>
        <p>하지만 여왕이 손을 들어 강철을 멈추었습니다. <span class="dialogue">"들어보자, 솔이. 지금은 모든 아이디어가 필요한 때야."</span></p>
        <p>솔이는 떨리는 목소리로 말했습니다. <span class="dialogue">"거미들은 크고 강하지만, 좁은 곳에서는 움직이기 어려워요. 우리가 미로 같은 터널로 거미들을 유인한 다음, 사방에서 동시에 공격하면..."</span></p>
        <p>여왕이 고개를 끄덕였습니다. <span class="dialogue">"함정을 파는 거로구나. 그리고?"</span></p>
        <p><span class="dialogue">"일개미들이 끈적끈적한 수액을 터널 바닥에 발라두면, 거미들이 움직이지 못하게 할 수 있어요. 병정개미들은 그때 공격하고, 공병개미들은 거미들의 퇴로를 막는 거예요. <span class="highlight">모두가 각자의 역할을 하면 이길 수 있어요!</span>"</span></p>
        <p>터널 안이 잠시 조용해졌습니다. 그때 강철 대장이 천천히 입을 열었습니다. <span class="dialogue">"...가능할지도 모르겠군."</span></p>
        <p>모든 개미가 머리를 맞대고 솔이의 작전을 구체화하기 시작했습니다. 일개미, 병정개미, 공병개미, 보육개미... 모든 개미가 하나의 목표를 향해 움직이기 시작했습니다.</p>
      </div>
    </section>

    <!-- Part 9 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물04/09.jpg">
      <div class="story-card">
        <span class="chapter">제9화</span>
        <span class="theme">작은 개미들의 위대한 승리</span>
        <h2>문제 해결</h2>
        <p>작전이 시작되었습니다.</p>
        <p>먼저, 솔이와 두리를 포함한 일개미 부대가 거미들 앞에 나타났습니다. <span class="dialogue">"이쪽이다, 거미들아!"</span> 일부러 소란을 피우며 거미들의 주의를 끌었습니다.</p>
        <p><span class="dialogue">"저 보잘것없는 것들을 쫓아라!"</span> 카로스가 명령했습니다. 거미들이 일개미들을 따라 좁은 터널로 들어왔습니다.</p>
        <p>터널은 점점 좁아졌고, 거미들은 움직이기 힘들어했습니다. 그리고 바닥에는 이미 일개미들이 발라둔 끈적끈적한 수액이!</p>
        <p><span class="dialogue">"으악! 발이 안 떨어져!"</span> 거미들이 패닉에 빠졌습니다.</p>
        <p>그 순간, 강철 대장의 호령이 떨어졌습니다. <span class="dialogue">"지금이다! 공격!"</span></p>
        <p>사방에서 병정개미들이 튀어나와 움직이지 못하는 거미들을 공격했습니다. 동시에 공병개미들이 거미들의 퇴로를 막는 바리케이드를 세웠습니다.</p>
        <p>카로스는 분노했지만, 이미 상황은 역전되어 있었습니다. <span class="dialogue">"이런 하찮은 개미들에게...!"</span></p>
        <p>하지만 <span class="highlight">수천 마리 개미의 협력 앞에서</span>, 아무리 강한 거미도 무력했습니다. 마침내 카로스와 거미 군단은 패배를 인정하고 도망쳤습니다.</p>
        <p><span class="dialogue">"우리가 이겼다!"</span> 개미들의 환호성이 터널 전체에 울려 퍼졌습니다. 솔이는 두리와 부둥켜안고 기쁨의 눈물을 흘렸습니다.</p>
      </div>
    </section>

    <!-- Part 10 -->
    <section class="story-section" data-bg="/images/창작도서/창작생물04/10.jpg">
      <div class="story-card">
        <span class="chapter">제10화</span>
        <span class="theme">승리 후의 변화, 새로운 시작</span>
        <h2>작은 존재의 위대함</h2>
        <p>전투가 끝난 후, 포르미카는 다시 평화를 되찾았습니다. 하지만 많은 것이 달라져 있었습니다.</p>
        <p>여왕 아리아가 모든 개미를 모아 선언했습니다. <span class="dialogue">"오늘의 승리는 한 개미의 것이 아닙니다. 병정개미의 용기, 일개미의 지혜, 공병개미의 기술, 그리고 모두의 협력이 만들어낸 기적입니다."</span></p>
        <p>여왕은 솔이를 앞으로 불렀습니다. <span class="dialogue">"솔이, 네 용기와 아이디어가 도시를 구했어. 오늘부터 너를 '혁신 담당관'으로 임명한다. 앞으로 도시에 새로운 아이디어가 필요할 때 네 도움이 필요할 거야."</span></p>
        <p>개미들이 환호했습니다. 강철 대장도 솔이에게 다가왔습니다. <span class="dialogue">"미안하다, 솔이. 널 과소평가했어. 오늘 네가 보여준 건... <span class="highlight">진짜 용기가 뭔지</span> 알려줬어."</span></p>
        <p>솔이는 눈물을 글썽이며 말했습니다. <span class="dialogue">"아니에요, 대장님. 혼자서는 아무것도 못 했을 거예요. 모두가 함께했기 때문에 가능했어요."</span></p>
        <p>두리가 옆에서 솔이를 꼭 안았습니다. <span class="dialogue">"솔이야, 넌 처음부터 특별했어. 그리고 네가 가르쳐준 거 있잖아. <span class="highlight">작은 존재도 함께하면 기적을 만들 수 있다</span>는 거."</span></p>
        <p>솔이는 하늘을 올려다보았습니다. 땅속 깊은 곳에서도 느낄 수 있는 따뜻함이 있었습니다. 그것은 함께하는 동료들의 온기였습니다. 작은 개미 솔이는 이제 알았습니다. 세상을 바꾸는 건 크기가 아니라, <span class="highlight">함께하려는 마음</span>이라는 것을.</p>
        <p style="text-align: center; margin-top: 30px; font-weight: 700; color: #8B4513;">— 🐜 끝 🐜 —</p>
      </div>
    </section>

  </div>

  <!-- 네비게이션 버튼 -->
  <div style="position: fixed; bottom: 30px; right: 30px; display: flex; gap: 15px; z-index: 1000; pointer-events: auto;">
    <button onclick="goToQuiz()" style="padding: 15px 30px; background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px rgba(255, 165, 0, 0.4);">🏆 관문평가</button>
  </div>

  <script>
    // 스토리 닫기
    function closeStory() {
      if (window.parent && window.parent !== window) {
        window.parent.postMessage({ type: 'closeStory' }, '*');
      } else {
        window.history.back();
      }
    }

    function goToQuiz() {
      window.location.href = '/creative-book/bio04_season1_quiz.html?season=season2';
    }

    // IntersectionObserver로 스크롤 기반 배경 변경 및 카드 애니메이션
    const sections = document.querySelectorAll('.story-section');
    const mapContainer = document.getElementById('map-container');

    const observerOptions = {
      root: null,
      rootMargin: '-20% 0px -20% 0px',
      threshold: 0.3
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const card = entry.target.querySelector('.story-card');

        if (entry.isIntersecting) {
          // 카드 활성화
          if (card) card.classList.add('active');

          // 배경 변경
          const bg = entry.target.dataset.bg;
          if (bg) {
            mapContainer.style.backgroundImage = `url('${bg}')`;
          }
        } else {
          // 카드 비활성화
          if (card) card.classList.remove('active');
        }
      });
    }, observerOptions);

    sections.forEach(section => {
      observer.observe(section);
    });

    // 첫 번째 섹션 즉시 활성화
    window.addEventListener('load', () => {
      const firstCard = document.querySelector('.story-section .story-card');
      if (firstCard) {
        setTimeout(() => {
          firstCard.classList.add('active');
        }, 500);
      }
    });
  </script>

</body>
</html>
