<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>💧 물의 나라 공주 아쿠아와 기름의 나라 왕자 올리</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 지도 캔버스 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url('/images/창작도서/창작화학03/00.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    #map-canvas {
      display: none;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 15px;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }

    .story-card .theme {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(102, 126, 234, 0.15);
      color: #667eea;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 8px;
    }

    .story-card h2 {
      font-size: 26px;
      color: #2c3e50;
      margin-bottom: 20px;
      line-height: 1.4;
    }

    .story-card p {
      font-size: 15px;
      line-height: 1.9;
      color: #34495e;
      margin-bottom: 14px;
      text-align: justify;
    }

    .story-card p:last-child {
      margin-bottom: 0;
    }

    .story-card .highlight {
      color: #667eea;
      font-weight: 600;
    }

    .story-card .dialogue {
      color: #764ba2;
      font-weight: 600;
    }

    /* 인트로 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
    }

    .intro-content {
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      padding: 60px 80px;
      border-radius: 30px;
      max-width: 850px;
      animation: fadeInUp 1s ease-out;
    }

    .intro-content h1 {
      font-size: 40px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }

    .intro-content .subtitle {
      font-size: 20px;
      line-height: 1.8;
      color: #e0e0e0;
      margin-bottom: 30px;
      font-weight: 400;
    }

    .intro-content .characters {
      text-align: left;
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 16px;
      margin-bottom: 30px;
    }

    .intro-content .characters h3 {
      color: #a78bfa;
      font-size: 16px;
      margin-bottom: 15px;
    }

    .intro-content .characters p {
      color: #d0d0d0;
      font-size: 14px;
      line-height: 1.7;
      margin-bottom: 8px;
    }

    .intro-content .scroll-hint {
      font-size: 16px;
      color: #ffffff;
      font-weight: 600;
      animation: pulse 2s infinite;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    /* 스크롤 인디케이터 */
    .scroll-indicator {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      animation: bounce 2s infinite;
      pointer-events: none;
    }

    .scroll-indicator svg {
      width: 40px;
      height: 40px;
      opacity: 0.7;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateX(-50%) translateY(0);
      }
      40% {
        transform: translateX(-50%) translateY(-20px);
      }
      60% {
        transform: translateX(-50%) translateY(-10px);
      }
    }

    /* 반응형 디자인 */
    @media (max-width: 768px) {
      .story-section {
        padding: 40px 20px;
      }

      .story-card {
        max-width: 100%;
        padding: 30px;
      }

      .story-card h2 {
        font-size: 22px;
      }

      .story-card p {
        font-size: 14px;
      }

      .intro-content {
        padding: 40px 30px;
      }

      .intro-content h1 {
        font-size: 24px;
      }

      .intro-content .subtitle {
        font-size: 15px;
      }
    }

    /* 네비게이션 버튼 */
    .nav-buttons {
      position: fixed;
      bottom: 40px;
      right: 40px;
      z-index: 1000;
      display: flex;
      gap: 15px;
      pointer-events: auto;
    }

    .nav-btn {
      padding: 15px 30px;
      background: rgba(102, 126, 234, 0.9);
      backdrop-filter: blur(10px);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }

    .nav-btn:hover {
      background: rgba(118, 75, 162, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    @media (max-width: 768px) {
      .nav-buttons {
        bottom: 20px;
        right: 20px;
        flex-direction: column;
      }

      .nav-btn {
        padding: 12px 24px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <!-- 고정된 배경 컨테이너 -->
  <div id="map-container">
    <canvas id="map-canvas"></canvas>
  </div>

  <!-- 스크롤 가능한 스토리 콘텐츠 -->
  <div id="content">
    <!-- 인트로 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>💧 물의 나라 공주 아쿠아와<br>기름의 나라 왕자 올리</h1>
        <p class="subtitle">
          — 물과 기름은 왜 안 섞일까 —<br>
          교과기반 창작도서 · 화학 03 · 3-4학년
        </p>
        <div class="characters">
          <h3>🔬 등장인물 소개</h3>
          <p><strong>▸ 미셀:</strong> 요리를 좋아하는 소녀. 샐러드 드레싱을 만들다 물과 기름의 비밀을 알게 돼요.</p>
          <p><strong>▸ 아쿠아:</strong> 물 분자 공주. V자 모양이고 극성을 가져요.</p>
          <p><strong>▸ 올리:</strong> 기름 분자 왕자. 긴 사슬 모양이고 무극성이에요.</p>
          <p><strong>▸ 사폰:</strong> 비누 기사. 물과 기름 둘 다 좋아해서 두 세계를 이어줘요.</p>
          <p><strong>▸ 반데르 박사:</strong> 분자 세계를 보여주는 과학자.</p>
        </div>
        <p class="scroll-hint">↓ 아래로 스크롤하여 이야기를 시작하세요 ↓</p>
      </div>
    </section>

    <!-- Part 1 -->
    <section class="story-section" data-bg="/images/창작도서/창작화학03/01.jpg">
      <div class="story-card">
        <span class="chapter">제1장</span>
        <span class="theme">🥗 샐러드 드레싱</span>
        <h2>흔들면 섞이고, 놓으면 갈라지네?</h2>
        <p><span class="highlight">'미셀'</span>은 요리를 좋아하는 소녀예요. 특히 샐러드 드레싱 만들기를 좋아했어요. 올리브 오일에 식초를 넣고, 병을 세게 흔들면 맛있는 드레싱이 완성되지요.</p>
        <p>그런데 어느 날 이상한 걸 발견했어요. 열심히 흔들어서 뿌옇게 섞인 드레싱을 식탁에 놓고 잠깐 딴짓을 했는데, 돌아와 보니 두 층으로 갈라져 있었어요! 위는 노란 기름, 아래는 투명한 식초.</p>
        <p><span class="dialogue">"왜 다시 갈라지는 거야?"</span> 미셀은 속상했어요. 다시 흔들었어요. 섞였어요. 기다렸어요. 또 갈라졌어요. 아무리 세게 흔들어도 결과는 같았어요.</p>
        <p><span class="dialogue">"내가 잘못 만든 건가?"</span> 엄마에게 물었어요. 엄마가 웃으며 말했어요. <span class="dialogue">"아니야. 물과 기름은 원래 섞이지 않거든."</span></p>
        <p><span class="dialogue">"왜요? 왜 안 섞여요?"</span></p>
        <p>엄마가 병 하나를 쥐여줬어요. <span class="dialogue">"마을 뒷산의 '분자 연구소'에 가면 알 수 있을 거야."</span></p>
        <p>미셀은 문을 나섰어요. 물과 기름의 비밀을 풀기 위한 모험이 시작되었어요.</p>
      </div>
    </section>

    <!-- Part 2 -->
    <section class="story-section" data-bg="/images/창작도서/창작화학03/02.jpg">
      <div class="story-card">
        <span class="chapter">제2장</span>
        <span class="theme">🌍 두 나라</span>
        <h2>물의 나라와 기름의 나라</h2>
        <p>분자 연구소에서 <span class="highlight">'반데르 박사'</span>를 만났어요. 하얀 코트를 입은 친근한 과학자예요.</p>
        <p><span class="dialogue">"물과 기름이 왜 안 섞이는지 알려면, 두 물질의 세계를 직접 봐야 해."</span> 박사가 마법 현미경을 꺼냈어요.</p>
        <p>현미경을 들여다보니 놀라운 광경이 펼쳐졌어요. 물의 세계에는 물 분자들이 서로 손을 잡고 있었어요. <span class="dialogue">"나는 물의 나라 공주 <span class="highlight">'아쿠아'</span>야!"</span> 물 분자가 인사했어요. 아쿠아는 V자 모양인데, 한쪽은 파란빛, 다른 쪽은 빨간빛으로 빛났어요.</p>
        <p>반대편에는 기름 분자들이 있었어요. 긴 사슬 모양의 분자들이 느긋하게 움직였어요. <span class="dialogue">"나는 기름의 나라 왕자 <span class="highlight">'올리'</span>야."</span> 올리는 아쿠아와 달리 빛나지 않았어요.</p>
        <p><span class="dialogue">"아쿠아는 빛나는데 올리는 안 빛나? 왜요?"</span></p>
        <p>박사가 말했어요. <span class="dialogue">"아쿠아의 빛남을 <span class="highlight">'극성'</span>, 올리가 안 빛나는 걸 <span class="highlight">'무극성'</span>이라고 해. 이 차이 때문에 둘은 섞일 수 없어."</span></p>
        <p>물과 기름 사이에는 보이지 않는 벽이 있었어요.</p>
      </div>
    </section>

    <!-- Part 3 -->
    <section class="story-section" data-bg="/images/창작도서/창작화학03/03.jpg">
      <div class="story-card">
        <span class="chapter">제3장</span>
        <span class="theme">⚡ 극성과 무극성</span>
        <h2>왜 물은 한쪽으로 끌릴까</h2>
        <p><span class="dialogue">"극성이 뭐예요?"</span> 미셀이 물었어요.</p>
        <p>박사가 물 분자 모형을 보여줬어요. 산소 하나에 수소 둘이 V자로 붙어 있었어요.</p>
        <p><span class="dialogue">"산소는 전자를 끌어당기는 힘이 수소보다 세. 그래서 전자가 산소 쪽으로 쏠려."</span></p>
        <p><span class="dialogue">"전자가 한쪽으로 쏠린다고요?"</span> <span class="dialogue">"응. 줄다리기에서 힘센 쪽으로 밧줄이 끌려가듯, 전자가 산소 쪽으로 가. 그래서 산소 쪽은 마이너스(-), 수소 쪽은 플러스(+)가 돼."</span></p>
        <p>이것이 <span class="highlight">'극성'</span>이에요. 분자 안에서 플러스와 마이너스가 나뉘는 거예요.</p>
        <p><span class="dialogue">"기름 분자는 어때요?"</span> 박사가 올리를 보여줬어요. 탄소와 수소로 된 긴 사슬인데, 둘의 힘이 비슷해서 전자가 한쪽으로 안 쏠렸어요.</p>
        <p><span class="dialogue">"올리는 어느 쪽도 플러스나 마이너스가 아니야. 이것이 <span class="highlight">'무극성'</span>이야."</span></p>
        <p>아쿠아가 말했어요. <span class="dialogue">"나는 극성 친구에게 끌리지만, 극성 없는 올리에게는 안 끌려."</span></p>
        <p>극성의 차이가 물과 기름의 운명을 갈라놓았어요.</p>
      </div>
    </section>

    <!-- Part 4 -->
    <section class="story-section" data-bg="/images/창작도서/창작화학03/04.jpg">
      <div class="story-card">
        <span class="chapter">제4장</span>
        <span class="theme">🔬 분자 모양</span>
        <h2>V자와 긴 사슬</h2>
        <p>미셀은 물과 기름의 분자 모양을 더 자세히 봤어요.</p>
        <p>아쿠아가 설명했어요. <span class="dialogue">"내 모양 봐. 산소가 가운데, 수소 둘이 양쪽에 붙어 V자야. 미키마우스 귀처럼 생겼지!"</span></p>
        <p><span class="dialogue">"왜 V자가 중요해?"</span> <span class="dialogue">"만약 일직선이면 플러스와 마이너스가 상쇄돼. 하지만 V자라서 극성이 유지돼!"</span></p>
        <p>미셀이 감탄했어요. 분자 모양이 성격을 결정하다니!</p>
        <p>이번엔 기름 세계를 봤어요. 올리가 자기 몸을 보여줬어요. 탄소들이 길게 연결되고, 각 탄소에 수소가 붙어 있었어요.</p>
        <p><span class="dialogue">"나는 <span class="highlight">'탄화수소'</span>야. 탄소 사슬이 길면 끈적끈적해지고, 짧으면 가스가 돼. 중간이면 기름 같은 액체가 되지."</span></p>
        <p><span class="dialogue">"왜 극성이 없어?"</span> <span class="dialogue">"탄소와 수소의 힘이 비슷해서 전자가 어느 쪽으로도 안 쏠려. 그래서 조용하고 중립적이야."</span></p>
        <p>아쿠아는 작고 극성인 V자. 올리는 길고 무극성인 사슬. 모양이 다르니 성질도 달랐어요.</p>
      </div>
    </section>

    <!-- Part 5 -->
    <section class="story-section" data-bg="/images/창작도서/창작화학03/05.jpg">
      <div class="story-card">
        <span class="chapter">제5장</span>
        <span class="theme">🤝 끌어당기는 힘</span>
        <h2>같은 것끼리 끌린다</h2>
        <p><span class="dialogue">"가장 중요한 비밀을 알려줄게."</span> 박사가 말했어요. <span class="dialogue">"물 분자끼리 끌어당기는 힘과 기름 분자끼리 끌어당기는 힘이 달라."</span></p>
        <p>물의 세계를 보니, 물 분자들이 손을 꽉 잡고 있었어요. 한 물 분자의 플러스(수소)가 다른 물 분자의 마이너스(산소)에 끌렸어요.</p>
        <p><span class="dialogue">"이것이 <span class="highlight">'수소 결합'</span>이야! 물 분자 사이의 아주 센 힘이지."</span></p>
        <p>아쿠아가 말했어요. <span class="dialogue">"우리 물 분자는 수소 결합으로 꽉 연결돼 있어. 이 힘이 세서 물이 쉽게 안 끓어."</span></p>
        <p>기름 분자들은 달랐어요. 올리와 친구들은 약한 힘으로만 연결돼 있었어요.</p>
        <p>문제는 이거예요. 물 분자들의 수소 결합이 너무 세서, 기름이 끼어들 수 없었어요. 물 분자들은 자기들끼리 손잡는 게 기름과 손잡는 것보다 좋았거든요.</p>
        <p>화학에서는 <span class="highlight">'같은 것은 같은 것과 섞인다'</span>고 해요. 극성은 극성끼리, 무극성은 무극성끼리!</p>
      </div>
    </section>

    <!-- Part 6 -->
    <section class="story-section" data-bg="/images/창작도서/창작화학03/06.jpg">
      <div class="story-card">
        <span class="chapter">제6장</span>
        <span class="theme">⚖️ 층이 나뉘어</span>
        <h2>왜 기름이 위로 뜰까</h2>
        <p>미셀이 물었어요. <span class="dialogue">"물과 기름이 안 섞이는 건 알겠는데, 왜 항상 기름이 위에 있어요?"</span></p>
        <p>박사가 말했어요. <span class="dialogue">"그 답은 <span class="highlight">'밀도'</span>에 있어."</span></p>
        <p>밀도는 같은 크기에 얼마나 무거운지를 말해요. 물의 밀도는 1, 기름의 밀도는 약 0.9예요. 기름이 물보다 가벼워서 위로 뜨는 거예요!</p>
        <p><span class="dialogue">"물보다 무거운 액체는 어떻게 돼요?"</span> <span class="dialogue">"물 아래로 가라앉아. 수은은 물보다 13배나 무거워서, 쇠공도 수은 위에 뜰 수 있어!"</span></p>
        <p>미셀이 실험했어요. 유리병에 꿀, 물, 기름을 넣었더니 무게순으로 층이 나뉘었어요! <span class="dialogue">"무지개 같다!"</span></p>
        <p>올리가 슬프게 말했어요. <span class="dialogue">"나는 아쿠아보다 가벼워서 항상 위에 있어. 가까이 있는데 섞일 수 없어."</span></p>
        <p>아쿠아도 슬픈 표정이었어요. <span class="dialogue">"내가 수소 결합을 놓으면 너와 섞일 수 있을 텐데..."</span></p>
        <p>하지만 이 세상에는 두 세계를 이어주는 존재가 있었어요!</p>
      </div>
    </section>

    <!-- Part 7 -->
    <section class="story-section" data-bg="/images/창작도서/창작화학03/07.jpg">
      <div class="story-card">
        <span class="chapter">제7장</span>
        <span class="theme">🧼 비누의 등장</span>
        <h2>두 세계를 잇는 비누 기사</h2>
        <p>아쿠아와 올리가 슬퍼할 때, 한 기사가 달려왔어요.</p>
        <p><span class="dialogue">"내가 왔다! 두 세계를 연결하는 비누 기사 <span class="highlight">'사폰'</span>이다!"</span></p>
        <p>사폰은 이상한 모양이었어요. 한쪽은 물처럼 파랗게 빛나고, 다른 쪽은 기름처럼 안 빛났어요. 반은 물의 나라, 반은 기름의 나라 사람 같았어요.</p>
        <p><span class="dialogue">"나는 <span class="highlight">'비누'</span>의 핵심이야. 한쪽 끝은 물을 좋아하고, 다른 쪽 끝은 기름을 좋아해."</span></p>
        <p><span class="dialogue">"한 분자가 둘 다 좋아할 수 있어요?"</span> <span class="dialogue">"그래! 그래서 내가 특별하지!"</span></p>
        <p>사폰이 아쿠아에게 물 좋아하는 손을, 올리에게 기름 좋아하는 손을 내밀었어요. 아쿠아가 잡았어요. 올리가 잡았어요. 물과 기름 사이 벽이 흔들리기 시작했어요!</p>
        <p><span class="dialogue">"드디어 올리 손이 느껴져!"</span> <span class="dialogue">"나도! 아쿠아 온기가 전해져!"</span></p>
        <p>사폰은 양쪽 손을 잡고 다리가 되어줬어요. 직접 못 만나는 두 존재를 이어주는 것. 그것이 비누의 역할이에요.</p>
      </div>
    </section>

    <!-- Part 8 -->
    <section class="story-section" data-bg="/images/창작도서/창작화학03/08.jpg">
      <div class="story-card">
        <span class="chapter">제8장</span>
        <span class="theme">🔮 비누의 마법</span>
        <h2>기름을 감싸 물에 띄우다</h2>
        <p>사폰이 물과 기름 사이에 뛰어들자 놀라운 일이 생겼어요. 많은 사폰 분자가 기름 방울 주위로 모였어요. 기름 좋아하는 꼬리는 기름 안으로, 물 좋아하는 머리는 물 쪽으로 향했어요.</p>
        <p><span class="dialogue">"이것이 <span class="highlight">'미셀'</span> 구조야!"</span> 박사가 외쳤어요. 미셀이 깜짝 놀랐어요. <span class="dialogue">"제 이름이랑 같아요!"</span></p>
        <p>미셀 구조에서 기름 방울은 비누에 완전히 감싸져요. 바깥은 물 좋아하는 부분이라 물에게 "나도 친구야"라고 보여요. 물이 받아들여요!</p>
        <p>기름이 아주 작은 방울로 쪼개져 물속에 퍼졌어요. <span class="dialogue">"이것을 <span class="highlight">'유화'</span>라고 해. 기름이 녹은 건 아니지만, 작게 나뉘어 섞인 것처럼 보여."</span></p>
        <p>미셀이 깨달았어요. <span class="dialogue">"손 씻을 때 비누가 이런 일을 하는 거구나! 손의 기름때를 감싸서 물로 씻어내는 거네!"</span></p>
        <p><span class="dialogue">"맞아! 비누로 손 씻는 게 이렇게 신기한 화학이야."</span></p>
        <p>극성과 무극성 사이 벽을 무너뜨리는 건 힘이 아니라, 양쪽을 이해하는 존재였어요.</p>
      </div>
    </section>

    <!-- Part 9 -->
    <section class="story-section" data-bg="/images/창작도서/창작화학03/09.jpg">
      <div class="story-card">
        <span class="chapter">제9장</span>
        <span class="theme">🧪 섞이는 것들</span>
        <h2>녹는 것과 안 녹는 것</h2>
        <p>미셀은 다른 것들도 궁금해졌어요. 박사가 여러 실험을 보여줬어요.</p>
        <p>물에 소금을 넣었어요. 녹았어요! <span class="dialogue">"소금은 플러스와 마이너스로 나뉘어. 극성인 물이 그걸 끌어당겨 녹이는 거야."</span></p>
        <p>물에 설탕을 넣었어요. 녹았어요! 설탕에도 물과 손잡을 수 있는 부분이 있어서요. 물에 모래를 넣었어요. 안 녹았어요! 모래는 너무 단단해서 물이 못 들어가요.</p>
        <p>기름에 버터를 넣었어요. 잘 섞였어요! 둘 다 무극성이니까요.</p>
        <p><span class="dialogue">"모든 게 물 아니면 기름에 녹아요?"</span> <span class="dialogue">"대부분 그래. 하지만 알코올은 양쪽에 다 섞여. 극성 부분과 무극성 부분이 둘 다 있거든."</span></p>
        <p>아쿠아와 올리가 알코올 <span class="highlight">'에타'</span>를 부러워했어요. <span class="dialogue">"에타는 양쪽에서 다 환영받네."</span></p>
        <p>에타가 웃었어요. <span class="dialogue">"양쪽을 이해하면 어디서든 어울릴 수 있어!"</span></p>
      </div>
    </section>

    <!-- Part 10 -->
    <section class="story-section" data-bg="/images/창작도서/창작화학03/10.jpg">
      <div class="story-card">
        <span class="chapter">제10장</span>
        <span class="theme">💜 다름의 우정</span>
        <h2>달라도 함께할 수 있어</h2>
        <p>모험이 끝나갈 때, 미셀은 아쿠아와 올리를 만났어요. 둘은 여전히 벽을 사이에 두고 있었지만, 표정이 달랐어요.</p>
        <p><span class="dialogue">"미셀, 고마워."</span> 아쿠아가 말했어요. <span class="dialogue">"네 덕분에 올리와 내가 왜 못 섞이는지 이해했어. 나는 극성, 올리는 무극성. 우리가 다른 건 누구 잘못도 아니야."</span></p>
        <p>올리도 고개를 끄덕였어요. <span class="dialogue">"예전엔 아쿠아가 나를 밀어낸다고 서운했어. 하지만 이제 알아. 아쿠아가 친구들과 손잡는 게 자연스러운 거라는 걸."</span></p>
        <p><span class="dialogue">"둘은 영원히 친구가 못 돼요?"</span></p>
        <p>사폰이 나타났어요. <span class="dialogue">"직접 손잡진 못해도, 나 같은 다리를 통해 함께할 수 있어. 마요네즈, 우유, 아이스크림... 전부 물과 기름이 함께 만든 거야!"</span></p>
        <p>아쿠아와 올리가 웃었어요. <span class="dialogue">"우린 달라도 각자 역할이 있어. 물 없으면 생명이 없고, 기름 없으면 요리도 없지."</span></p>
        <p>미셀은 집에서 드레싱을 다시 만들었어요. 기름, 식초, 그리고 겨자를 넣었어요. 이번엔 오래 섞여 있었어요!</p>
        <p><span class="dialogue">"달라도 연결고리가 있으면 함께할 수 있구나."</span> 화학이 가르쳐준 우정이에요.</p>
      </div>
    </section>
  </div>

  <!-- 네비게이션 버튼 -->
  <div class="nav-buttons">
    <button class="nav-btn" onclick="if(window.parent && window.parent.closeStoryModal) window.parent.closeStoryModal(); else history.back();">목록으로</button>
  </div>

  <script>
    // 섹션별 배경 이미지 데이터
    const sectionBackgrounds = {
      0: '/images/창작도서/창작화학03/00.jpg',
      1: '/images/창작도서/창작화학03/01.jpg',
      2: '/images/창작도서/창작화학03/02.jpg',
      3: '/images/창작도서/창작화학03/03.jpg',
      4: '/images/창작도서/창작화학03/04.jpg',
      5: '/images/창작도서/창작화학03/05.jpg',
      6: '/images/창작도서/창작화학03/06.jpg',
      7: '/images/창작도서/창작화학03/07.jpg',
      8: '/images/창작도서/창작화학03/08.jpg',
      9: '/images/창작도서/창작화학03/09.jpg',
      10: '/images/창작도서/창작화학03/10.jpg'
    };

    // 이미지 프리로드
    Object.values(sectionBackgrounds).forEach(src => {
      const img = new Image();
      img.src = src;
    });

    const mapContainer = document.getElementById('map-container');
    const sections = document.querySelectorAll('.story-section');
    const storyCards = document.querySelectorAll('.story-card');
    let currentBg = 0;

    // 스크롤 이벤트 핸들러
    function handleScroll() {
      const scrollY = window.scrollY;
      const windowHeight = window.innerHeight;

      // 각 섹션의 위치 확인
      sections.forEach((section, index) => {
        const rect = section.getBoundingClientRect();
        const sectionTop = rect.top;
        const sectionHeight = rect.height;

        // 섹션이 화면 중앙에 있을 때 배경 변경
        if (sectionTop < windowHeight * 0.5 && sectionTop > -sectionHeight * 0.5) {
          const bgIndex = section.dataset.bg ?
            Object.keys(sectionBackgrounds).find(key => sectionBackgrounds[key] === section.dataset.bg) :
            index;

          if (section.dataset.bg && currentBg !== section.dataset.bg) {
            currentBg = section.dataset.bg;
            mapContainer.style.backgroundImage = `url('${section.dataset.bg}')`;
          }
        }

        // 스토리 카드 애니메이션
        const card = section.querySelector('.story-card');
        if (card) {
          if (sectionTop < windowHeight * 0.75) {
            card.classList.add('active');
          }
        }
      });

      // 인트로 섹션 체크
      const introSection = document.querySelector('.intro-section');
      if (introSection) {
        const introRect = introSection.getBoundingClientRect();
        if (introRect.top < windowHeight * 0.5 && introRect.top > -introRect.height * 0.5) {
          mapContainer.style.backgroundImage = `url('${sectionBackgrounds[0]}')`;
        }
      }
    }

    // 스크롤 이벤트 리스너
    window.addEventListener('scroll', handleScroll);

    // 초기 실행
    handleScroll();
  </script>
</body>
</html>
