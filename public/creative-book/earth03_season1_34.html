<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🪨 돌멩이 삼총사: 46억 년의 비밀 여행</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 배경 이미지 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url('/images/창작도서/창작지구과학03/00.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #795548 0%, #5D4037 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 15px;
      box-shadow: 0 4px 15px rgba(121, 85, 72, 0.3);
    }

    .story-card .theme {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(121, 85, 72, 0.15);
      color: #5D4037;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 8px;
    }

    .story-card h2 {
      font-size: 26px;
      color: #2c3e50;
      margin-bottom: 20px;
      line-height: 1.4;
    }

    .story-card p {
      font-size: 15px;
      line-height: 1.9;
      color: #34495e;
      margin-bottom: 14px;
      text-align: justify;
    }

    .story-card p:last-child {
      margin-bottom: 0;
    }

    .story-card .highlight {
      color: #795548;
      font-weight: 600;
    }

    .story-card .dialogue {
      color: #5D4037;
      font-weight: 600;
    }

    /* 인트로 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
      pointer-events: none;
    }

    .intro-content {
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      padding: 60px 80px;
      border-radius: 30px;
      max-width: 850px;
      animation: fadeInUp 1s ease-out;
      pointer-events: auto;
    }

    .intro-content h1 {
      font-size: 44px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }

    .intro-content .subtitle {
      font-size: 20px;
      line-height: 1.8;
      color: #e0e0e0;
      margin-bottom: 30px;
      font-weight: 400;
    }

    .intro-content .characters {
      text-align: left;
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 16px;
      margin-bottom: 30px;
    }

    .intro-content .characters h3 {
      color: #BCAAA4;
      font-size: 16px;
      margin-bottom: 15px;
    }

    .intro-content .characters p {
      color: #d0d0d0;
      font-size: 14px;
      line-height: 1.7;
      margin-bottom: 8px;
    }

    .intro-content .scroll-hint {
      color: #BCAAA4;
      font-size: 14px;
      animation: bounce 2s infinite;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* 교훈 박스 */
    .moral-box {
      background: linear-gradient(135deg, #EFEBE9, #D7CCC8);
      border-left: 4px solid #795548;
      padding: 20px;
      border-radius: 0 16px 16px 0;
      margin-top: 20px;
    }

    .moral-box h3 {
      color: #5D4037;
      font-size: 16px;
      margin-bottom: 10px;
    }

    .moral-box p {
      color: #4E342E;
      font-size: 14px;
      line-height: 1.8;
    }

    /* 닫기 버튼 */
    .close-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      border: none;
      font-size: 24px;
      cursor: pointer;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .close-btn:hover {
      background: rgba(0, 0, 0, 0.8);
      transform: scale(1.1);
    }

    /* 네비게이션 */
    .nav-indicator {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 100;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .nav-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.4);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .nav-dot.active {
      background: #795548;
      transform: scale(1.3);
    }

    .nav-dot:hover {
      background: rgba(255, 255, 255, 0.8);
    }

    /* 반응형 */
    @media (max-width: 768px) {
      .story-section {
        padding: 40px 20px;
      }

      .story-card {
        padding: 25px;
        max-width: 100%;
      }

      .intro-content {
        padding: 40px 30px;
      }

      .intro-content h1 {
        font-size: 28px;
      }

      .nav-indicator {
        right: 10px;
      }
    }
  </style>
</head>
<body>

  <button class="close-btn" onclick="closeStory()">×</button>

  <!-- 고정 배경 -->
  <div id="map-container"></div>

  <!-- 네비게이션 -->
  <div class="nav-indicator">
    <div class="nav-dot active" data-section="0"></div>
    <div class="nav-dot" data-section="1"></div>
    <div class="nav-dot" data-section="2"></div>
    <div class="nav-dot" data-section="3"></div>
    <div class="nav-dot" data-section="4"></div>
    <div class="nav-dot" data-section="5"></div>
    <div class="nav-dot" data-section="6"></div>
    <div class="nav-dot" data-section="7"></div>
    <div class="nav-dot" data-section="8"></div>
    <div class="nav-dot" data-section="9"></div>
    <div class="nav-dot" data-section="10"></div>
  </div>

  <!-- 콘텐츠 -->
  <div id="content">

    <!-- 인트로 -->
    <section class="intro-section" data-bg="/images/창작도서/창작지구과학03/00.jpg">
      <div class="intro-content">
        <h1>🪨 돌멩이 삼총사: 46억 년의 비밀 여행</h1>
        <p class="subtitle">— 시간은 흔적을 남겨요. 모든 돌에는 오랜 이야기가 숨어 있답니다. —</p>

        <div class="characters">
          <h3>📋 등장인물 소개</h3>
          <p><strong>🔥 화르르 (화성암)</strong> - 뜨거운 마그마에서 태어난 돌. 성격이 급하고 자기가 '원조 돌'이라는 자부심이 강해요.</p>
          <p><strong>🏖️ 모래빛 (퇴적암)</strong> - 모래가 오랫동안 쌓여서 태어난 차분한 돌. 몸속에 조개 화석을 품고 있어요.</p>
          <p><strong>💎 반짝이 (변성암)</strong> - 엄청난 열과 압력을 견디며 아름답게 변한 돌. '나는 누구일까?' 고민해요.</p>
          <p><strong>🌋 마그마 대왕</strong> - 지구 깊은 곳의 용암의 왕. 모든 돌의 아버지 같은 존재예요.</p>
          <p><strong>🕰️ 시간 할아버지</strong> - 46억 년의 지구 역사를 기억하는 신비로운 존재예요.</p>
          <p><strong>👦 돌찬이</strong> - 돌 줍기가 취미인 호기심 많은 초등학생이에요.</p>
        </div>

        <p class="scroll-hint">▼ 스크롤하여 이야기를 시작하세요 ▼</p>
      </div>
    </section>

    <!-- 1장 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학03/01.jpg">
      <div class="story-card">
        <span class="chapter">제1장</span>
        <span class="theme">🪨 세 개의 돌이 말을 걸다</span>
        <h2>길에서 주운 돌</h2>
        <p>돌찬이에게는 특별한 취미가 있었어요. 바로 돌 줍기! 학교 화단에서, 뒷산 계곡에서, 바닷가에서 돌찬이는 언제나 돌을 찾았지요. <span class="dialogue">"또 돌이야?"</span> 친구들은 이상하게 생각했지만, 돌찬이에게 돌은 최고의 보물이었어요. 왜 어떤 돌은 까맣고 구멍이 있고, 어떤 돌은 줄무늬가 있을까요? 늘 궁금했답니다.</p>
        <p>어느 가을날, 돌찬이는 뒷산에서 세 개의 특별한 돌을 발견했어요. 첫 번째 돌은 시커멓고 작은 구멍이 송송 나 있었어요. 두 번째 돌은 황갈색에 줄무늬가 층층이 있었고, 그 안에 작은 조개 모양이 있었어요. 세 번째 돌은 하얗고 매끄러우며 반짝거렸지요.</p>
        <p><span class="dialogue">"와, 이 셋은 정말 다르네!"</span> 돌찬이는 돌을 주머니에 넣고 집으로 왔어요. 그날 밤, 책상에 돌을 올려놓았을 때 놀라운 일이 일어났어요. <span class="dialogue">"야, 여기 너무 좁아!"</span> 거친 목소리가 들렸어요. <span class="dialogue">"조용히 해. 난 수백만 년을 기다린 돌이야."</span> 차분한 목소리가 이어졌어요. <span class="dialogue">"나는... 누구지?"</span> 떨리는 목소리도 들렸지요. 돌찬이는 깜짝 놀랐어요. 돌이 말을 하고 있었어요!</p>
      </div>
    </section>

    <!-- 2장 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학03/02.jpg">
      <div class="story-card">
        <span class="chapter">제2장</span>
        <span class="theme">🔥 불꽃 속에서 태어난 돌</span>
        <h2>화성암의 탄생</h2>
        <p><span class="dialogue">"내 이름은 화르르! 불에서 태어난 돌이야!"</span> 까만 돌이 자기소개를 시작했어요. 화르르의 탄생 이야기는 정말 멋졌어요. <span class="dialogue">"내가 태어난 곳은 땅 깊숙한 곳의 마그마 방이야. 거기가 얼마나 뜨겁냐면 <span class="highlight">1,000도가 넘어!</span> 모든 게 녹아 있는 불바다지."</span></p>
        <p><span class="dialogue">"어느 날, 지구가 재채기를 했어. 쿠쿠쿵! 엄청난 힘이 마그마를 하늘로 밀어올렸지. 그게 바로 화산 폭발이야!"</span> 화르르가 신나게 말했어요. <span class="dialogue">"나는 용암이 되어 하늘로 솟구쳤어! 빨갛게 타오르면서! 그리고 차가운 공기에 닿자마자 빠르게 식어서 딱딱한 돌이 됐지."</span></p>
        <p>돌찬이가 물었어요. <span class="dialogue">"이 구멍은 뭐야?"</span> <span class="dialogue">"이건 내 안에 있던 기체가 빠져나간 자리야. 용암이 빨리 식으면서 생긴 거지!"</span> 이것이 <span class="highlight">화성암</span>의 비밀이에요. 마그마가 빨리 식으면 작은 알갱이의 현무암이 되고, 천천히 식으면 큰 알갱이의 화강암이 된답니다. <span class="dialogue">"나야말로 진짜 원조 돌이야! 지구가 처음 만들어졌을 때, 모든 돌은 마그마에서 시작됐거든!"</span></p>
      </div>
    </section>

    <!-- 3장 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학03/03.jpg">
      <div class="story-card">
        <span class="chapter">제3장</span>
        <span class="theme">🏖️ 오래 기다려 만들어진 돌</span>
        <h2>퇴적암의 형성</h2>
        <p><span class="dialogue">"이제 내 이야기를 들어볼래?"</span> 황갈색 줄무늬 돌 모래빛이 말했어요. 화르르와는 다른 차분한 목소리였어요. <span class="dialogue">"나는 화르르처럼 드라마틱하게 태어나지 않았어. 아주 느리고, 아주 조용하게 태어났지."</span></p>
        <p>옛날 이곳은 바다였어요. 바다 밑에 모래알이 하나씩 가라앉았지요. <span class="dialogue">"바람이 바위를 깎으면 모래가 되고, 비가 모래를 강으로 보내고, 강이 모래를 바다로 가져와. 그 모래가 바닥에 쌓이는 거야. 하루에 머리카락 한 올 두께만큼씩."</span> 1미터가 쌓이려면 약 <span class="highlight">3만 년</span>이 걸린대요!</p>
        <p>아래 모래는 위에 쌓인 무게에 눌렸어요. 물속 광물이 접착제처럼 모래알들을 붙여서 단단한 돌이 됐지요. <span class="dialogue">"내 몸속에 뭐가 있는지 봐!"</span> 모래빛의 몸에는 조개 화석이 있었어요! <span class="dialogue">"수백만 년 전 바다가 내 안에 살아 있는 거야."</span> 이것이 <span class="highlight">퇴적암</span>이에요. 오랜 시간이 만든 아름다운 줄무늬 돌이랍니다.</p>
      </div>
    </section>

    <!-- 4장 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학03/04.jpg">
      <div class="story-card">
        <span class="chapter">제4장</span>
        <span class="theme">💎 힘들게 변해서 빛나는 돌</span>
        <h2>변성암의 변화</h2>
        <p>하얗고 매끈한 돌 반짝이는 한참 말이 없었어요. <span class="dialogue">"반짝이, 너는 어디에서 왔어?"</span> 돌찬이가 물었어요. <span class="dialogue">"나도 잘 모르겠어. 나는 원래 내가 아니었거든."</span> 반짝이의 눈에 눈물이 고였어요.</p>
        <p>반짝이는 원래 '석회'라는 평범한 돌이었어요. 바다 생물 껍데기가 쌓여서 만들어진 석회암이었지요. <span class="dialogue">"어느 날, 땅이 움직이면서 나는 땅속 깊이 끌려갔어. 거기서 무서운 열과 압력이 나를 짓눌렀어. 내 몸의 알갱이가 부서지고 다시 배열되면서 완전히 새로운 돌로 변한 거야."</span></p>
        <p>이것이 <span class="highlight">변성 작용</span>이에요. 열과 압력으로 돌이 완전히 바뀌는 거예요. 석회암이 아름다운 대리암이 된 거지요. <span class="dialogue">"변하는 과정이 너무 힘들었어. 나는 석회암일까, 대리암일까?"</span> 돌찬이가 반짝이를 어루만졌어요. <span class="dialogue">"반짝이, 넌 정말 아름다워. 힘든 걸 견뎠기 때문에 이렇게 빛나는 거잖아."</span> 반짝이의 표면에서 따뜻한 빛이 났어요.</p>
      </div>
    </section>

    <!-- 5장 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학03/05.jpg">
      <div class="story-card">
        <span class="chapter">제5장</span>
        <span class="theme">🔄 모든 돌은 연결되어 있어요</span>
        <h2>암석 순환</h2>
        <p>세 돌이 이야기를 마쳤을 때, 신비로운 기운이 방을 채웠어요. <span class="dialogue">"드디어 만났구나, 삼총사야."</span> 시간 할아버지의 목소리가 들렸어요. 46억 년의 세월을 품은 깊은 목소리였지요. <span class="dialogue">"너희가 서로 다르다고 생각하지? 사실은 모두 연결되어 있단다."</span></p>
        <p>시간 할아버지가 <span class="highlight">'암석 순환'</span>이라는 비밀을 알려줬어요. <span class="dialogue">"화르르, 네가 아무리 단단해도 비바람에 깎이면 모래가 돼. 그 모래가 쌓이면 모래빛처럼 퇴적암이 되지."</span> <span class="dialogue">"모래빛, 네가 땅속에서 눌리면 반짝이처럼 변성암이 돼."</span> <span class="dialogue">"반짝이, 네가 더 깊이 가서 녹으면 마그마가 되고, 그게 식으면 화르르처럼 화성암이 되는 거야."</span></p>
        <p><span class="dialogue">"그러면... 우리는 돌고 도는 거예요?"</span> 돌찬이가 물었어요. <span class="dialogue">"그래. 화성암은 퇴적암이 될 수 있고, 퇴적암은 변성암이 될 수 있어. 충분한 시간이 있으면 모든 돌은 다른 돌로 변할 수 있단다."</span> 세 돌이 서로를 바라봤어요. 다르다고 생각했던 서로가 사실은 같은 여행의 다른 모습이었던 거예요!</p>
      </div>
    </section>

    <!-- 6장 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학03/06.jpg">
      <div class="story-card">
        <span class="chapter">제6장</span>
        <span class="theme">🌋 지구 속으로 떠난 여행</span>
        <h2>온도와 압력</h2>
        <p>시간 할아버지가 특별한 선물을 줬어요. 지구 내부를 볼 수 있는 마법 여행! <span class="dialogue">"눈을 감아봐."</span> 네 명은 땅속으로 빨려 들어갔어요. 점점 깊이 내려갈수록 온도가 올라갔어요. <span class="dialogue">"땅 아래로 1킬로미터 내려갈 때마다 온도가 약 <span class="highlight">25~30도씩</span> 올라간단다."</span></p>
        <p><span class="dialogue">"여기가 지각과 맨틀의 경계야."</span> 딱딱한 암석 지각 아래로 뜨겁고 천천히 흐르는 맨틀이 보였어요. 꿀처럼 걸쭉한 암석이 수천 년에 걸쳐 느리게 흘러가고 있었지요. <span class="dialogue">"돌이 흐른다고요?!"</span> <span class="dialogue">"충분히 뜨겁고 오래 기다리면, 돌도 흐를 수 있단다."</span></p>
        <p>더 깊이 가자 마그마 대왕의 영역이 나타났어요. 빨갛고 주황빛으로 이글거리는 용암 바다! <span class="dialogue">"어서 와라! 여기가 모든 돌의 고향이다."</span> 마그마 대왕은 무서워 보였지만 멋졌어요. <span class="dialogue">"나는 오래된 돌을 녹여 새 돌을 만들지. 지구가 살아 있는 비결이란다."</span> 화르르가 감동받았어요. <span class="dialogue">"아버지..."</span></p>
      </div>
    </section>

    <!-- 7장 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학03/07.jpg">
      <div class="story-card">
        <span class="chapter">제7장</span>
        <span class="theme">⏳ 시간이 그린 예술품</span>
        <h2>시간의 힘</h2>
        <p>여행에서 돌아온 뒤, 시간 할아버지가 '시간의 갤러리'를 보여줬어요. <span class="dialogue">"가장 위대한 화가는 바로 시간이란다."</span> 첫 번째 작품은 미국 그랜드캐니언이었어요. <span class="dialogue">"이 협곡 깊이가 <span class="highlight">1.6킬로미터</span>야. 줄무늬 하나하나가 수백만 년의 시간이야."</span></p>
        <p>빨간 줄, 노란 줄, 하얀 줄... 수십 개의 층이 책처럼 쌓여 있었어요. 가장 아래는 약 <span class="highlight">20억 년</span> 전 암석이에요! <span class="dialogue">"이건 지구가 쓴 일기장이야."</span> 모래빛이 말했어요. <span class="dialogue">"내 줄무늬도 수만 년의 기록인 거지."</span></p>
        <p>아일랜드에는 용암이 식으며 만든 정육각형 돌기둥이 있었어요. 터키에는 바람과 비가 깎아 만든 버섯 모양 바위도 있었고요. <span class="dialogue">"시간은 서두르지 않아. 하루에 모래알 하나를 옮겨도 백만 년이면 산을 옮길 수 있지. 절대 멈추지 않거든."</span> 반짝이가 고개를 끄덕였어요. 자기를 바꾼 것도 시간의 힘이었다는 걸 이해했어요.</p>
      </div>
    </section>

    <!-- 8장 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학03/08.jpg">
      <div class="story-card">
        <span class="chapter">제8장</span>
        <span class="theme">📖 돌 속에 숨은 비밀</span>
        <h2>지구의 기록</h2>
        <p><span class="dialogue">"가장 놀라운 비밀을 보여줄게."</span> 시간 할아버지가 특별한 박물관으로 안내했어요. 돌 속에 보존된 지구의 기록들이 있었지요. <span class="dialogue">"돌은 말을 못 하지만, 읽을 줄 알면 수십억 년 이야기를 들려준단다."</span></p>
        <p>첫 번째 전시실에는 화석이 있었어요. <span class="dialogue">"화석은 아주 오래전 생물의 흔적이야. 뼈, 껍데기, 발자국도 돌에 남아."</span> 삼엽충, 공룡 뼈, 꽃 화석까지 있었어요. <span class="dialogue">"이 돌에 <span class="highlight">3억 년</span> 전 식물이 찍혀 있어! 공룡도 없던 시절이야!"</span></p>
        <p>과학자들은 돌의 나이도 잴 수 있대요. 돌 속 특별한 성분이 시간에 따라 변하거든요. 가장 신기한 건 남극 얼음 아래 돌에서 열대식물 화석이 나왔다는 거예요! <span class="dialogue">"남극이 따뜻했다고요?!"</span> <span class="dialogue">"5,000만 년 전에는 남극에 숲이 있었단다. 대륙이 움직였거든."</span> 돌은 지구의 일기장이에요. 모든 비밀이 돌에 담겨 있답니다.</p>
      </div>
    </section>

    <!-- 9장 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학03/09.jpg">
      <div class="story-card">
        <span class="chapter">제9장</span>
        <span class="theme">🏔️ 높은 산의 조개 화석</span>
        <h2>돌의 여행</h2>
        <p>시간 할아버지가 마지막 비밀을 보여줬어요. 세상에서 가장 높은 에베레스트 산! 해발 8,000미터가 넘는 꼭대기에서 바다 생물 화석이 발견됐대요. <span class="dialogue">"세상에서 가장 높은 산에 조개 화석이요?!"</span> 돌찬이가 깜짝 놀랐어요.</p>
        <p><span class="dialogue">"이 돌이 원래 바다 밑에 있었다는 증거야."</span> 모래빛이 신나게 설명했어요. <span class="dialogue">"우리 퇴적암은 바다에서 태어나잖아!"</span> 약 <span class="highlight">4,500만 년</span> 전, 인도 대륙이 아시아와 부딪히면서 바다 밑 암석이 위로 솟아올랐어요. 바다 밑이 세상에서 가장 높은 산이 된 거예요!</p>
        <p><span class="dialogue">"돌이 바다에서 하늘까지 여행한 거야! 수천만 년에 걸쳐서!"</span> 반짝이가 밝게 웃었어요. <span class="dialogue">"그러면 내가 변한 것도 여행이었네. 석회암에서 대리암으로의 여행. 힘들었지만 내 여정의 일부야."</span> <span class="dialogue">"모든 돌은 여행자란다. 태어나고, 부서지고, 쌓이고, 변하는 끝없는 여행. 그 흔적이 돌의 얼굴에 남는 거지."</span> 돌찬이는 세 돌을 꼭 쥐었어요. 작은 돌멩이들의 긴 여행이 손에서 느껴졌어요.</p>
      </div>
    </section>

    <!-- 10장 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학03/10.jpg">
      <div class="story-card">
        <span class="chapter">제10장</span>
        <span class="theme">🌟 삼총사의 우정</span>
        <h2>모든 돌에는 이야기가 있어요</h2>
        <p>모험이 끝나고, 삼총사는 완전히 달라져 있었어요. 화르르가 먼저 말했어요. <span class="dialogue">"모래빛, 미안해. 네가 수백만 년을 기다린 게 얼마나 대단한 건지 이제 알겠어."</span> 모래빛도 웃으며 말했어요. <span class="dialogue">"나도 미안해. 네 탄생이 지구의 힘 자체라는 걸 깨달았어."</span></p>
        <p>둘이 반짝이를 바라봤어요. <span class="dialogue">"반짝이, 넌 석회암이기도 하고 대리암이기도 해. 두 세계를 아는 돌이야. 그건 가장 특별한 점이야."</span> 반짝이의 눈이 빛났어요. <span class="dialogue">"고마워. 변한다는 건 나를 잃는 게 아니라, 더 풍요롭게 하는 거구나."</span></p>
        <p>시간 할아버지가 마지막으로 말했어요. <span class="dialogue">"기억해. 모든 돌에는 이야기가 있어. 길의 작은 자갈도 수억 년을 여행한 여행자야."</span> 다음 날, 돌찬이는 친구들에게 돌 이야기를 들려줬어요. <span class="dialogue">"야, 돌이 이렇게 신기해?"</span> 친구들 눈이 커졌어요. 그날부터 친구들도 돌을 줍기 시작했어요. 모든 돌에는 이야기가 있고, 그 이야기를 알면 세상이 달라 보인답니다!</p>

        <div class="moral-box">
          <h3>🌱 이 이야기의 교훈</h3>
          <p><strong>"시간은 흔적을 남겨요. 모든 것에는 세월이 만든 이야기가 있어요."</strong></p>
          <p style="margin-top: 10px;">평범해 보이는 것에도 숨겨진 이야기가 있어요. 힘들게 변한 것도 진짜 나예요. 다르다고 생각한 것들이 사실은 연결되어 있어요. 시간은 서두르지 않지만 절대 멈추지 않아요!</p>
          <p style="margin-top: 10px; text-align: center; font-weight: 600; color: #795548;">🪨✨ "모든 돌에는 수억 년의 이야기가 숨어 있어요." ✨🪨</p>
        </div>
      </div>
    </section>

  </div>

  <script>
    // 배경 이미지 목록
    const bgImages = [
      '/images/창작도서/창작지구과학03/00.jpg',
      '/images/창작도서/창작지구과학03/01.jpg',
      '/images/창작도서/창작지구과학03/02.jpg',
      '/images/창작도서/창작지구과학03/03.jpg',
      '/images/창작도서/창작지구과학03/04.jpg',
      '/images/창작도서/창작지구과학03/05.jpg',
      '/images/창작도서/창작지구과학03/06.jpg',
      '/images/창작도서/창작지구과학03/07.jpg',
      '/images/창작도서/창작지구과학03/08.jpg',
      '/images/창작도서/창작지구과학03/09.jpg',
      '/images/창작도서/창작지구과학03/10.jpg'
    ];

    // 이미지 프리로드
    bgImages.forEach(src => {
      const img = new Image();
      img.src = src;
    });

    const mapContainer = document.getElementById('map-container');
    const sections = document.querySelectorAll('.story-section, .intro-section');
    const navDots = document.querySelectorAll('.nav-dot');
    let currentSection = 0;

    // Intersection Observer 설정
    const observerOptions = {
      root: null,
      rootMargin: '-20% 0px -20% 0px',
      threshold: 0
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const card = entry.target.querySelector('.story-card, .intro-content');

        if (entry.isIntersecting) {
          // 카드 활성화
          if (card) card.classList.add('active');

          // 배경 이미지 변경
          const sectionIndex = Array.from(sections).indexOf(entry.target);
          if (sectionIndex !== -1 && sectionIndex !== currentSection) {
            currentSection = sectionIndex;
            mapContainer.style.backgroundImage = `url('${bgImages[sectionIndex]}')`;

            // 네비게이션 업데이트
            navDots.forEach((dot, i) => {
              dot.classList.toggle('active', i === sectionIndex);
            });
          }
        } else {
          // 카드 비활성화 (화면 밖으로 나갈 때)
          if (card) card.classList.remove('active');
        }
      });
    }, observerOptions);

    sections.forEach(section => observer.observe(section));

    // 네비게이션 클릭
    navDots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        sections[index].scrollIntoView({ behavior: 'smooth' });
      });
    });

    // 닫기 함수
    function closeStory() {
      if (window.parent && window.parent !== window) {
        window.parent.postMessage({ type: 'closeStory' }, '*');
      } else {
        window.history.back();
      }
    }

    // ESC 키로 닫기
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeStory();
    });
  </script>

</body>
</html>
