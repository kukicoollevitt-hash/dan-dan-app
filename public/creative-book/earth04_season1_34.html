<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🏜️ 산꼭대기의 거인 '바위턱'이 한 줌 모래가 되기까지</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 지도 캔버스 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url('/images/창작도서/창작지구과학04/00.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    #map-canvas {
      display: none;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #8D6E63 0%, #5D4037 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 15px;
      box-shadow: 0 4px 15px rgba(141, 110, 99, 0.3);
    }

    .story-card .theme {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(141, 110, 99, 0.15);
      color: #5D4037;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 8px;
    }

    .story-card h2 {
      font-size: 26px;
      color: #2c3e50;
      margin-bottom: 20px;
      line-height: 1.4;
    }

    .story-card p {
      font-size: 15px;
      line-height: 1.9;
      color: #34495e;
      margin-bottom: 14px;
      text-align: justify;
    }

    .story-card p:last-child {
      margin-bottom: 0;
    }

    .story-card .highlight {
      color: #8D6E63;
      font-weight: 600;
    }

    .story-card .dialogue {
      color: #5D4037;
      font-weight: 600;
    }

    /* 인트로 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
    }

    .intro-content {
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      padding: 60px 80px;
      border-radius: 30px;
      max-width: 850px;
      animation: fadeInUp 1s ease-out;
    }

    .intro-content h1 {
      font-size: 44px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }

    .intro-content .subtitle {
      font-size: 20px;
      line-height: 1.8;
      color: #e0e0e0;
      margin-bottom: 30px;
      font-weight: 400;
    }

    .intro-content .characters {
      text-align: left;
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 16px;
      margin-bottom: 30px;
    }

    .intro-content .characters h3 {
      color: #D7CCC8;
      font-size: 16px;
      margin-bottom: 15px;
    }

    .intro-content .characters p {
      color: #d0d0d0;
      font-size: 14px;
      line-height: 1.7;
      margin-bottom: 8px;
    }

    .intro-content .scroll-hint {
      font-size: 16px;
      color: #ffffff;
      font-weight: 600;
      animation: pulse 2s infinite;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    /* 스크롤 인디케이터 */
    .scroll-indicator {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      animation: bounce 2s infinite;
      pointer-events: none;
    }

    .scroll-indicator svg {
      width: 40px;
      height: 40px;
      opacity: 0.7;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateX(-50%) translateY(0);
      }
      40% {
        transform: translateX(-50%) translateY(-20px);
      }
      60% {
        transform: translateX(-50%) translateY(-10px);
      }
    }

    /* 반응형 디자인 */
    @media (max-width: 768px) {
      .story-section {
        padding: 40px 20px;
      }

      .story-card {
        max-width: 100%;
        padding: 30px;
      }

      .story-card h2 {
        font-size: 22px;
      }

      .story-card p {
        font-size: 14px;
      }

      .intro-content {
        padding: 40px 30px;
      }

      .intro-content h1 {
        font-size: 28px;
      }

      .intro-content .subtitle {
        font-size: 15px;
      }
    }

    /* 네비게이션 버튼 */
    .nav-buttons {
      position: fixed;
      bottom: 40px;
      right: 40px;
      z-index: 1000;
      display: flex;
      gap: 15px;
      pointer-events: auto;
    }

    .nav-btn {
      padding: 15px 30px;
      background: rgba(141, 110, 99, 0.9);
      backdrop-filter: blur(10px);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(141, 110, 99, 0.3);
    }

    .nav-btn:hover {
      background: rgba(93, 64, 55, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(141, 110, 99, 0.4);
    }

    @media (max-width: 768px) {
      .nav-buttons {
        bottom: 20px;
        right: 20px;
        flex-direction: column;
      }

      .nav-btn {
        padding: 12px 24px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <!-- 고정된 배경 컨테이너 -->
  <div id="map-container">
    <canvas id="map-canvas"></canvas>
  </div>

  <!-- 스크롤 가능한 스토리 콘텐츠 -->
  <div id="content">
    <!-- 인트로 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🏜️ 산꼭대기의 거인 '바위턱'이<br>한 줌 모래가 되기까지</h1>
        <p class="subtitle">
          — 단단한 바위가 모래가 되기까지, 암석의 긴 모험 —<br>
          교과기반 창작도서 · 지구과학 04
        </p>
        <div class="characters">
          <h3>📋 등장인물 소개</h3>
          <p><strong>▸ 바위턱:</strong> 산꼭대기의 거대한 바위. 자신이 세상에서 가장 강하다고 믿어요.</p>
          <p><strong>▸ 꼬마돌:</strong> 바위턱에서 떨어진 작은 돌. 강을 따라 여행해요.</p>
          <p><strong>▸ 할배돌:</strong> 바위턱 옆의 늙은 바위. 지혜로운 조언을 해줘요.</p>
          <p><strong>▸ 비올:</strong> 물의 정령. 바위를 깎는 끈기의 상징이에요.</p>
          <p><strong>▸ 바라미:</strong> 바람의 정령. 모래를 품고 바위를 다듬어요.</p>
          <p><strong>▸ 동글이:</strong> 산 아래의 작은 조약돌. 바위턱을 존경해요.</p>
        </div>
        <p class="scroll-hint">↓ 아래로 스크롤하여 이야기를 시작하세요 ↓</p>
      </div>
    </section>

    <!-- Part 1 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학04/01.jpg">
      <div class="story-card">
        <span class="chapter">제1장</span>
        <span class="theme">거대한 바위</span>
        <h2>세상에서 가장 잘난 척하는 바위</h2>
        <p>아주 먼 옛날, 높은 산꼭대기에 '바위턱'이라는 거대한 바위가 있었어요. 바위턱은 엄청나게 크고 단단했어요. 바위턱은 자기가 세상에서 가장 강하고 영원한 존재라고 믿었어요.</p>
        <p><span class="dialogue">"하하하! 나는 화강암이야! 지구가 뜨거운 마그마를 식혀서 만든 멋진 돌이지. 아무것도 나를 부술 수 없어!"</span></p>
        <p>바위턱은 매일 큰 소리로 자랑했어요. 산 아래의 작은 조약돌 '동글이'가 물었어요. <span class="dialogue">"바위턱 형, 정말 아무것도 형을 바꿀 수 없어?"</span> <span class="dialogue">"당연하지! 나는 수억 년을 여기 서 있었고, 영원히 있을 거야."</span></p>
        <p>옆에 있던 늙은 바위 '할배돌'이 말했어요. <span class="dialogue">"바위턱아, 내가 젊었을 때도 너처럼 거만했어. 하지만 세상에 영원한 건 없단다."</span> 바위턱은 콧웃음을 쳤어요. <span class="dialogue">"할배는 약해진 거예요. 난 절대 안 변해요!"</span> 하지만 바위턱은 몰랐어요. 바로 그때 바위턱 몸에 작은 금이 생기기 시작했다는 걸요. <span class="highlight">자연은 이미 바위턱을 바꾸기 시작했어요.</span></p>
      </div>
    </section>

    <!-- Part 2 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학04/02.jpg">
      <div class="story-card">
        <span class="chapter">제2장</span>
        <span class="theme">풍화 시작</span>
        <h2>보이지 않는 힘의 공격</h2>
        <p>바위턱에게 첫 번째 변화가 찾아온 건 어느 겨울밤이었어요. 낮에 따뜻했던 햇볕이 사라지고, 밤이 되자 아주 추워졌어요. 바위턱 표면에 있던 물이 꽁꽁 얼기 시작했지요.</p>
        <p><span class="dialogue">"어? 뭔가 간지럽네..."</span> 바위턱은 대수롭지 않게 여겼어요. 하지만 물이 얼면 부피가 늘어나요. 바위 틈에 들어간 물이 얼면서 틈을 벌렸어요. 이것이 <span class="highlight">'동결 풍화'</span>예요.</p>
        <p>낮에는 녹고 밤에는 어는 것이 수천 번 반복됐어요. 바위턱 표면에 금이 점점 깊어졌지요. <span class="dialogue">"아야! 뭐야, 갈라지는 느낌이야!"</span> 바위턱이 처음으로 불편함을 느꼈어요.</p>
        <p>비가 올 때마다 빗물 속 성분이 바위를 조금씩 녹였어요. 이것은 <span class="highlight">'화학적 풍화'</span>예요. 바위턱의 반짝이던 표면이 거칠어졌어요. <span class="dialogue">"이상해... 내 피부가 예전 같지 않아."</span> 할배돌이 말했어요. <span class="dialogue">"그게 '풍화'란다. 바람과 물이 바위를 바꾸는 거야. 아무리 단단한 바위도 풍화 앞에서는 겸손해질 수밖에 없어."</span></p>
      </div>
    </section>

    <!-- Part 3 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학04/03.jpg">
      <div class="story-card">
        <span class="chapter">제3장</span>
        <span class="theme">물과 바람</span>
        <h2>끈질긴 조각가, 비바람 남매</h2>
        <p>바위턱을 바꾸는 데 가장 큰 역할을 한 건 '비올'과 '바라미' 남매예요. 비올은 물의 정령이고, 바라미는 바람의 정령이에요. 이 남매는 지구 표면을 깎고 운반하는 일을 해요.</p>
        <p>비올은 비가 올 때마다 바위턱 위를 흘러내렸어요. 처음에는 흔적이 없는 것 같았지만, 수십 년이 지나자 작은 물길이 파였어요. <span class="dialogue">"겨우 이것으로 내가 변할 거라고?"</span> 바위턱이 비웃었어요. 하지만 비올은 미소만 지었어요. <span class="dialogue">"나는 절대 서두르지 않아. 하지만 절대 멈추지도 않아."</span></p>
        <p>한 방울은 작지만 백 년, 천 년이 쌓이면 단단한 바위도 깎을 수 있어요. <span class="highlight">미국의 그랜드 캐니언도 물이 수백만 년 동안 바위를 깎아 만든 거예요.</span></p>
        <p>바라미도 열심히 일했어요. 모래를 품고 바위턱에게 부딪혔지요. 바위 표면을 갈아내는 <span class="highlight">'사식 작용'</span>이에요. 바위턱의 뾰족한 모서리가 둥글어졌어요. <span class="dialogue">"내 멋진 모서리가!"</span> 바위턱이 한탄했어요. 하지만 비올과 바라미는 멈추지 않았어요. 자연의 조각가는 쉬지 않아요.</p>
      </div>
    </section>

    <!-- Part 4 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학04/04.jpg">
      <div class="story-card">
        <span class="chapter">제4장</span>
        <span class="theme">알갱이로 부서짐</span>
        <h2>거인의 눈물, 떨어진 조각들</h2>
        <p>수만 년이 흐른 어느 날, 바위턱 몸에서 '딱!' 소리와 함께 큰 조각이 떨어졌어요. 바위턱의 왼쪽 어깨 부분이었지요. 떨어진 조각은 비탈길을 굴러가며 여러 개의 작은 돌로 부서졌어요.</p>
        <p>바위턱은 처음으로 울었어요. <span class="dialogue">"내 몸이... 내 몸의 일부가 떨어졌어..."</span> 하지만 이것은 시작일 뿐이에요. 풍화가 계속되면서 곳곳에서 조각이 떨어졌어요. 큰 조각은 <span class="highlight">'자갈'</span>이 되고, 작은 것은 <span class="highlight">'모래'</span>가 됐어요.</p>
        <p>떨어진 조각 중 하나가 말했어요. <span class="dialogue">"바위턱 형, 나 이제 어떡해?"</span> 그 작은 돌의 이름은 '꼬마돌'이었어요. 바위턱이 말했어요. <span class="dialogue">"무서워하지 마. 넌 여전히 나의 일부야."</span></p>
        <p>꼬마돌은 개울가에 멈췄어요. 거기엔 이미 많은 돌과 자갈과 모래가 있었어요. 모두 한때 큰 바위였던 것들이에요. 바위턱은 깨달았어요. <span class="highlight">부서지는 것은 사라지는 게 아니라, 자신의 일부를 세상 곳곳에 보내는 것</span>이라는 걸요.</p>
      </div>
    </section>

    <!-- Part 5 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학04/05.jpg">
      <div class="story-card">
        <span class="chapter">제5장</span>
        <span class="theme">침식 작용</span>
        <h2>여행을 떠나는 돌멩이들</h2>
        <p>바위턱에서 떨어진 꼬마돌과 알갱이들은 새 여행을 시작했어요. 비가 오면 빗물이 알갱이들을 데려갔어요. 이게 <span class="highlight">'침식'</span>이에요. 풍화가 바위를 '부수는' 것이라면, 침식은 조각을 '옮기는' 것이에요.</p>
        <p>꼬마돌은 작은 실개울에 실려갔어요. <span class="dialogue">"와, 세상이 이렇게 넓었어?"</span> 산만 보고 살았던 꼬마돌에게 세상은 신기한 곳이었어요.</p>
        <p>실개울은 개울이 되고, 개울은 강이 됐어요. 강물이 빨라지자 꼬마돌은 다른 돌과 부딪히며 작아지고 둥글어졌어요. <span class="dialogue">"아야, 아야!"</span> 부딪힐 때마다 아팠지만, 거친 모서리가 매끈해졌어요.</p>
        <p>강물은 알갱이를 세 가지 방법으로 운반해요. 큰 돌은 바닥을 굴러가고, 중간 크기는 통통 튀어가고, 아주 작은 것은 물에 떠서 가요. 꼬마돌은 여행하며 깨달았어요. <span class="highlight">침식은 파괴가 아니라 여행이고, 자연은 모든 알갱이에게 새 목적지를 주고 있었어요.</span></p>
      </div>
    </section>

    <!-- Part 6 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학04/06.jpg">
      <div class="story-card">
        <span class="chapter">제6장</span>
        <span class="theme">퇴적</span>
        <h2>긴 여행의 끝, 새 보금자리</h2>
        <p>수백 킬로미터를 여행한 꼬마돌은 이제 동전처럼 납작해졌어요. 강이 바다와 만나는 곳에서 물 흐름이 느려지자, 꼬마돌은 천천히 바닥에 내려앉았어요.</p>
        <p><span class="dialogue">"아, 여기가 내 새 집인가?"</span> 이게 <span class="highlight">'퇴적'</span>이에요. 물이 느려지면 더 이상 알갱이를 들고 갈 힘이 없어서 바닥에 내려놓는 거예요. 무거운 것은 먼저, 가벼운 것은 나중에 내려놓아요.</p>
        <p>꼬마돌 주위에는 이미 수많은 알갱이가 있었어요. 산에서 온 것, 사막에서 날아온 것, 조개껍데기까지요. 모두 각자의 여행을 마치고 온 거예요. <span class="dialogue">"너는 어디서 왔어?"</span> 꼬마돌이 물었어요. <span class="dialogue">"나는 원래 석회암이었어. 풍화되어 여기까지 왔지."</span></p>
        <p>알갱이들은 서로 이야기를 나누며 층층이 쌓였어요. 1년에 아주 조금씩 쌓이지만, 수만 년이면 두꺼운 층이 돼요. 꼬마돌은 생각했어요. <span class="highlight">'여행은 끝났지만, 이건 새로운 시작인 것 같아.'</span></p>
      </div>
    </section>

    <!-- Part 7 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학04/07.jpg">
      <div class="story-card">
        <span class="chapter">제7장</span>
        <span class="theme">새 암석</span>
        <h2>압력과 시간이 만든 두 번째 탄생</h2>
        <p>땅 아래 깊이 묻힌 꼬마돌에게 새로운 변화가 찾아왔어요. 위에 쌓인 것들이 점점 무거워지면서 엄청난 압력이 가해졌어요.</p>
        <p><span class="dialogue">"으으으, 무거워... 숨을 쉴 수가 없어!"</span> 꼬마돌이 신음했어요. 이 과정은 <span class="highlight">'속성 작용'</span>이에요. 수백만 년 동안 압력을 받으면서 알갱이 사이의 물이 빠지고, 광물이 알갱이들을 붙여줘요.</p>
        <p>꼬마돌은 주변 모래와 천천히 하나가 됐어요. <span class="dialogue">"이상해... 내 몸이 옆 알갱이와 붙어가고 있어."</span> 그것은 무서운 게 아니었어요. 꼬마돌이 태어난 화강암은 마그마가 식어 만들어진 <span class="highlight">'화성암'</span>이었지만, 지금 만들어지는 건 퇴적물이 굳어서 되는 <span class="highlight">'퇴적암'</span>이에요.</p>
        <p>꼬마돌은 모래들과 함께 단단한 사암이 됐어요. <span class="dialogue">"나는 더 이상 꼬마돌이 아니야. 나는 '사암'이야!"</span> <span class="highlight">끝이라고 생각한 곳에서 두 번째 탄생이 일어난 거예요. 이게 자연의 멋진 순환이에요.</span></p>
      </div>
    </section>

    <!-- Part 8 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학04/08.jpg">
      <div class="story-card">
        <span class="chapter">제8장</span>
        <span class="theme">반복되는 순환</span>
        <h2>암석의 순환, 끝없는 돌림노래</h2>
        <p>사암이 된 꼬마돌의 이야기는 여기서 끝이 아니에요. 지구 깊은 곳에서 또 다른 힘이 움직이고 있었거든요.</p>
        <p>땅이 충돌하면서 사암이 엄청난 열과 압력을 받았어요. 온도가 수백 도까지 올라갔지요. <span class="dialogue">"내 몸이... 또 변하고 있어!"</span> 이게 <span class="highlight">'변성 작용'</span>이에요. 사암은 규암으로 변했어요. 퇴적암이 변성암으로 다시 태어난 거예요.</p>
        <p>할배돌도 이렇게 만들어진 편마암이에요. 화강암이 열과 압력을 받아 변한 거지요. 이것이 <span class="highlight">'암석의 순환'</span>이에요. 화성암이 풍화되어 퇴적암이 되고, 퇴적암이 열과 압력을 받아 변성암이 되고, 변성암이 녹아 마그마가 되면 다시 화성암이 돼요.</p>
        <p>바위턱 조각이었던 꼬마돌은 화성암으로 태어나, 퇴적암으로 다시 태어나고, 이제 변성암이 됐어요. 만약 더 깊이 가서 녹으면, 또다시 화성암이 될 거예요. <span class="highlight">자연에는 진짜 '끝'이 없어요. 모든 끝은 새로운 시작이에요.</span></p>
      </div>
    </section>

    <!-- Part 9 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학04/09.jpg">
      <div class="story-card">
        <span class="chapter">제9장</span>
        <span class="theme">작은 알갱이</span>
        <h2>한 줌 모래가 품은 수억 년 이야기</h2>
        <p>다시 현재로 돌아와요. 태백산맥의 바위턱은 이제 예전처럼 크지 않아요. 수백만 년의 풍화를 거치며 많이 작아졌어요.</p>
        <p>하지만 바위턱 얼굴에는 더 이상 잘난 척하는 표정이 없어요. 대신 따뜻한 미소가 있어요. 어느 날, 한 소녀가 산에서 모래를 집었어요. <span class="dialogue">"와, 모래알이 반짝반짝 빛나!"</span> 모래알 속 결정이 햇빛에 반사되어 빛났어요.</p>
        <p>바위턱이 조용히 말했어요. (사람에게는 안 들리는 돌의 말로) <span class="dialogue">"그래, 그 모래알 하나하나가 내 몸의 일부란다. 저 반짝이는 알갱이는 수억 년 전에 만들어진 거야."</span></p>
        <p><span class="highlight">모래 한 줌에는 지구의 역사가 담겨 있어요.</span> 모래 한 알은 화산 폭발, 산의 솟아오름, 강물의 침식을 모두 겪은 여행자예요. 해변 모래, 놀이터 모래, 모두 수억 년의 역사를 품고 있어요. <span class="highlight">작다고 하찮은 게 아니에요. 작은 것 안에 큰 이야기가 있어요.</span></p>
      </div>
    </section>

    <!-- Part 10 -->
    <section class="story-section" data-bg="/images/창작도서/창작지구과학04/10.jpg">
      <div class="story-card">
        <span class="chapter">제10장</span>
        <span class="theme">끝없는 순환</span>
        <h2>바위턱의 마지막 인사, 새로운 시작</h2>
        <p>또다시 수백만 년이 흐른 미래 이야기예요. 바위턱은 이제 사라졌어요. 아니, 정확히는 '형태가 변했어요'. 바위턱이었던 것은 지금 지구 곳곳에서 새 역할을 하고 있어요.</p>
        <p>일부는 강 하구의 모래톱이 되어 새들의 쉼터가 됐어요. 일부는 바다 밑에서 사암이 됐어요. 일부는 해변의 하얀 모래가 됐어요. 또 일부는 깊은 땅 아래로 내려가 마그마에 녹아, 언젠가 화산이 터지면 새 화성암으로 태어날 거예요.</p>
        <p>동글이가 말해요. <span class="dialogue">"바위턱 형은 사라진 게 아니야. 온 세상에 퍼져서 모든 곳에 있는 거야."</span> 할배돌도 말해요. <span class="dialogue">"자연은 멈추지 않아. 산이 솟고, 바위가 깎이고, 모래가 쌓이고, 다시 바위가 되고. 사라지는 건 없어. 변할 뿐이야."</span></p>
        <p>비올과 바라미는 오늘도 산을 깎고 있어요. 그들의 일은 끝나지 않아요. 지금 이 순간에도 어딘가 바위에 물 한 방울이 스며들며, 수백만 년 후의 모래 한 알을 준비하고 있어요.</p>
        <p style="text-align: center; margin-top: 25px; padding: 20px; background: rgba(141, 110, 99, 0.15); border-radius: 16px;">
          <strong style="color: #5D4037; font-size: 18px;">🏜️ 「변화는 끝이 아니라 과정이에요. 자연의 이야기에는 마침표가 없고, 쉼표만 있어요.」</strong>
        </p>
      </div>
    </section>
  </div>

  <!-- 네비게이션 버튼 -->
  <div class="nav-buttons">
    <button class="nav-btn" onclick="goBack()">← 목록으로</button>
  </div>

  <!-- 스크롤 인디케이터 -->
  <div class="scroll-indicator" id="scrollIndicator">
    <svg viewBox="0 0 24 24" fill="white">
      <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
    </svg>
  </div>

  <script>
    const mapContainer = document.getElementById('map-container');
    const sections = document.querySelectorAll('.story-section');
    const scrollIndicator = document.getElementById('scrollIndicator');
    let currentBg = '';
    let ticking = false;

    function updateBackground() {
      const scrollPos = window.scrollY + window.innerHeight / 2;

      // 스크롤 인디케이터 숨기기/보이기
      if (window.scrollY > 100) {
        scrollIndicator.style.opacity = '0';
      } else {
        scrollIndicator.style.opacity = '1';
      }

      sections.forEach((section, index) => {
        const rect = section.getBoundingClientRect();
        const sectionTop = window.scrollY + rect.top;
        const sectionBottom = sectionTop + rect.height;

        if (scrollPos >= sectionTop && scrollPos < sectionBottom) {
          // 배경 업데이트
          const bgImage = section.dataset.bg;
          if (bgImage && bgImage !== currentBg) {
            currentBg = bgImage;
            mapContainer.style.backgroundImage = `url(${bgImage})`;
          }

          // 카드 활성화
          const card = section.querySelector('.story-card');
          if (card && !card.classList.contains('active')) {
            card.classList.add('active');
          }
        }
      });
    }

    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          updateBackground();
          ticking = false;
        });
        ticking = true;
      }
    });

    // 초기 실행
    updateBackground();

    function goBack() {
      // 부모 창이 있으면 부모에게 메시지 전송
      if (window.parent !== window) {
        window.parent.postMessage({ action: 'closeStory' }, '*');
      } else {
        window.history.back();
      }
    }
  </script>
</body>
</html>
