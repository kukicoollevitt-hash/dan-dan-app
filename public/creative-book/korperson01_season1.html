<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>다짐으로 다시 태어난 김유신</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 지도 캔버스 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url('/images/창작도서/창작한국인물01/00.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    #map-canvas {
      display: none;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #c9a227 0%, #8b6914 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .story-card .theme {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(0, 0, 0, 0.1);
      color: #8b6914;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 8px;
    }

    .story-card h2 {
      font-size: 26px;
      color: #2c3e50;
      margin-bottom: 20px;
      line-height: 1.4;
    }

    .story-card p {
      font-size: 15px;
      line-height: 1.9;
      color: #34495e;
      margin-bottom: 14px;
      text-align: justify;
    }

    .story-card p:last-child {
      margin-bottom: 0;
    }

    .story-card .highlight {
      color: #c9a227;
      font-weight: 600;
    }

    .story-card .dialogue {
      color: #8b6914;
      font-weight: 600;
    }

    /* 인트로 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 60px 30px;
      pointer-events: auto;
      text-align: center;
    }

    .intro-content {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(20px);
      padding: 50px;
      border-radius: 30px;
      max-width: 800px;
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);
    }

    .intro-content h1 {
      font-size: 32px;
      color: #2c3e50;
      margin-bottom: 15px;
    }

    .intro-content .subtitle {
      font-size: 16px;
      color: #7f8c8d;
      margin-bottom: 30px;
      line-height: 1.6;
    }

    .intro-content .characters {
      text-align: left;
      background: rgba(0, 0, 0, 0.05);
      padding: 25px;
      border-radius: 16px;
      margin-bottom: 25px;
    }

    .intro-content .characters h3 {
      color: #c9a227;
      font-size: 18px;
      margin-bottom: 15px;
    }

    .intro-content .characters p {
      font-size: 14px;
      color: #34495e;
      line-height: 1.8;
      margin-bottom: 10px;
    }

    .intro-content .scroll-hint {
      color: #c9a227;
      font-size: 14px;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* 네비게이션 버튼 */
    .nav-buttons {
      position: fixed;
      bottom: 30px;
      right: 30px;
      display: flex;
      gap: 15px;
      z-index: 1000;
    }

    .nav-btn {
      padding: 15px 30px;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .nav-btn:hover {
      background: rgba(0, 0, 0, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    }

    /* 스크롤 인디케이터 */
    .scroll-indicator {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      width: 50px;
      height: 50px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      animation: bounce 2s infinite;
      z-index: 100;
    }

    @keyframes bounce {
      0%, 100% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(-10px); }
    }

    .scroll-indicator svg {
      width: 24px;
      height: 24px;
      transform: rotate(90deg);
    }

    @media (max-width: 768px) {
      .story-section {
        padding: 30px 20px;
      }

      .story-card {
        padding: 25px;
        max-width: 100%;
      }

      .intro-content {
        padding: 30px 20px;
      }

      .nav-buttons {
        bottom: 20px;
        right: 20px;
        flex-direction: column;
      }

      .nav-btn {
        padding: 12px 24px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <!-- 고정된 배경 컨테이너 -->
  <div id="map-container">
    <canvas id="map-canvas"></canvas>
  </div>

  <!-- 스크롤 가능한 스토리 콘텐츠 -->
  <div id="content">
    <!-- 인트로 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>⚔️ 다짐으로 다시 태어난 김유신 ⚔️</h1>
        <p class="subtitle">
          — 가야의 피, 신라의 칼, 그리고 하나의 꿈 —<br>
          교과기반 창작도서
        </p>
        <div class="characters">
          <h3>🎭 등장인물 소개</h3>
          <p><strong>▸ 김유신 (金庾信):</strong> 주인공 — 가야 왕족의 후예이자 신라의 전설적 장군. 출신의 한계를 극복하고 삼국 통일의 꿈을 이룬 영웅.</p>
          <p><strong>▸ 김서현:</strong> 김유신의 아버지 — 가야 왕족 출신의 장군. 신라에 귀속된 뒤에도 묵묵히 충성을 바쳐 아들에게 충의의 본보기를 보여준 인물.</p>
          <p><strong>▸ 만명 부인:</strong> 김유신의 어머니 — 꿈에서 별이 품 안으로 들어오는 태몽을 꾸고, 아들이 반드시 큰 인물이 될 것이라 믿으며 평생 뒤에서 격려한 인물.</p>
          <p><strong>▸ 김춘추 (태종 무열왕):</strong> 동맹자이자 친우 — 김유신과 깊은 우정을 나눈 신라의 왕. 정치와 외교의 천재로, 김유신의 군사적 능력과 결합하여 통일의 길을 연 인물.</p>
          <p><strong>▸ 계백 장군:</strong> 적대자 — 백제의 마지막 충신 장군. 황산벌에서 결사대 5천을 이끌고 김유신의 5만 대군에 맞선 비운의 영웅.</p>
          <p><strong>▸ 당 태종 / 소정방:</strong> 외부 세력 — 나당 연합의 당나라 측 인물들. 동맹이면서도 언제든 적이 될 수 있는 위험한 협력자.</p>
        </div>
        <p class="scroll-hint">↓ 아래로 스크롤하여 이야기를 시작하세요 ↓</p>
      </div>
    </section>

    <!-- Part 1 -->
    <section class="story-section" data-bg="/images/창작도서/창작한국인물01/01.jpg">
      <div class="story-card">
        <span class="chapter">제1화</span>
        <span class="theme"></span>
        <h2>가야 왕족의 후예</h2>
        <p>옛날 옛적, 한반도의 남쪽 끝자락에 금관가야라는 작은 나라가 있었습니다. 한때 철의 왕국이라 불리며 바다 건너 먼 나라들과도 당당히 교역하던 이 나라는, 신라라는 거대한 이웃에 결국 무릎을 꿇고 말았지요. 왕족의 피가 흐르는 집안은 하루아침에 정복당한 백성이 되었고, 찬란했던 왕관은 먼지 속에 묻혔습니다. 그러나 하늘은 이 집안을 완전히 잊지 않았습니다. 서기 595년, 가야 왕족의 후예인 김서현 장군의 집에서 한 아이가 태어났습니다. 어머니 만명 부인은 아이를 잉태하기 전 신비로운 꿈을 꾸었는데, 하늘에서 커다란 별 두 개가 내려와 품 안으로 안기는 꿈이었습니다. 이 태몽을 들은 마을 어른들은 고개를 끄덕이며 말했지요. "이 아이는 보통 아이가 아닐 것이다." 아이의 이름은 유신, 김유신이었습니다. 유신이라는 이름에는 '새롭게 한다'는 뜻이 담겨 있었으니, 마치 무너진 가야의 영광을 새로운 방식으로 되살릴 운명을 암시하는 듯했습니다. 아기 유신은 유난히 눈빛이 맑고 또렷했으며, 울음소리조차 우렁차서 산 너머까지 울려 퍼졌다 합니다. 아버지 김서현은 아들을 안으며 조용히 다짐했습니다. "비록 우리가 정복당한 나라의 후손이지만, 이 아이만큼은 그 어떤 왕보다도 높은 뜻을 품게 하리라." 이렇게, 무너진 왕국의 마지막 별빛이 한 아이의 심장 속에서 다시 반짝이기 시작했습니다.</p>
      </div>
    </section>

    <!-- Part 2 -->
    <section class="story-section" data-bg="/images/창작도서/창작한국인물01/02.jpg">
      <div class="story-card">
        <span class="chapter">제2화</span>
        <span class="theme"></span>
        <h2>신라로의 귀속</h2>
        <p>금관가야가 신라에 흡수된 뒤, 가야 출신 사람들의 삶은 결코 순탄하지 않았습니다. 신라의 귀족들은 화려한 비단옷을 입고 높은 자리에 앉아 있었지만, 가야 출신들은 아무리 능력이 뛰어나도 "정복당한 나라 사람"이라는 꼬리표가 따라다녔습니다. 어린 유신은 이런 현실을 일찍부터 온몸으로 느꼈습니다. 서라벌의 거리를 걸을 때면 신라 아이들이 손가락질을 하며 속삭였습니다. "저 아이는 가야 사람이래. 망한 나라 사람이라고." 유신의 얼굴은 붉어졌지만, 아버지 김서현의 가르침이 떠올라 주먹을 꽉 쥐고 참았습니다. 김서현은 아들에게 말했습니다. "유신아, 사람의 가치는 어디서 태어났느냐가 아니라 무엇을 해내느냐에 달려 있단다. 우리가 가야의 피를 부끄러워하는 순간, 진정으로 지는 것이다." 아버지는 이미 신라 군대에서 묵묵히 공을 세우며 가야 출신도 충분히 훌륭한 신라인이 될 수 있음을 증명하고 있었습니다. 유신은 아버지의 등을 바라보며 생각했습니다. 차별을 원망할 시간에 칼을 한 번 더 휘두르자. 조롱에 분노할 시간에 글을 한 줄 더 읽자. 그래서 언젠가, 아무도 감히 가야의 후예를 깔볼 수 없는 날을 만들자. 어린 소년의 마음속에 불꽃이 피어올랐습니다. 그 불꽃은 작았지만, 절대로 꺼질 줄 모르는 종류의 것이었습니다. 그것은 곧, 역사를 바꿀 다짐의 씨앗이었습니다.</p>
      </div>
    </section>

    <!-- Part 3 -->
    <section class="story-section" data-bg="/images/창작도서/창작한국인물01/03.jpg">
      <div class="story-card">
        <span class="chapter">제3화</span>
        <span class="theme"></span>
        <h2>화랑 시절</h2>
        <p>신라에는 화랑이라는 특별한 청년 조직이 있었습니다. 화랑은 단순한 무사 집단이 아니었습니다. 아름다운 산천을 누비며 심신을 수련하고, 노래와 학문을 익히며, 충효와 의리를 몸에 새기는 신라의 정신적 엘리트들이었지요. 열다섯 살이 된 김유신은 화랑에 입문했습니다. 처음에는 가야 출신이라는 이유로 동료들 사이에서 보이지 않는 벽이 있었습니다. 함께 훈련하면서도 등을 돌리는 무리가 있었고, 식사 때 자리를 비켜주지 않는 일도 있었습니다. 그러나 유신은 불평 대신 행동으로 답했습니다. 새벽이 밝기도 전에 일어나 검술을 연습했고, 다른 화랑들이 쉴 때도 산을 오르고 계곡을 건넜습니다. 한겨울 차가운 폭포 아래서 명상을 하며 마음을 다잡았고, 한여름 뜨거운 볕 아래서 말을 달리며 체력을 길렀습니다. 특히 유신은 중악산 석굴에 홀로 들어가 수련한 것으로 유명합니다. 칠흑같이 어두운 동굴 속에서 오직 칼 한 자루만을 벗 삼아 며칠을 보내며 스스로에게 물었습니다. "나는 무엇을 위해 칼을 드는가? 나는 무엇을 위해 살아가는가?" 그 깊은 고독 속에서 유신은 답을 찾았습니다. 개인의 영달이 아닌, 모든 백성이 전쟁 없이 평화롭게 살 수 있는 세상. 그것이 자신이 추구해야 할 꿈이라는 것을. 동굴에서 나온 유신의 눈빛은 달라져 있었습니다. 동료 화랑들도 그것을 느꼈고, 점차 출신이 아닌 실력과 인품으로 유신을 인정하기 시작했습니다. 가야의 후예는 마침내 신라 최고의 화랑으로 우뚝 서고 있었습니다.</p>
      </div>
    </section>

    <!-- Part 4 -->
    <section class="story-section" data-bg="/images/창작도서/창작한국인물01/04.jpg">
      <div class="story-card">
        <span class="chapter">제4화</span>
        <span class="theme"></span>
        <h2>결심의 맹세</h2>
        <p>화랑 시절을 거치며 뛰어난 무사로 성장한 김유신에게도 인간적인 약점은 있었습니다. 젊은 시절의 유신은 서라벌 어느 골목의 아름다운 여인에게 마음을 빼앗겨, 밤마다 그곳을 찾아가곤 했다 합니다. 어느 날 밤, 유신은 술에 취해 말 위에 올라탔는데, 영리한 말이 습관처럼 그 골목으로 발걸음을 옮겼습니다. 그때 유신은 번개처럼 깨달았습니다. "내가 이런 나약함에 빠져 있으면서 어찌 삼국을 통일하겠다고 말할 수 있단 말인가!" 유신은 그 자리에서 칼을 빼어 자신의 사랑하는 말의 목을 베었습니다. 그것은 단순한 분노가 아니었습니다. 자신의 나약함을 상징하는 모든 것과 영원히 결별하겠다는 피의 맹세였습니다. 말의 피가 땅을 적시는 것을 바라보며 유신은 이를 악물었습니다. "오늘부터 나는 오직 하나만 바라보리라. 이 땅의 백성들이 전쟁의 고통에서 벗어나는 그날, 삼국이 하나 되는 그 순간만을 위해 살리라." 이 이야기는 순식간에 서라벌 전체에 퍼졌습니다. 누군가는 무모하다 했고, 누군가는 잔인하다 했지만, 대부분의 사람들은 소름이 돋았습니다. 저 사람은 진심이구나. 목숨을 걸었구나. 이 맹세는 단순한 결심을 넘어, 역사의 흐름을 바꿀 씨앗이 되었습니다. 가야 왕족의 후예가 신라의 미래를 자신의 어깨 위에 올려놓은 순간, 한반도의 운명도 함께 요동치기 시작했습니다. 돌이킬 수 없는 다짐은 언제나 역사를 바꾸는 첫 번째 발걸음입니다.</p>
      </div>
    </section>

    <!-- Part 5 -->
    <section class="story-section" data-bg="/images/창작도서/창작한국인물01/05.jpg">
      <div class="story-card">
        <span class="chapter">제5화</span>
        <span class="theme"></span>
        <h2>백제와의 전투</h2>
        <p>드디어 김유신이 전장에 나선 날이 왔습니다. 백제는 끊임없이 신라의 서쪽 국경을 넘어왔고, 마을은 불탔으며, 백성들의 비명이 산야를 가득 채웠습니다. 김유신은 장군의 갑옷을 입고 군대를 이끌었습니다. 전장은 교과서 속 글자가 아니었습니다. 칼이 부딪치는 소리, 화살이 바람을 가르는 소리, 전우가 쓰러지는 소리가 뒤섞인 공포의 현장이었습니다. 그러나 김유신은 한 발짝도 물러서지 않았습니다. 가장 위험한 전선의 가장 앞에 서서 칼을 휘둘렀고, 병사들은 그런 장군의 모습을 보며 용기를 얻었습니다. 특히 유명한 전투가 있었으니, 바로 압량주 전투였습니다. 백제군의 기세가 하늘을 찌르던 그 순간, 김유신은 홀로 적진을 향해 돌격했습니다. 아군 병사들이 경악하여 "장군님, 위험합니다!"라고 외쳤지만, 유신은 뒤돌아보며 외쳤습니다. "내가 앞에서 죽으면 너희가 뒤에서 진격하라. 내가 살아 돌아오면 함께 승리하리라!" 믿을 수 없는 일이 벌어졌습니다. 유신의 돌격에 백제군은 순간 동요했고, 그 틈을 타 신라군이 일제히 밀고 들어갔습니다. 대승이었습니다. 이날 이후 백제군 사이에서는 "김유신이 이끄는 군대와 싸우면 진다"는 말이 떠돌기 시작했고, 유신의 이름은 적에게는 공포의 상징이, 아군에게는 승리의 보증수표가 되었습니다. 전장에서 돌아온 유신은 승리의 기쁨보다 전사한 병사들의 명복을 비는 것을 잊지 않았습니다.</p>
      </div>
    </section>

    <!-- Part 6 -->
    <section class="story-section" data-bg="/images/창작도서/창작한국인물01/06.jpg">
      <div class="story-card">
        <span class="chapter">제6화</span>
        <span class="theme"></span>
        <h2>삼국 통일의 꿈</h2>
        <p>전투에서 거듭 승리를 거두며 명성을 쌓아가던 김유신은, 어느 날 높은 산 위에 올라 한반도 전체를 내려다보았습니다. 북쪽에는 강대한 고구려가 버티고 있었고, 서쪽에는 끈질긴 백제가 웅크리고 있었으며, 그 사이에 신라가 있었습니다. 세 나라의 백성들은 같은 하늘 아래 같은 말을 쓰면서도, 끝없는 전쟁으로 서로를 죽이고 있었습니다. 유신의 눈에 눈물이 어렸습니다. "언제까지 이 싸움이 계속되어야 하는가. 어머니들은 아들을 전쟁터에 보내며 울고, 아이들은 아버지 없이 자라고 있다. 이 고통을 끝낼 방법은 하나뿐이다. 삼국을 하나로 만드는 것이다." 이것은 당시로서는 미친 소리에 가까운 꿈이었습니다. 고구려는 만주 벌판까지 호령하는 대제국이었고, 백제는 문화 강국이었습니다. 그런 나라들을 신라 하나의 힘으로 통일한다고요? 그러나 김유신은 혼자가 아니었습니다. 그에게는 뜻을 같이하는 김춘추라는 벗이 있었습니다. 전장의 천재 김유신과 외교의 천재 김춘추. 이 두 사람이 손을 맞잡았을 때, 불가능해 보이던 삼국 통일의 꿈은 비로소 현실의 윤곽을 갖추기 시작했습니다. 김유신은 칼로 길을 열고, 김춘추는 말로 길을 열었습니다. 한 사람은 전장에서, 한 사람은 궁전에서, 같은 방향을 향해 걸어갔습니다. 꿈은 혼자 꿀 때는 꿈이지만, 둘이 함께 꿀 때는 현실의 시작이라는 것을 그들은 증명하고 있었습니다.</p>
      </div>
    </section>

    <!-- Part 7 -->
    <section class="story-section" data-bg="/images/창작도서/창작한국인물01/07.jpg">
      <div class="story-card">
        <span class="chapter">제7화</span>
        <span class="theme"></span>
        <h2>전략과 용기</h2>
        <p>삼국 통일의 꿈이 구체화되면서, 역사적 결전의 순간이 다가왔습니다. 서기 660년, 김유신은 5만 대군을 이끌고 백제의 심장부를 향해 진군했습니다. 그러나 그 앞에는 무시무시한 장벽이 기다리고 있었으니, 바로 백제의 충신 계백 장군이었습니다. 계백은 출전하기 전 자신의 가족을 직접 칼로 베었습니다. "가족이 적의 손에 떨어져 치욕을 당하느니, 내 손으로 보내겠다. 이제 나에겐 돌아갈 곳이 없다." 계백의 결사대 5천 명은 말 그대로 죽기를 각오한 군대였습니다. 황산벌에서 두 군대가 맞붙었습니다. 놀랍게도 5천 명의 결사대는 5만 대군을 네 번이나 물리쳤습니다. 죽음을 두려워하지 않는 적 앞에서 신라군의 사기가 흔들리기 시작했습니다. 병사들의 얼굴에 공포가 번지는 것을 본 김유신은 결단을 내렸습니다. 어린 화랑 관창을 불러 말했습니다. "적진에 돌격하여 우리 군의 사기를 일으켜라." 관창은 두 번 적진에 돌격했고, 두 번째에 장렬히 전사했습니다. 어린 영웅의 희생을 목격한 신라군은 눈물과 함께 분노로 일어섰습니다. "관창이 어린 나이에 저리 싸웠는데, 우리가 물러설 수 있겠는가!" 다섯 번째 공격에서 신라군은 마침내 계백의 결사대를 뚫었습니다. 계백은 최후까지 칼을 놓지 않았고, 장렬히 전사했습니다. 승자도 패자도 눈물을 흘린 전투였습니다. 김유신은 쓰러진 계백의 시신 앞에 서서 조용히 예를 갖추었습니다. 적이었지만, 그의 충의는 존경받아 마땅했기 때문입니다.</p>
      </div>
    </section>

    <!-- Part 8 -->
    <section class="story-section" data-bg="/images/창작도서/창작한국인물01/08.jpg">
      <div class="story-card">
        <span class="chapter">제8화</span>
        <span class="theme"></span>
        <h2>나당 연합</h2>
        <p>삼국 통일이라는 거대한 목표를 이루기 위해, 신라는 결국 바다 건너 당나라의 손을 잡기로 했습니다. 이것은 김춘추와 김유신이 오랜 고민 끝에 내린 결정이었습니다. 당나라는 세계 최강의 제국이었습니다. 수십만 대군을 움직일 수 있는 압도적인 군사력을 가지고 있었지요. 신라 혼자의 힘으로는 고구려와 백제를 동시에 상대하기 어려웠기에, 당나라의 도움은 필수적이었습니다. 그러나 김유신은 이 동맹의 위험성을 누구보다 잘 알고 있었습니다. 당나라의 진짜 목적은 한반도 전체를 삼키는 것이었습니다. 도움을 준다는 명목으로 들어와서, 결국에는 신라까지 복속시키려는 야욕을 품고 있었지요. 유신은 김춘추에게 말했습니다. "호랑이의 등에 올라타는 것은 위험하지만, 호랑이를 피해서는 사슴도 잡을 수 없습니다. 우리는 당나라를 이용하되, 반드시 주도권을 놓지 않아야 합니다." 660년, 당나라 소정방이 이끄는 13만 대군이 바다를 건너왔고, 김유신의 5만 신라군과 합류하여 백제를 공격했습니다. 연합 작전은 성공적이었지만, 그 과정에서 소정방은 신라군이 약속 시각에 늦었다는 이유로 김문영 장군을 처형하려 했습니다. 김유신은 분노하며 말했습니다. "아군끼리 먼저 피를 보려 한다면, 우리는 당나라와도 싸울 준비가 되어 있다!" 소정방은 김유신의 기세에 눌려 한 발 물러섰습니다. 이것은 단순한 동맹이 아니었습니다. 언제든 적으로 변할 수 있는 위태로운 줄타기였고, 김유신은 그 위에서 단 한 번도 균형을 잃지 않았습니다.</p>
      </div>
    </section>

    <!-- Part 9 -->
    <section class="story-section" data-bg="/images/창작도서/창작한국인물01/09.jpg">
      <div class="story-card">
        <span class="chapter">제9화</span>
        <span class="theme"></span>
        <h2>통일 완성</h2>
        <p>660년 백제가 멸망한 뒤, 다음 목표는 북방의 대제국 고구려였습니다. 고구려는 수나라와 당나라의 수십만 대군을 여러 차례 물리친 철옹성 같은 나라였습니다. 그러나 내부의 권력 다툼으로 서서히 균열이 가고 있었습니다. 668년, 신라와 당나라 연합군은 마침내 고구려의 수도 평양성을 함락시켰습니다. 천 년 역사의 고구려가 무너지는 순간이었습니다. 그러나 진정한 싸움은 그다음에 벌어졌습니다. 예상대로 당나라는 가면을 벗었습니다. 백제 땅에 웅진도독부를, 고구려 땅에 안동도호부를 설치하고, 심지어 신라 땅에도 계림도독부를 만들어 한반도 전체를 당나라의 영토로 삼으려 했습니다. 이미 늙은 나이가 된 김유신이었지만, 그의 눈에는 여전히 불꽃이 타오르고 있었습니다. "당나라를 이 땅에서 몰아내야 한다. 우리가 피를 흘려 이룬 통일을, 남의 손에 넘겨줄 수는 없다!" 김유신의 지휘 아래 신라군은 당나라 주둔군과 치열한 전투를 벌였습니다. 매초성 전투에서 당나라 20만 대군을 대파하는 대승을 거두었고, 기벌포 해전에서는 당나라 수군마저 격퇴했습니다. 마침내 676년, 당나라는 한반도에서의 야욕을 포기하고 군대를 철수시켰습니다. 대동강 이남의 땅이 온전히 신라의 것이 되었습니다. 삼국 통일이 완성된 것입니다. 수백 년간 피로 물들었던 한반도에 마침내 하나의 깃발이 펄럭였습니다. 김유신은 그 깃발을 올려다보며, 평생의 다짐이 이루어진 것을 느꼈습니다.</p>
      </div>
    </section>

    <!-- Part 10 -->
    <section class="story-section" data-bg="/images/창작도서/창작한국인물01/10.jpg">
      <div class="story-card">
        <span class="chapter">제10화</span>
        <span class="theme"></span>
        <h2>이름을 남기다</h2>
        <p>삼국 통일이라는 위대한 업적을 이룬 김유신은, 673년 79세의 나이로 조용히 눈을 감았습니다. 그의 마지막 순간, 곁을 지키던 이들에게 유신은 나지막이 말했다 합니다. "나는 가야 왕족의 후예로 태어나 신라의 장군으로 살았다. 한때는 출신 때문에 많은 설움을 겪었으나, 나는 다짐 하나로 그 모든 벽을 넘었다. 기억하여라. 사람의 운명은 태어남에 있지 않고, 다짐에 있느니라." 김유신이 세상을 떠나자, 신라 온 나라가 슬픔에 잠겼습니다. 왕은 그에게 흥무대왕이라는 시호를 내렸으니, 신라 역사상 왕족이 아닌 사람이 왕의 칭호를 받은 것은 김유신이 처음이자 마지막이었습니다. 이것은 그의 공이 얼마나 위대했는지를 말해주는 것이지요. 세월이 흘러 천 년이 넘는 시간이 지났지만, 김유신의 이야기는 사라지지 않았습니다. 경주의 김유신 장군묘는 여전히 그 자리에서 후손들을 내려다보고 있으며, 교과서 속에서, 드라마 속에서, 할머니 할아버지의 이야기 속에서 김유신은 계속 살아 숨 쉬고 있습니다. 그가 남긴 가장 큰 유산은 영토도 아니요, 권력도 아닙니다. 바로 "굳은 다짐은 역사를 바꿀 수 있다"는 살아있는 증거 자체입니다. 가야의 작은 별에서 시작하여 삼국 통일이라는 거대한 태양이 된 김유신. 그의 이야기는 오늘날 우리에게도 묻고 있습니다. "너의 다짐은 무엇이니? 그 다짐을 위해 오늘 무엇을 하였느니?" 이 물음에 답할 수 있는 사람이 바로, 새로운 역사를 쓸 수 있는 사람입니다.</p>
      </div>
    </section>
  </div>

  <!-- 네비게이션 버튼 -->
  <div class="nav-buttons">
    <button class="nav-btn" onclick="goBack()">← 목록으로</button>
    <button class="nav-btn" style="background: linear-gradient(135deg, #f39c12 0%, #e74c3c 100%);" onclick="goToQuiz()">📝 관문평가</button>
  </div>

  <!-- 스크롤 인디케이터 -->
  <div class="scroll-indicator" id="scrollIndicator">
    <svg viewBox="0 0 24 24" fill="#c9a227">
      <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
    </svg>
  </div>

  <script>
    const mapContainer = document.getElementById('map-container');
    const sections = document.querySelectorAll('.story-section');
    const scrollIndicator = document.getElementById('scrollIndicator');
    let currentBg = '';
    let ticking = false;

    function updateBackground() {
      const scrollPos = window.scrollY + window.innerHeight / 2;

      // 스크롤 인디케이터 숨기기/보이기
      if (window.scrollY > 100) {
        scrollIndicator.style.opacity = '0';
      } else {
        scrollIndicator.style.opacity = '1';
      }

      sections.forEach((section, index) => {
        const rect = section.getBoundingClientRect();
        const sectionTop = window.scrollY + rect.top;
        const sectionBottom = sectionTop + rect.height;

        if (scrollPos >= sectionTop && scrollPos < sectionBottom) {
          // 배경 업데이트
          const bgImage = section.dataset.bg;
          if (bgImage && bgImage !== currentBg) {
            currentBg = bgImage;
            mapContainer.style.backgroundImage = `url(${bgImage})`;
          }

          // 카드 활성화
          const card = section.querySelector('.story-card');
          if (card && !card.classList.contains('active')) {
            card.classList.add('active');
          }
        }
      });
    }

    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          updateBackground();
          ticking = false;
        });
        ticking = true;
      }
    });

    // 초기 실행
    updateBackground();

    function goBack() {
      // 부모 창이 있으면 부모에게 메시지 전송
      if (window.parent !== window) {
        window.parent.postMessage({ action: 'closeStory' }, '*');
      } else {
        window.history.back();
      }
    }

    function goToQuiz() {
      window.location.href = 'korperson01_season1_quiz.html';
    }
  </script>
</body>
</html>
