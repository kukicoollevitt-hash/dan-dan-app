<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>코일 마을에 불을 밝혀라! 볼트의 전자기 유도 모험</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 지도 캔버스 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url('/images/창작도서/창작물리09/00.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    #map-canvas {
      display: none;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #2196F3 0%, #3F51B5 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 15px;
      box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
    }

    .story-card .theme {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(33, 150, 243, 0.15);
      color: #1565C0;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 8px;
    }

    .story-card h2 {
      font-size: 26px;
      color: #2c3e50;
      margin-bottom: 20px;
      line-height: 1.4;
    }

    .story-card p {
      font-size: 15px;
      line-height: 1.9;
      color: #34495e;
      margin-bottom: 14px;
      text-align: justify;
    }

    .story-card p:last-child {
      margin-bottom: 0;
    }

    .story-card .highlight {
      color: #2196F3;
      font-weight: 600;
    }

    .story-card .dialogue {
      color: #3F51B5;
      font-weight: 600;
    }

    /* 인트로 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
    }

    .intro-content {
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      padding: 60px 80px;
      border-radius: 30px;
      max-width: 850px;
      animation: fadeInUp 1s ease-out;
    }

    .intro-content h1 {
      font-size: 40px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }

    .intro-content .subtitle {
      font-size: 20px;
      line-height: 1.8;
      color: #e0e0e0;
      margin-bottom: 30px;
      font-weight: 400;
    }

    .intro-content .characters {
      text-align: left;
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 16px;
      margin-bottom: 30px;
    }

    .intro-content .characters h3 {
      color: #90CAF9;
      font-size: 16px;
      margin-bottom: 15px;
    }

    .intro-content .characters p {
      color: #d0d0d0;
      font-size: 14px;
      line-height: 1.7;
      margin-bottom: 8px;
    }

    .intro-content .scroll-hint {
      font-size: 16px;
      color: #ffffff;
      font-weight: 600;
      animation: pulse 2s infinite;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    /* 스크롤 인디케이터 */
    .scroll-indicator {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      animation: bounce 2s infinite;
      pointer-events: none;
    }

    .scroll-indicator svg {
      width: 40px;
      height: 40px;
      opacity: 0.7;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateX(-50%) translateY(0);
      }
      40% {
        transform: translateX(-50%) translateY(-20px);
      }
      60% {
        transform: translateX(-50%) translateY(-10px);
      }
    }

    /* 반응형 디자인 */
    @media (max-width: 768px) {
      .story-section {
        padding: 40px 20px;
      }

      .story-card {
        max-width: 100%;
        padding: 30px;
      }

      .story-card h2 {
        font-size: 22px;
      }

      .story-card p {
        font-size: 14px;
      }

      .intro-content {
        padding: 40px 30px;
      }

      .intro-content h1 {
        font-size: 24px;
      }

      .intro-content .subtitle {
        font-size: 15px;
      }
    }

    /* 네비게이션 버튼 */
    .nav-buttons {
      position: fixed;
      bottom: 40px;
      right: 40px;
      z-index: 1000;
      display: flex;
      gap: 15px;
      pointer-events: auto;
    }

    .nav-btn {
      padding: 15px 30px;
      background: rgba(33, 150, 243, 0.9);
      backdrop-filter: blur(10px);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
    }

    .nav-btn:hover {
      background: rgba(63, 81, 181, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
    }

    @media (max-width: 768px) {
      .nav-buttons {
        bottom: 20px;
        right: 20px;
        flex-direction: column;
      }

      .nav-btn {
        padding: 12px 24px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <!-- 고정된 배경 컨테이너 -->
  <div id="map-container">
    <canvas id="map-canvas"></canvas>
  </div>

  <!-- 스크롤 가능한 스토리 콘텐츠 -->
  <div id="content">
    <!-- 인트로 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>⚡ 코일 마을에 불을 밝혀라! 볼트의 모험</h1>
        <p class="subtitle">
          《움직이는 자석이 전기를 깨우는 순간》<br>
          전자기 유도와 발전기의 원리를 밝히는 이야기
        </p>
        <div class="characters">
          <h3>📖 등장인물 소개</h3>
          <p><strong>볼트</strong> — 열두 살 소녀. 마을에 빛을 되찾으려는 주인공이에요.</p>
          <p><strong>패러 박사</strong> — 전설적인 발명가. 전자기 유도의 비밀을 알려줘요.</p>
          <p><strong>코일 마을</strong> — 어둠 속에서 빛을 기다리는 마을이에요.</p>
          <p><strong>대발전탑</strong> — 마을에 전기를 공급하는 거대한 발전기예요.</p>
        </div>
        <p class="scroll-hint">⬇ 스크롤하여 이야기 시작 ⬇</p>
      </div>
    </section>

    <!-- 제1장 -->
    <section class="story-section" data-bg="/images/창작도서/창작물리09/01.jpg">
      <div class="story-card">
        <span class="chapter">제1장</span>
        <span class="theme">🌑 어둠의 시작</span>
        <h2>불이 꺼진 코일 마을</h2>
        <p>산골짜기에 '코일 마을'이 있었어요. 마을 중앙에는 '대발전탑'이 있었고, 이 탑에서 만들어지는 전기가 마을을 환하게 밝혀 주었어요.</p>
        <p>그런데 어느 날, 대발전탑이 갑자기 멈췄어요! 탑을 만든 '패러' 박사는 오래전 떠났고, 고칠 줄 아는 사람이 없었어요.</p>
        <p>마을에 어둠이 내렸어요. 처음에는 촛불로 버텼지만, 아이들은 어두운 밤이 무서웠고, 어른들은 점점 지쳐 갔어요.</p>
        <p><span class="dialogue">"누군가 대발전탑의 비밀을 알아내야 해."</span> 마을 어른들이 한숨을 쉬었어요.</p>
        <p>그때, 열두 살 소녀 <span class="highlight">'볼트'</span>가 손을 들었어요. <span class="dialogue">"제가 가 볼게요! 패러 박사님을 찾아서 대발전탑의 비밀을 배워 올게요!"</span></p>
        <p>마을 사람들은 걱정했지만, 볼트의 눈에서 용기를 보고 고개를 끄덕였어요. 어둠을 밝히기 위한 볼트의 모험이 시작되었어요!</p>
      </div>
    </section>

    <!-- 제2장 -->
    <section class="story-section" data-bg="/images/창작도서/창작물리09/02.jpg">
      <div class="story-card">
        <span class="chapter">제2장</span>
        <span class="theme">🔎 발견의 시작</span>
        <h2>움직이는 자석과 춤추는 바늘</h2>
        <p>볼트는 산 너머 오두막에서 패러 박사를 찾았어요. 박사는 볼트를 실험실로 데려갔어요.</p>
        <p>책상에는 구리선이 감긴 코일과 막대자석, 바늘이 달린 검류계가 있었어요.</p>
        <p><span class="dialogue">"자석을 코일 안에 넣어 보렴."</span></p>
        <p>볼트가 자석을 밀어 넣자, 검류계 바늘이 흔들렸어요!</p>
        <p><span class="dialogue">"바늘이 움직였어요! 왜요?"</span></p>
        <p><span class="dialogue">"자석을 '움직일' 때만 바늘이 움직이지. 가만히 두면 어떻게 될까?"</span></p>
        <p>자석을 가만히 두니 바늘이 멈췄어요. 다시 빼니 바늘이 반대로 움직였어요!</p>
        <p><span class="dialogue">"<span class="highlight">자석이 '움직일' 때만 전기가 생기는 거예요?</span>"</span></p>
        <p>패러 박사가 웃었어요. <span class="dialogue">"바로 그거야. 이것이 '전자기 유도'의 첫 번째 비밀이란다."</span></p>
      </div>
    </section>

    <!-- 제3장 -->
    <section class="story-section" data-bg="/images/창작도서/창작물리09/03.jpg">
      <div class="story-card">
        <span class="chapter">제3장</span>
        <span class="theme">🧲 자기장의 비밀</span>
        <h2>보이지 않는 힘의 선</h2>
        <p><span class="dialogue">"자석이 움직이면 왜 전기가 생겨요?"</span></p>
        <p>박사가 자석 위에 종이를 올리고 철가루를 뿌렸어요. 철가루가 아름다운 곡선으로 줄을 섰어요.</p>
        <p><span class="dialogue">"이것이 '자기장'이야. 자석 주변에 퍼져 있는 보이지 않는 힘이야. 이 선을 '자기력선'이라고 해."</span></p>
        <p>볼트가 선을 따라가 봤어요. N극에서 나와 S극으로 들어가는 곡선이었어요.</p>
        <p><span class="dialogue">"자기력선이 코일을 통과할 때는 아무 일도 없어. 하지만 자석이 움직이면?"</span></p>
        <p><span class="dialogue">"자기력선이... 변해요!"</span></p>
        <p><span class="dialogue">"<span class="highlight">코일을 통과하는 자기력선의 '수'가 변할 때, 코일에 전기가 생기는 거야.</span> 이것을 '전자기 유도'라고 해."</span></p>
        <p><span class="dialogue">"자석을 넣으면 자기력선이 늘어나서 전기가 생기고, 빼면 줄어들어서 또 전기가 생기는 거네요!"</span></p>
        <p><span class="dialogue">"바로 그거야! 변화가 핵심이란다."</span></p>
      </div>
    </section>

    <!-- 제4장 -->
    <section class="story-section" data-bg="/images/창작도서/창작물리09/04.jpg">
      <div class="story-card">
        <span class="chapter">제4장</span>
        <span class="theme">📜 패러데이의 법칙</span>
        <h2>전기의 공식</h2>
        <p>다음 날, 박사가 특별한 수업을 했어요.</p>
        <p><span class="dialogue">"이제 정확한 법칙을 알려 줄게. <span class="highlight">'패러데이의 법칙'</span>이라고 해."</span></p>
        <p style="background: rgba(33, 150, 243, 0.1); padding: 15px; border-radius: 10px; text-align: center;"><span class="highlight">자기력선이 빨리 변할수록, 많이 변할수록 더 큰 전기가 생겨!</span></p>
        <p>박사가 실험으로 보여줬어요. 자석을 천천히 넣으니 바늘이 살짝 움직였고, 빠르게 넣으니 크게 흔들렸어요.</p>
        <p><span class="dialogue">"빨리 움직일수록 전기가 많이 생겨요!"</span></p>
        <p><span class="dialogue">"코일 감은 횟수가 많을수록 전기도 많이 생겨."</span></p>
        <p>5번 감은 코일과 50번 감은 코일로 실험했어요. 50번 감은 코일에서 바늘이 훨씬 크게 움직였어요.</p>
        <p><span class="dialogue">"<span class="highlight">빠른 변화 + 많은 코일 = 강한 전기!</span> 기억할게요!"</span></p>
      </div>
    </section>

    <!-- 제5장 -->
    <section class="story-section" data-bg="/images/창작도서/창작물리09/05.jpg">
      <div class="story-card">
        <span class="chapter">제5장</span>
        <span class="theme">🔄 렌츠의 법칙</span>
        <h2>자연은 변화를 싫어해</h2>
        <p>볼트가 이상한 점을 발견했어요. <span class="dialogue">"자석을 넣을 때랑 뺄 때 바늘이 반대로 움직여요. 왜요?"</span></p>
        <p><span class="dialogue">"좋은 질문이야. 이것이 <span class="highlight">'렌츠의 법칙'</span>이야."</span></p>
        <p><span class="dialogue">"자연은 변화를 싫어해. 자기력선이 늘어나면, 코일이 '싫어!' 하면서 막으려고 반대 방향 전류를 만들어."</span></p>
        <p><span class="dialogue">"자석의 N극을 가까이 가져가면, 코일이 밀어내려고 N극이 되는 방향으로 전류가 흐르는 거예요?"</span></p>
        <p><span class="dialogue">"정확해! 반대로 자석을 빼면?"</span></p>
        <p><span class="dialogue">"코일이 '가지 마!' 하면서 끌어당기려고 반대 극이 되겠네요!"</span></p>
        <p><span class="dialogue">"훌륭해! <span class="highlight">렌츠의 법칙은 변화를 방해하는 방향으로 전류가 흐른다</span>는 거야."</span></p>
        <p>볼트는 자연이 살아 있는 것처럼 반응한다는 게 신기했어요.</p>
      </div>
    </section>

    <!-- 제6장 -->
    <section class="story-section" data-bg="/images/창작도서/창작물리09/06.jpg">
      <div class="story-card">
        <span class="chapter">제6장</span>
        <span class="theme">⚙️ 발전기</span>
        <h2>자석을 돌리면 전기가 생겨</h2>
        <p><span class="dialogue">"대발전탑은 어떻게 전기를 만들어요?"</span></p>
        <p>박사가 작은 모형을 꺼냈어요. 자석 사이에 코일이 달린 축이 있었어요.</p>
        <p><span class="dialogue">"이것이 '발전기'야. 손잡이를 돌려 봐."</span></p>
        <p>볼트가 손잡이를 돌리자 꼬마전구에 불이 들어왔어요!</p>
        <p><span class="dialogue">"전기가 생겼어요!"</span></p>
        <p><span class="dialogue">"코일이 자석 사이에서 돌면, <span class="highlight">코일을 통과하는 자기력선이 계속 변해</span>. 그러면 계속 전기가 생기지."</span></p>
        <p><span class="dialogue">"그래서 빨리 돌리면 전구가 더 밝아지는 거군요!"</span></p>
        <p><span class="dialogue">"맞아. 발전소에서는 물, 바람, 증기로 터빈을 돌려서 발전기를 작동시켜. <span class="highlight">회전 운동이 전기로 바뀌는</span> 거야."</span></p>
        <p>볼트는 대발전탑의 원리가 이것과 같다는 것을 깨달았어요.</p>
      </div>
    </section>

    <!-- 제7장 -->
    <section class="story-section" data-bg="/images/창작도서/창작물리09/07.jpg">
      <div class="story-card">
        <span class="chapter">제7장</span>
        <span class="theme">🔀 변압기</span>
        <h2>전압을 높이고 낮추는 비밀</h2>
        <p>박사가 새 장치를 보여줬어요. 철심에 두 개의 코일이 감겨 있었어요.</p>
        <p><span class="dialogue">"이것은 '변압기'야. 전압을 높이거나 낮출 수 있어."</span></p>
        <p><span class="dialogue">"전압을 바꾼다고요? 어떻게요?"</span></p>
        <p><span class="dialogue">"왼쪽 코일에 전기가 흐르면 자기장이 생겨. 이 자기장이 변하면서 오른쪽 코일에 전기가 생기지."</span></p>
        <p><span class="dialogue">"자석 대신 <span class="highlight">자기장 자체를 변화</span>시키는 거네요!"</span></p>
        <p><span class="dialogue">"왼쪽 코일이 100번, 오른쪽 코일이 200번 감기면?"</span></p>
        <p><span class="dialogue">"오른쪽이 2배 더 많으니... 전압도 2배가 돼요?"</span></p>
        <p><span class="dialogue">"정확해! <span class="highlight">코일 감은 횟수 비율만큼 전압이 변해</span>. 높이는 것을 '승압', 낮추는 것을 '강압'이라고 해."</span></p>
        <p><span class="dialogue">"발전소에서 높은 전압으로 보내고, 집에서 낮추는 것도 이거 때문이군요!"</span></p>
      </div>
    </section>

    <!-- 제8장 -->
    <section class="story-section" data-bg="/images/창작도서/창작물리09/08.jpg">
      <div class="story-card">
        <span class="chapter">제8장</span>
        <span class="theme">🔌 에너지 변환</span>
        <h2>발전기와 모터는 쌍둥이</h2>
        <p><span class="dialogue">"발전기와 모터는 다른 건가요?"</span></p>
        <p>박사가 웃었어요. <span class="dialogue">"사실 둘은 쌍둥이야. 같은 원리가 반대로 작동하는 거지."</span></p>
        <p>박사가 발전기 모형에 전기를 연결했어요. 축이 저절로 돌기 시작했어요!</p>
        <p><span class="dialogue">"전기를 넣으니까 회전이 생겼어요!"</span></p>
        <p><span class="dialogue">"이게 '전동기', 즉 모터야. <span class="highlight">발전기는 회전을 전기로 바꾸고, 모터는 전기를 회전으로 바꿔</span>."</span></p>
        <p><span class="dialogue">"선풍기, 세탁기, 전기차... 다 모터가 있는 거죠?"</span></p>
        <p><span class="dialogue">"맞아. 에너지가 형태만 바뀌는 거야. 사라지지 않아!"</span></p>
        <p><span class="dialogue">"그것이 '에너지 보존 법칙'이야. 전자기 유도는 이 법칙의 아름다운 예란다."</span></p>
      </div>
    </section>

    <!-- 제9장 -->
    <section class="story-section" data-bg="/images/창작도서/창작물리09/09.jpg">
      <div class="story-card">
        <span class="chapter">제9장</span>
        <span class="theme">🔧 탑 수리</span>
        <h2>대발전탑의 심장을 고쳐라</h2>
        <p>배움을 마친 볼트가 박사와 함께 마을로 돌아왔어요.</p>
        <p>대발전탑에 올라간 볼트는 거대한 발전기를 봤어요. 자석과 코일이 있었는데, 코일 일부가 끊어져 있었고, 베어링은 녹슬어 있었어요.</p>
        <p><span class="dialogue">"코일이 끊어졌어요. 자기력선이 변해도 전류가 흐를 수 없겠어요!"</span></p>
        <p><span class="dialogue">"회로가 끊기면 전자들이 이동할 수 없으니까. 이것부터 수리하자."</span></p>
        <p>볼트는 대장장이 도움으로 구리선을 이어 붙이고, 녹슨 베어링을 교체했어요.</p>
        <p><span class="dialogue">"터빈을 돌릴 물이 필요해요!"</span></p>
        <p>마을 사람들이 산 위 저수지에서 물길을 텄어요. 물이 쏟아지며 터빈이 돌기 시작했어요. 발전기 축이 회전했어요.</p>
        <p>검류계 바늘이 흔들렸어요! <span class="dialogue">"<span class="highlight">전기가 생기고 있어요!</span>"</span></p>
      </div>
    </section>

    <!-- 제10장 -->
    <section class="story-section" data-bg="/images/창작도서/창작물리09/10.jpg">
      <div class="story-card">
        <span class="chapter">제10장</span>
        <span class="theme">💡 빛의 귀환</span>
        <h2>코일 마을에 다시 불이 켜지다</h2>
        <p>발전기가 돌기 시작하자, 박사가 변압기 레버를 올렸어요. <span class="dialogue">"전압을 높여서 마을 전체에 보낸다!"</span></p>
        <p>높은 전압의 전기가 전선을 타고 마을로 흘러갔어요. 마을 곳곳의 작은 변압기에서 전압이 낮아지고...</p>
        <p><span class="dialogue">"딸깍!"</span> 첫 번째 전등에 불이 들어왔어요.</p>
        <p>사람들이 환호했어요. 하나, 둘, 전등들이 차례로 켜지더니, 마을 전체가 환하게 빛났어요!</p>
        <p>아이들이 뛰어나와 춤을 추고, 어른들 눈에는 눈물이 흘렀어요. <span class="dialogue">"볼트! 마을을 살렸어!"</span></p>
        <p>볼트가 대발전탑을 보며 말했어요. <span class="dialogue">"<span class="highlight">변화하는 자기장이 전기를 만든다.</span> 이 단순한 원리가 우리 모두를 밝혀 주는구나."</span></p>
        <p>박사가 볼트 어깨에 손을 얹었어요. <span class="dialogue">"이 지식을 마을에 전해 주렴. 어둠은 다시 오지 않을 거야."</span></p>
        <p style="margin-top: 30px; padding: 20px; background: rgba(33, 150, 243, 0.1); border-radius: 12px; border-left: 4px solid #2196F3;">
          <strong>🌱 교훈: 변화 속에 에너지가 있어요.</strong><br><br>
          코일 주변 자기장이 변할 때 전기가 생겨요. 빠른 변화와 많은 코일이 더 큰 전기를 만들어요. 발전기는 회전을 전기로, 모터는 전기를 회전으로 바꿔요. 변화를 두려워하지 마세요. 변화 속에 새로운 에너지가 있어요!
        </p>
      </div>
    </section>
  </div>

  <!-- 네비게이션 버튼 -->
  <div class="nav-buttons">
    <button class="nav-btn" onclick="history.back()">← 돌아가기</button>
  </div>

  <!-- 스크롤 인디케이터 -->
  <div class="scroll-indicator">
    <svg viewBox="0 0 24 24" fill="white">
      <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
    </svg>
  </div>

  <script>
    // 배경 이미지 변경
    const sections = document.querySelectorAll('.story-section');
    const mapContainer = document.getElementById('map-container');

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const bg = entry.target.dataset.bg;
          if (bg) {
            mapContainer.style.backgroundImage = `url('${bg}')`;
          }
          entry.target.querySelector('.story-card')?.classList.add('active');
        }
      });
    }, {
      threshold: 0.3
    });

    sections.forEach(section => observer.observe(section));

    // 인트로 카드 초기 표시
    document.querySelector('.intro-content')?.classList.add('active');
  </script>
</body>
</html>
