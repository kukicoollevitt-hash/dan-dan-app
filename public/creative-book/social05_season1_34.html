<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>📜 마을 회의 대모험</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: "Gmarket Sans", "Noto Sans KR", sans-serif; overflow-x: hidden; background: #1a1a1a; }
    #map-container { position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: url('/images/창작도서/창작사회문화05/00.jpg'); background-size: cover; background-position: center; transition: background-image 1s ease-in-out; z-index: 1; }
    #content { position: relative; z-index: 2; pointer-events: none; }
    .story-section { min-height: 100vh; display: flex; align-items: center; justify-content: flex-start; padding: 60px 120px; pointer-events: none; }
    .story-section:nth-child(odd) { justify-content: flex-start; }
    .story-section:nth-child(even) { justify-content: flex-end; }
    .story-card { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(15px); padding: 40px; border-radius: 24px; max-width: 600px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); transform: translateX(100px); opacity: 0; transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1); pointer-events: auto; }
    .story-section:nth-child(odd) .story-card { transform: translateX(-100px); }
    .story-section:nth-child(even) .story-card { transform: translateX(100px); }
    .story-card.active { transform: translateX(0); opacity: 1; }
    .story-card .chapter { display: inline-block; padding: 8px 20px; background: linear-gradient(135deg, #FF6B35 0%, #D63031 100%); color: white; border-radius: 20px; font-size: 14px; font-weight: 600; margin-bottom: 15px; }
    .story-card .theme { display: inline-block; padding: 4px 12px; background: rgba(255, 107, 53, 0.15); color: #D63031; border-radius: 12px; font-size: 12px; font-weight: 600; margin-left: 8px; }
    .story-card h2 { font-size: 26px; color: #2c3e50; margin-bottom: 20px; line-height: 1.4; }
    .story-card p { font-size: 15px; line-height: 1.9; color: #34495e; margin-bottom: 14px; text-align: justify; }
    .story-card .highlight { color: #FF6B35; font-weight: 600; }
    .story-card .dialogue { color: #D63031; font-weight: 600; }
    .intro-section { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 60px; }
    .intro-content { background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px); padding: 60px 80px; border-radius: 30px; max-width: 850px; }
    .intro-content h1 { font-size: 44px; font-weight: 700; color: #ffffff; margin-bottom: 20px; }
    .intro-content .subtitle { font-size: 20px; line-height: 1.8; color: #e0e0e0; margin-bottom: 30px; }
    .intro-content .characters { text-align: left; background: rgba(255, 255, 255, 0.1); padding: 25px; border-radius: 16px; margin-bottom: 30px; }
    .intro-content .characters h3 { color: #FFB347; font-size: 16px; margin-bottom: 15px; }
    .intro-content .characters p { color: #d0d0d0; font-size: 14px; line-height: 1.7; margin-bottom: 8px; }
    .intro-content .scroll-hint { font-size: 16px; color: #ffffff; font-weight: 600; animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    .nav-buttons { position: fixed; bottom: 40px; right: 40px; z-index: 1000; pointer-events: auto; }
    .nav-btn { padding: 15px 30px; background: rgba(255, 107, 53, 0.9); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; }
    @media (max-width: 768px) { .story-section { padding: 40px 20px; } .story-card { max-width: 100%; padding: 30px; } .intro-content { padding: 40px 30px; } .intro-content h1 { font-size: 28px; } }
  </style>
</head>
<body>
  <div id="map-container"></div>
  <div id="content">
    <section class="intro-section">
      <div class="intro-content">
        <h1>📜 마을 회의 대모험</h1>
        <p class="subtitle">우리 동네 문제, 우리가 해결해요<br>교과기반 창작도서 · 사회문화 05</p>
        <div class="characters">
          <h3>🎭 등장인물</h3>
          <p><strong>🌻 다솜:</strong> 용감한 10살 소녀, 마을 회의를 열어 문제를 해결하려는 주인공</p>
          <p><strong>⚡ 빠름이 아저씨:</strong> 전문 업체에 맡기자고 주장하는 어른</p>
          <p><strong>💰 절약이 할머니:</strong> 비용 부담을 걱정하는 어른</p>
          <p><strong>🧓 지혜 할머니:</strong> 마을 이장님, 토론을 이끄는 지혜로운 분</p>
        </div>
        <p class="scroll-hint">↓ 아래로 스크롤하여 이야기를 시작하세요 ↓</p>
      </div>
    </section>

    <!-- Part 1 -->
    <section class="story-section" data-bg="/images/창작도서/창작사회문화05/01.jpg">
      <div class="story-card">
        <span class="chapter">제1장</span>
        <span class="theme">쓰레기 문제</span>
        <h2>🗑️ 어느 날 갑자기 악취가 퍼진 마을</h2>
        <p>해바라기 마을은 평화로운 동네였어요. 10살 소녀 다솜이는 매일 공원에서 참새에게 빵을 주는 게 행복이었지요.</p>
        <p>그런데 어느 봄날, 마을 공터에 쓰레기가 쌓이기 시작했어요. 처음에는 몇 봉지였지만, 하나가 쌓이니 둘이 되고, 열이 되었어요. 일주일 만에 쓰레기 산이 됐어요.</p>
        <p>악취가 진동하고, 파리와 쥐가 몰려들었어요. 다솜이가 코를 막았어요. <span class="dialogue">"으악! 이게 무슨 냄새야!"</span> 참새들도 모두 도망갔어요.</p>
        <p><span class="dialogue">"쓰레기 수거 업체가 계약을 끊었거든. 새 업체를 구하려면 돈이 많이 드는데, 마을 예산이 부족해."</span> 할아버지가 한숨을 쉬었어요. <span class="highlight">문제는 분명한데, 누가 해결해야 할지 아무도 몰랐어요.</span></p>
      </div>
    </section>

    <!-- Part 2 -->
    <section class="story-section" data-bg="/images/창작도서/창작사회문화05/02.jpg">
      <div class="story-card">
        <span class="chapter">제2장</span>
        <span class="theme">주민 회의</span>
        <h2>📢 '우리가 모여야 해요'라고 외친 다솜이</h2>
        <p>쓰레기 문제가 일주일째 해결되지 않았어요. 모두가 <span class="dialogue">"누군가 해결해 주겠지"</span>라고 생각하며 기다리기만 했어요.</p>
        <p>다솜이가 용기를 냈어요. 큰 종이에 적었어요. <span class="highlight">"해바라기 마을 주민 회의 - 모두 모여 주세요! 토요일 오후 두 시, 마을 회관."</span> 이 포스터를 마을 곳곳에 붙였어요.</p>
        <p><span class="dialogue">"다솜아, 어린이가 주민 회의를 열어도 돼?"</span> <span class="dialogue">"마을 문제는 마을 사람 모두의 문제잖아요. 어린이도 마을 사람이에요!"</span></p>
        <p>토요일이 되자, 마을 회관에 사람들이 모이기 시작했어요. 할머니, 할아버지, 부모님, 다솜이 친구들까지! 다솜이는 가슴이 벅찼어요. <span class="highlight">모이는 것, 그것이 문제 해결의 첫걸음이었어요.</span></p>
      </div>
    </section>

    <!-- Part 3 -->
    <section class="story-section" data-bg="/images/창작도서/창작사회문화05/03.jpg">
      <div class="story-card">
        <span class="chapter">제3장</span>
        <span class="theme">의견 차이</span>
        <h2>💢 해결 방법을 두고 의견이 갈라지다</h2>
        <p>주민 회의가 시작되자 예상치 못한 일이 생겼어요. 쓰레기 문제를 해결해야 한다는 건 모두 동의했지만, '어떻게'에서 의견이 갈렸어요.</p>
        <p>빠름이 아저씨: <span class="dialogue">"전문 청소 업체를 불러서 한 번에 치워요! 각 집에서 만 원씩 걷으면 돼요."</span></p>
        <p>절약이 할머니: <span class="dialogue">"만 원이 적은 돈이 아니에요. 형편이 어려운 집도 있어요."</span></p>
        <p>새길이 오빠: <span class="dialogue">"주민들이 직접 치우고, 재활용 분리수거 시스템을 만들면 비용도 아끼고 좋아요!"</span></p>
        <p>목소리가 점점 높아졌어요. 다솜이가 두 편을 번갈아 보았어요. <span class="highlight">모두 마을을 위하는 마음은 같은데, 방법이 달라서 싸우고 있었어요.</span></p>
      </div>
    </section>

    <!-- Part 4 -->
    <section class="story-section" data-bg="/images/창작도서/창작사회문화05/04.jpg">
      <div class="story-card">
        <span class="chapter">제4장</span>
        <span class="theme">토론의 과정</span>
        <h2>🎙️ 말하는 것보다 듣는 것이 먼저</h2>
        <p>회의장이 혼란스러워지자, 지혜 할머니가 일어섰어요. <span class="dialogue">"잠깐, 모두 조용히 해 주세요. 우리가 지금 하는 건 '싸움'이 아니라 '토론'이어야 해요."</span></p>
        <p>지혜 할머니가 토론 규칙을 제안했어요. <span class="highlight">"첫째, 한 사람이 말할 때 끝까지 들어요. 둘째, 상대 의견을 존중해요. 셋째, 감정이 아닌 이유로 말해요."</span></p>
        <p>정리된 토론이 시작됐어요. 빠름이 아저씨: <span class="dialogue">"전문 업체에 맡기면 하루 만에 깨끗해져요."</span> 절약이 할머니: <span class="dialogue">"비용 부담을 모두가 감당할 수 있을까요?"</span></p>
        <p>서로의 의견을 끝까지 듣고 나니, 사람들 표정이 부드러워졌어요. <span class="highlight">말하는 것보다 듣는 것이 먼저라는 것, 그게 토론의 첫 번째 규칙이었어요.</span></p>
      </div>
    </section>

    <!-- Part 5 -->
    <section class="story-section" data-bg="/images/창작도서/창작사회문화05/05.jpg">
      <div class="story-card">
        <span class="chapter">제5장</span>
        <span class="theme">다수결 원칙</span>
        <h2>✋ 모두가 동의할 수 없을 때 어떻게 할까</h2>
        <p>세 가지 의견 중 하나를 선택해야 했어요. 하지만 모두의 동의를 얻지는 못했어요.</p>
        <p><span class="dialogue">"이럴 때 어떻게 해요?"</span> 다솜이가 물었어요. 지혜 할머니가 말했어요. <span class="dialogue">"민주주의에는 <span class="highlight">'다수결 원칙'</span>이 있어. 모든 사람이 한 표씩 동등하게 투표하고, 가장 많은 표를 얻은 의견을 따르는 거야."</span></p>
        <p><span class="dialogue">"그러면 표를 적게 받은 사람들은 억울하지 않아요?"</span> <span class="dialogue">"중요한 질문이야. 다수가 이겼다고 소수 의견을 무시하면 안 돼. <span class="highlight">'소수 의견 존중'</span>도 꼭 필요해."</span></p>
        <p>빠름이 아저씨가 말했어요. <span class="dialogue">"투표 전에 서로 의견을 조금씩 절충할 수는 없을까요?"</span> 지혜 할머니가 눈을 빛냈어요. <span class="dialogue">"바로 그거야! 먼저 '타협과 합의'를 시도하는 게 더 좋은 민주주의야."</span></p>
      </div>
    </section>

    <!-- Part 6 -->
    <section class="story-section" data-bg="/images/창작도서/창작사회문화05/06.jpg">
      <div class="story-card">
        <span class="chapter">제6장</span>
        <span class="theme">타협과 합의</span>
        <h2>🤝 세 의견이 하나로 합쳐지다</h2>
        <p>다솜이가 아이디어를 냈어요. <span class="dialogue">"세 분 의견을 합치면 어떨까요?"</span></p>
        <p><span class="dialogue">"첫째, 전문 업체를 불러 지금 쌓인 쓰레기를 빨리 치워요. 둘째, 비용은 형편에 따라 내요. 여유 있는 분은 더 내고, 어려운 분은 적게 내요. 셋째, 재활용 분리수거 시스템을 만들어 앞으로는 쓰레기가 안 쌓이게 해요!"</span></p>
        <p>빠름이 아저씨가 끄덕였어요. <span class="dialogue">"급한 불을 끄고, 장기적으로 시스템을 만든다... 좋네!"</span> 절약이 할머니도 말했어요. <span class="dialogue">"형편에 따라 내면 어려운 집도 참여할 수 있겠네."</span></p>
        <p>지혜 할머니가 웃었어요. <span class="dialogue">"이게 바로 <span class="highlight">'타협과 합의'</span>야. 각자 의견의 좋은 점을 모아 모두가 받아들일 수 있는 계획을 만드는 거지."</span></p>
      </div>
    </section>

    <!-- Part 7 -->
    <section class="story-section" data-bg="/images/창작도서/창작사회문화05/07.jpg">
      <div class="story-card">
        <span class="chapter">제7장</span>
        <span class="theme">지방자치</span>
        <h2>🏛️ 우리 마을은 우리가 다스려요</h2>
        <p><span class="dialogue">"이 계획을 누가 실행해요?"</span> 빠름이 아저씨가 물었어요.</p>
        <p>지혜 할머니가 말했어요. <span class="dialogue">"우리 마을에는 '주민자치회'가 있어. 주민들이 직접 마을 일을 결정하고 실행하는 거지. 이게 <span class="highlight">'지방자치'</span>야."</span></p>
        <p><span class="dialogue">"지방자치가 뭐예요?"</span> 다솜이가 물었어요. <span class="dialogue">"나라 정부가 모든 마을 문제를 해결하기는 어렵잖아? 그래서 각 지역 주민들이 자기 지역 문제를 스스로 결정하고 해결하는 거야."</span></p>
        <p>다솜이가 깊이 생각했어요. <span class="dialogue">"그러면 오늘 우리가 한 것도 지방자치네요! 마을 문제를 주민들이 모여서 토론하고 해결 방법을 정한 거잖아요!"</span> <span class="highlight">민주주의는 교과서 속 이야기가 아니라, 바로 지금 마을 회관에서 일어나고 있었어요.</span></p>
      </div>
    </section>

    <!-- Part 8 -->
    <section class="story-section" data-bg="/images/창작도서/창작사회문화05/08.jpg">
      <div class="story-card">
        <span class="chapter">제8장</span>
        <span class="theme">공동체 의식</span>
        <h2>💛 '나의 문제'가 '우리의 문제'가 될 때</h2>
        <p>비용을 걷는 과정에서 작은 갈등이 생겼어요. <span class="dialogue">"왜 내가 남보다 더 많이 내야 하지?"</span> 어떤 분이 불만을 표했어요.</p>
        <p>다솜이가 앞에 나섰어요. <span class="dialogue">"작년 폭설 때 할아버지가 새벽에 골목길 눈을 치워주셨잖아요. 만물상 사장님은 항상 아이들에게 사탕을 나눠주시고요. 우리 마을은 원래 서로 돕는 곳이잖아요."</span></p>
        <p>회의장이 조용해졌어요. 할아버지가 먼저 말했어요. <span class="dialogue">"내가 좀 더 내겠소. 젊었을 때 이 마을에서 많은 도움을 받았으니까."</span></p>
        <p>한 사람이 나서자 두 사람이, 두 사람이 나서자 열 사람이 따랐어요. <span class="highlight">'나의 문제'가 '우리의 문제'가 되는 순간, 개인이 감당하지 못하는 것도 함께라면 해결할 수 있었어요.</span></p>
      </div>
    </section>

    <!-- Part 9 -->
    <section class="story-section" data-bg="/images/창작도서/창작사회문화05/09.jpg">
      <div class="story-card">
        <span class="chapter">제9장</span>
        <span class="theme">실행과 결과</span>
        <h2>🔨 계획이 현실이 되다</h2>
        <p>비용이 모이고, 전문 업체가 쓰레기를 깨끗이 치웠어요. 일주일 만에 악취가 사라지고, 참새들이 돌아왔어요!</p>
        <p>재활용 분리수거 시스템도 만들어졌어요. 공터에 색깔별 분리수거함이 설치됐어요. 다솜이와 친구들은 '어린이 환경 감시단'을 만들어 마을을 돌며 쓰레기 투기를 감시했어요.</p>
        <p>한 달 후, 마을 쓰레기 양이 40%나 줄었어요! 재활용품 판매 수익으로 마을 도서관에 새 책도 들여놓았어요.</p>
        <p><span class="dialogue">"다솜아, 네가 포스터를 붙이지 않았다면 이 모든 변화가 없었을 거야."</span> 지혜 할머니가 말했어요. <span class="dialogue">"저 혼자가 아니에요. 모두가 함께했으니까요."</span> <span class="highlight">계획이 현실이 되는 과정에는 모든 사람의 땀과 협력이 필요했어요.</span></p>
      </div>
    </section>

    <!-- Part 10 -->
    <section class="story-section" data-bg="/images/창작도서/창작사회문화05/10.jpg">
      <div class="story-card">
        <span class="chapter">제10장</span>
        <span class="theme">함께 만든 변화</span>
        <h2>🌻 문제는 함께 해결할 때 해결된다</h2>
        <p>일 년 후, 해바라기 마을은 완전히 달라져 있었어요. 쓰레기가 쌓이던 공터는 '해바라기 공동체 텃밭'이 됐어요. 주민들이 함께 채소를 가꾸고 나눠 먹었어요.</p>
        <p>매달 마지막 토요일은 '마을 회의의 날'이 됐어요. 주민들이 정기적으로 모여 마을 문제를 토론했지요.</p>
        <p>가을 마을 축제 날, 다솜이는 텃밭 옆에 서서 해바라기를 올려다봤어요. 처음에 쓰레기 악취가 나던 그 자리에 키 큰 해바라기가 활짝 피어 있었어요.</p>
        <p>지혜 할머니가 말했어요. <span class="dialogue">"기억해라, 다솜아. 세상의 어떤 문제도 한 사람이 혼자 해결할 수는 없어. 하지만 <span class="highlight">함께 모이면, 토론하면, 타협하면, 실행하면</span>, 반드시 해결할 수 있단다."</span></p>
        <p style="text-align: center; margin-top: 25px; padding: 20px; background: rgba(255, 107, 53, 0.15); border-radius: 16px;"><strong style="color: #D63031; font-size: 18px;">🌱 「문제는 함께 해결할 때 해결된다.」</strong></p>
      </div>
    </section>
  </div>

  <div class="nav-buttons">
    <button class="nav-btn" onclick="goBack()">← 목록으로</button>
  </div>

  <script>
    const mapContainer = document.getElementById('map-container');
    const sections = document.querySelectorAll('.story-section');
    let currentBg = '';
    let ticking = false;

    function updateBackground() {
      const scrollPos = window.scrollY + window.innerHeight / 2;
      sections.forEach((section) => {
        const rect = section.getBoundingClientRect();
        const sectionTop = window.scrollY + rect.top;
        const sectionBottom = sectionTop + rect.height;
        if (scrollPos >= sectionTop && scrollPos < sectionBottom) {
          const bgImage = section.dataset.bg;
          if (bgImage && bgImage !== currentBg) {
            currentBg = bgImage;
            mapContainer.style.backgroundImage = `url(${bgImage})`;
          }
          const card = section.querySelector('.story-card');
          if (card && !card.classList.contains('active')) {
            card.classList.add('active');
          }
        }
      });
    }

    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          updateBackground();
          ticking = false;
        });
        ticking = true;
      }
    });

    updateBackground();

    function goBack() {
      if (window.parent !== window) {
        window.parent.postMessage({ action: 'closeStory' }, '*');
      } else {
        window.history.back();
      }
    }
  </script>
</body>
</html>
