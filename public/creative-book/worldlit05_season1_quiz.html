<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì–´ë¦° ì™•ì - ë…í•´ë ¥ í€´ì¦ˆ</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: linear-gradient(135deg, #0a1628 0%, #1a3a5c 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .quiz-container {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 24px;
      padding: 40px;
      max-width: 800px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .quiz-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .quiz-header h1 {
      color: #f4c430;
      font-size: 28px;
      margin-bottom: 10px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    }

    .quiz-header p {
      color: #666;
      font-size: 14px;
    }

    /* ì…ë ¥ í¼ ìŠ¤íƒ€ì¼ */
    .input-form {
      background: linear-gradient(135deg, #fff9e6, #fff3cd);
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 30px;
    }

    .input-form h2 {
      color: #b8860b;
      margin-bottom: 20px;
      font-size: 20px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      color: #8b6914;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .form-group select,
    .form-group input {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #f4c430;
      border-radius: 10px;
      font-size: 16px;
      transition: all 0.3s;
    }

    .form-group select:focus,
    .form-group input:focus {
      outline: none;
      border-color: #daa520;
      box-shadow: 0 0 10px rgba(244, 196, 48, 0.3);
    }

    .start-btn {
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #f4c430, #daa520);
      color: #1a1a2e;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
    }

    .start-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(244, 196, 48, 0.4);
    }

    /* í€´ì¦ˆ ì˜ì—­ */
    .quiz-content {
      display: none;
    }

    .category-section {
      margin-bottom: 30px;
      background: #fafafa;
      border-radius: 16px;
      padding: 25px;
      border-left: 4px solid #f4c430;
    }

    .category-title {
      color: #b8860b;
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .question-box {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 15px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .question-text {
      color: #333;
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 15px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .option {
      padding: 12px 16px;
      background: #f5f5f5;
      border: 2px solid transparent;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 15px;
    }

    .option:hover {
      background: #fff9e6;
      border-color: #f4c430;
    }

    .option.selected {
      background: #fff3cd;
      border-color: #daa520;
      color: #8b6914;
      font-weight: 600;
    }

    .submit-btn {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, #f4c430, #daa520);
      color: #1a1a2e;
      border: none;
      border-radius: 12px;
      font-size: 20px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 20px;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(244, 196, 48, 0.4);
    }

    /* ê²°ê³¼ ì˜ì—­ */
    .result-section {
      display: none;
      text-align: center;
    }

    .result-title {
      font-size: 28px;
      color: #f4c430;
      margin-bottom: 30px;
    }

    .score-display {
      font-size: 72px;
      font-weight: 700;
      color: #daa520;
      margin-bottom: 20px;
    }

    .score-display span {
      font-size: 24px;
      color: #999;
    }

    .radar-container {
      width: 100%;
      max-width: 400px;
      margin: 30px auto;
    }

    .category-scores {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin: 30px 0;
    }

    .category-score-item {
      background: linear-gradient(135deg, #fff9e6, #fff3cd);
      padding: 15px;
      border-radius: 12px;
      text-align: center;
    }

    .category-score-item .label {
      font-size: 14px;
      color: #b8860b;
      margin-bottom: 5px;
    }

    .category-score-item .score {
      font-size: 24px;
      font-weight: 700;
      color: #8b6914;
    }

    .back-btn {
      padding: 15px 40px;
      background: #9e9e9e;
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 20px;
    }

    .back-btn:hover {
      background: #757575;
    }

    @media (max-width: 600px) {
      .quiz-container {
        padding: 20px;
      }

      .quiz-header h1 {
        font-size: 22px;
      }

      .score-display {
        font-size: 48px;
      }
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <div class="quiz-header">
      <h1>â­ ì–´ë¦° ì™•ì - ë…í•´ë ¥ í€´ì¦ˆ</h1>
      <p>ë³„ì„ ê±´ë„ˆì˜¨ ì•„ì´, ì—¬ìš°ì—ê²Œ ë§ˆìŒì„ ë°°ìš°ë‹¤</p>
    </div>

    <!-- ì…ë ¥ í¼ -->
    <div class="input-form" id="inputForm">
      <h2>ğŸ“ ì •ë³´ ì…ë ¥</h2>
      <div class="form-group">
        <label for="grade">í•™ë…„ ì„ íƒ</label>
        <select id="grade">
          <option value="">í•™ë…„ì„ ì„ íƒí•˜ì„¸ìš”</option>
          <option value="ì´ˆ3">ì´ˆë“± 3í•™ë…„</option>
          <option value="ì´ˆ4">ì´ˆë“± 4í•™ë…„</option>
          <option value="ì´ˆ5">ì´ˆë“± 5í•™ë…„</option>
          <option value="ì´ˆ6">ì´ˆë“± 6í•™ë…„</option>
          <option value="ì¤‘1">ì¤‘ë“± 1í•™ë…„</option>
          <option value="ì¤‘2">ì¤‘ë“± 2í•™ë…„</option>
          <option value="ì¤‘3">ì¤‘ë“± 3í•™ë…„</option>
        </select>
      </div>
      <div class="form-group">
        <label for="name">ì´ë¦„</label>
        <input type="text" id="name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
      </div>
      <button class="start-btn" onclick="startQuiz()">í€´ì¦ˆ ì‹œì‘í•˜ê¸°</button>
    </div>

    <!-- í€´ì¦ˆ ì½˜í…ì¸  -->
    <div class="quiz-content" id="quizContent">
      <!-- ì¸ë¬¼íŒŒì•… -->
      <div class="category-section">
        <div class="category-title">ğŸ‘¤ ì¸ë¬¼íŒŒì•…</div>
        <div class="question-box">
          <div class="question-text">1. ì–´ë¦° ì™•ìê°€ ìì‹ ì˜ ë³„ì„ ë– ë‚˜ê²Œ ëœ ì§ì ‘ì ì¸ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q1')">â‘  ë” ë„“ì€ ìš°ì£¼ë¥¼ íƒí—˜í•˜ê³  ì‹¶ì–´ì„œ</div>
            <div class="option" onclick="selectOption(this, 'q1')">â‘¡ ì¥ë¯¸ì™€ì˜ ê°ˆë“±ìœ¼ë¡œ ìƒì²˜ë¥¼ ë°›ì•„ì„œ</div>
            <div class="option" onclick="selectOption(this, 'q1')">â‘¢ ì§€ë¦¬í•™ìì˜ ì¶”ì²œì„ ë°›ì•„ì„œ</div>
            <div class="option" onclick="selectOption(this, 'q1')">â‘£ ë°”ì˜¤ë°¥ë‚˜ë¬´ê°€ ë³„ì„ ìœ„í˜‘í•´ì„œ</div>
          </div>
        </div>
        <div class="question-box">
          <div class="question-text">2. ì—¬ìš°ê°€ ì–´ë¦° ì™•ìì—ê²Œ ê°€ë¥´ì³ì¤€ ê°€ì¥ ì¤‘ìš”í•œ ë¹„ë°€ì€ ë¬´ì—‡ì¸ê°€ìš”?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q2')">â‘  ì‚¬ë§‰ì— ìˆ¨ê²¨ì§„ ìš°ë¬¼ì„ ì°¾ëŠ” ë°©ë²•</div>
            <div class="option" onclick="selectOption(this, 'q2')">â‘¡ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ëˆˆì— ë³´ì´ì§€ ì•ŠëŠ”ë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q2')">â‘¢ ë³„ë¡œ ëŒì•„ê°€ëŠ” ë¹„ë°€ í†µë¡œ</div>
            <div class="option" onclick="selectOption(this, 'q2')">â‘£ ë°€ë°­ì´ í™©ê¸ˆë¹›ì¸ ì´ìœ </div>
          </div>
        </div>
      </div>

      <!-- ë‚´ìš©ì¼ì¹˜ -->
      <div class="category-section">
        <div class="category-title">ğŸ“– ë‚´ìš©ì¼ì¹˜</div>
        <div class="question-box">
          <div class="question-text">3. ì—¬ìš°ê°€ ì™•ìì—ê²Œ "ê¸¸ë“¤ì—¬ ë‹¬ë¼"ê³  ë¶€íƒí•œ ì´ìœ ëŠ”?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q3')">â‘  ì™•ìì™€ ì¹œêµ¬ê°€ ë˜ì–´ ì™¸ë¡œì›€ì„ ì—†ì• ê³  ì‹¶ì–´ì„œ</div>
            <div class="option" onclick="selectOption(this, 'q3')">â‘¡ ì™•ìë¥¼ ë”°ë¼ ìš°ì£¼ì—¬í–‰ì„ í•˜ê³  ì‹¶ì–´ì„œ</div>
            <div class="option" onclick="selectOption(this, 'q3')">â‘¢ ë°€ë°­ì„ ì§€ì¼œë‹¬ë¼ê³  ë¶€íƒí•˜ë ¤ê³ </div>
            <div class="option" onclick="selectOption(this, 'q3')">â‘£ ì¥ë¯¸ì— ëŒ€í•´ ì•Œë ¤ì£¼ë ¤ê³ </div>
          </div>
        </div>
        <div class="question-box">
          <div class="question-text">4. ì™•ìê°€ ì˜¤ì²œ ì†¡ì´ ì¥ë¯¸ ì •ì›ì—ì„œ ê¹¨ë‹¬ì€ ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q4')">â‘  ìì‹ ì˜ ì¥ë¯¸ê°€ íŠ¹ë³„í•˜ì§€ ì•Šë‹¤ëŠ” ì‚¬ì‹¤</div>
            <div class="option" onclick="selectOption(this, 'q4')">â‘¡ ì†Œì¤‘í•¨ì€ í¬ì†Œì„±ì´ ì•„ë‹ˆë¼ ë‚´ê°€ ìŸì€ ì‹œê°„ê³¼ ë§ˆìŒì—ì„œ ë‚˜ì˜¨ë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q4')">â‘¢ ì¥ë¯¸ëŠ” ëª¨ë‘ ê°™ì€ í–¥ê¸°ë¥¼ ê°€ì§€ê³  ìˆë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q4')">â‘£ ë” ì•„ë¦„ë‹¤ìš´ ì¥ë¯¸ë¥¼ ì°¾ì•„ì•¼ í•œë‹¤</div>
          </div>
        </div>
      </div>

      <!-- ë‚´ìš©êµ¬ì¡° -->
      <div class="category-section">
        <div class="category-title">ğŸ”— ë‚´ìš©êµ¬ì¡°</div>
        <div class="question-box">
          <div class="question-text">5. ì´ ì´ì•¼ê¸°ì˜ ì„œì‚¬ íë¦„ì„ ì˜¬ë°”ë¥´ê²Œ ë°°ì—´í•œ ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q5')">â‘  ì¶œë°œ â†’ ê¹¨ë‹¬ìŒ â†’ ë°©í™© â†’ ë§Œë‚¨ â†’ ê·€í™˜</div>
            <div class="option" onclick="selectOption(this, 'q5')">â‘¡ ì¶œë°œ(ê°ˆë“±) â†’ ë°©í™©(íƒìƒ‰) â†’ ë§Œë‚¨(ì „í™˜) â†’ ê¹¨ë‹¬ìŒ(ì„±ì¥) â†’ ì´ë³„(ì™„ì„±) â†’ ê·€í™˜(ì±…ì„)</div>
            <div class="option" onclick="selectOption(this, 'q5')">â‘¢ ë§Œë‚¨ â†’ ì¶œë°œ â†’ ë°©í™© â†’ ì´ë³„ â†’ ê¹¨ë‹¬ìŒ</div>
            <div class="option" onclick="selectOption(this, 'q5')">â‘£ ê·€í™˜ â†’ ë§Œë‚¨ â†’ ê¹¨ë‹¬ìŒ â†’ ì¶œë°œ â†’ ë°©í™©</div>
          </div>
        </div>
        <div class="question-box">
          <div class="question-text">6. ì™•ìê°€ ë°©ë¬¸í•œ 6ê°œì˜ ë³„ì—ì„œ ë§Œë‚œ ì–´ë¥¸ë“¤ì´ ê³µí†µì ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q6')">â‘  ê°ìì˜ ì¬ëŠ¥ì„ ë°œíœ˜í•˜ëŠ” ëª¨ìŠµ</div>
            <div class="option" onclick="selectOption(this, 'q6')">â‘¡ ë¬´ì–¸ê°€ì— ì‚¬ë¡œì¡í˜€ ì¤‘ìš”í•œ ê²ƒì„ ë³´ì§€ ëª»í•˜ëŠ” ì–´ë¦¬ì„ìŒ</div>
            <div class="option" onclick="selectOption(this, 'q6')">â‘¢ ì™•ìë¥¼ ë„ì™€ì£¼ë ¤ëŠ” ì¹œì ˆí•¨</div>
            <div class="option" onclick="selectOption(this, 'q6')">â‘£ ììœ ë¡­ê³  í–‰ë³µí•œ ì‚¶</div>
          </div>
        </div>
      </div>

      <!-- ë‚´ìš©ì–´íœ˜ -->
      <div class="category-section">
        <div class="category-title">ğŸ“š ë‚´ìš©ì–´íœ˜</div>
        <div class="question-box">
          <div class="question-text">7. "ê¸¸ë“¤ì¸ë‹¤"ì˜ ì˜ë¯¸ë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q7')">â‘  ë™ë¬¼ì„ í›ˆë ¨ì‹œí‚¤ëŠ” ê²ƒ</div>
            <div class="option" onclick="selectOption(this, 'q7')">â‘¡ ì„œë¡œì—ê²Œ íŠ¹ë³„í•œ ì¡´ì¬ê°€ ë˜ë„ë¡ ê´€ê³„ë¥¼ ë§ºëŠ” ê²ƒ</div>
            <div class="option" onclick="selectOption(this, 'q7')">â‘¢ ì•½ì†ì„ ì§€í‚¤ëŠ” ê²ƒ</div>
            <div class="option" onclick="selectOption(this, 'q7')">â‘£ ë§¤ì¼ ë§Œë‚˜ëŠ” ê²ƒ</div>
          </div>
        </div>
        <div class="question-box">
          <div class="question-text">8. ì—¬ìš°ê°€ ë§í•œ "ì˜ì‹"ì˜ ì˜ë¯¸ì™€ ê°€ì¥ ê°€ê¹Œìš´ ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q8')">â‘  í™”ë ¤í•œ í–‰ì‚¬ë‚˜ ì¶•ì œ</div>
            <div class="option" onclick="selectOption(this, 'q8')">â‘¡ ì–´ë–¤ í•˜ë£¨ë¥¼ ë‹¤ë¥¸ ë‚ ê³¼ ë‹¤ë¥´ê²Œ ë§Œë“œëŠ” íŠ¹ë³„í•œ í–‰ìœ„</div>
            <div class="option" onclick="selectOption(this, 'q8')">â‘¢ ê·œì¹™ì ì¸ ìƒí™œ ìŠµê´€</div>
            <div class="option" onclick="selectOption(this, 'q8')">â‘£ ì¹œêµ¬ì™€ì˜ ì¸ì‚¬</div>
          </div>
        </div>
      </div>

      <!-- ë‚´ìš©ì¶”ë¡  -->
      <div class="category-section">
        <div class="category-title">ğŸ” ë‚´ìš©ì¶”ë¡ </div>
        <div class="question-box">
          <div class="question-text">9. "ë„¤ê°€ ê¸¸ë“¤ì¸ ê²ƒì— ëŒ€í•´ ì˜ì›íˆ ì±…ì„ì„ ì ¸ì•¼ í•´"ë¼ëŠ” ì—¬ìš°ì˜ ë§ì´ ì „í•˜ëŠ” êµí›ˆì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q9')">â‘  ë°˜ë ¤ë™ë¬¼ì„ ì˜ ëŒë´ì•¼ í•œë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q9')">â‘¡ ê´€ê³„ëŠ” ì±…ì„ê³¼ ì‚¬ë‘ìœ¼ë¡œ ì™„ì„±ëœë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q9')">â‘¢ ì—¬í–‰ì€ ìœ„í—˜í•˜ë‹ˆ ì§‘ì— ìˆì–´ì•¼ í•œë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q9')">â‘£ ì¹œêµ¬ëŠ” ì˜¤ë˜ ì‚¬ê·€ì–´ì•¼ í•œë‹¤</div>
          </div>
        </div>
        <div class="question-box">
          <div class="question-text">10. "ì‚¬ë§‰ì´ ì•„ë¦„ë‹¤ìš´ ê²ƒì€ ì–´ë”˜ê°€ì— ìš°ë¬¼ì„ ìˆ¨ê¸°ê³  ìˆê¸° ë•Œë¬¸"ì´ë¼ëŠ” ë¬¸ì¥ì´ ìƒì§•í•˜ëŠ” ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q10')">â‘  ì‚¬ë§‰ì—ëŠ” ë¬¼ì´ ìˆ¨ê²¨ì ¸ ìˆë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q10')">â‘¡ ê²‰ëª¨ìŠµë§Œìœ¼ë¡œëŠ” ì§„ì •í•œ ê°€ì¹˜ë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q10')">â‘¢ ì‚¬ë§‰ ì—¬í–‰ì€ ìœ„í—˜í•˜ë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q10')">â‘£ ìš°ë¬¼ì´ ìˆëŠ” ê³³ì´ ê°€ì¥ ì•„ë¦„ë‹µë‹¤</div>
          </div>
        </div>
      </div>

      <button class="submit-btn" onclick="submitQuiz()">ê²°ê³¼ í™•ì¸í•˜ê¸°</button>
    </div>

    <!-- ê²°ê³¼ ì„¹ì…˜ -->
    <div class="result-section" id="resultSection">
      <h2 class="result-title">â­ í€´ì¦ˆ ê²°ê³¼</h2>
      <div class="score-display"><span id="totalScore">0</span><span>/50ì </span></div>

      <div class="radar-container">
        <canvas id="radarChart" width="400" height="400"></canvas>
      </div>

      <div class="category-scores">
        <div class="category-score-item">
          <div class="label">ì¸ë¬¼íŒŒì•…</div>
          <div class="score" id="score1">0</div>
        </div>
        <div class="category-score-item">
          <div class="label">ë‚´ìš©ì¼ì¹˜</div>
          <div class="score" id="score2">0</div>
        </div>
        <div class="category-score-item">
          <div class="label">ë‚´ìš©êµ¬ì¡°</div>
          <div class="score" id="score3">0</div>
        </div>
        <div class="category-score-item">
          <div class="label">ë‚´ìš©ì–´íœ˜</div>
          <div class="score" id="score4">0</div>
        </div>
        <div class="category-score-item">
          <div class="label">ë‚´ìš©ì¶”ë¡ </div>
          <div class="score" id="score5">0</div>
        </div>
      </div>

      <button class="back-btn" onclick="goBack()">ëŒì•„ê°€ê¸°</button>
    </div>
  </div>

  <script>
    const answers = {
      q1: 'â‘¡ ì¥ë¯¸ì™€ì˜ ê°ˆë“±ìœ¼ë¡œ ìƒì²˜ë¥¼ ë°›ì•„ì„œ',
      q2: 'â‘¡ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ëˆˆì— ë³´ì´ì§€ ì•ŠëŠ”ë‹¤',
      q3: 'â‘  ì™•ìì™€ ì¹œêµ¬ê°€ ë˜ì–´ ì™¸ë¡œì›€ì„ ì—†ì• ê³  ì‹¶ì–´ì„œ',
      q4: 'â‘¡ ì†Œì¤‘í•¨ì€ í¬ì†Œì„±ì´ ì•„ë‹ˆë¼ ë‚´ê°€ ìŸì€ ì‹œê°„ê³¼ ë§ˆìŒì—ì„œ ë‚˜ì˜¨ë‹¤',
      q5: 'â‘¡ ì¶œë°œ(ê°ˆë“±) â†’ ë°©í™©(íƒìƒ‰) â†’ ë§Œë‚¨(ì „í™˜) â†’ ê¹¨ë‹¬ìŒ(ì„±ì¥) â†’ ì´ë³„(ì™„ì„±) â†’ ê·€í™˜(ì±…ì„)',
      q6: 'â‘¡ ë¬´ì–¸ê°€ì— ì‚¬ë¡œì¡í˜€ ì¤‘ìš”í•œ ê²ƒì„ ë³´ì§€ ëª»í•˜ëŠ” ì–´ë¦¬ì„ìŒ',
      q7: 'â‘¡ ì„œë¡œì—ê²Œ íŠ¹ë³„í•œ ì¡´ì¬ê°€ ë˜ë„ë¡ ê´€ê³„ë¥¼ ë§ºëŠ” ê²ƒ',
      q8: 'â‘¡ ì–´ë–¤ í•˜ë£¨ë¥¼ ë‹¤ë¥¸ ë‚ ê³¼ ë‹¤ë¥´ê²Œ ë§Œë“œëŠ” íŠ¹ë³„í•œ í–‰ìœ„',
      q9: 'â‘¡ ê´€ê³„ëŠ” ì±…ì„ê³¼ ì‚¬ë‘ìœ¼ë¡œ ì™„ì„±ëœë‹¤',
      q10: 'â‘¡ ê²‰ëª¨ìŠµë§Œìœ¼ë¡œëŠ” ì§„ì •í•œ ê°€ì¹˜ë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤'
    };

    const userAnswers = {};
    let userName = '';
    let userGrade = '';

    function selectOption(element, questionId) {
      const options = element.parentElement.querySelectorAll('.option');
      options.forEach(opt => opt.classList.remove('selected'));
      element.classList.add('selected');
      userAnswers[questionId] = element.textContent;
    }

    function startQuiz() {
      const grade = document.getElementById('grade').value;
      const name = document.getElementById('name').value.trim();

      if (!grade) {
        alert('í•™ë…„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
        return;
      }
      if (!name) {
        alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

      userName = name;
      userGrade = grade;

      document.getElementById('inputForm').style.display = 'none';
      document.getElementById('quizContent').style.display = 'block';
    }

    function submitQuiz() {
      const totalQuestions = Object.keys(answers).length;
      const answeredQuestions = Object.keys(userAnswers).length;

      if (answeredQuestions < totalQuestions) {
        alert('ëª¨ë“  ë¬¸ì œì— ë‹µí•´ì£¼ì„¸ìš”.');
        return;
      }

      // ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜ ê³„ì‚°
      const categoryScores = [0, 0, 0, 0, 0];

      // ì¸ë¬¼íŒŒì•… (q1, q2)
      if (userAnswers.q1 === answers.q1) categoryScores[0]++;
      if (userAnswers.q2 === answers.q2) categoryScores[0]++;

      // ë‚´ìš©ì¼ì¹˜ (q3, q4)
      if (userAnswers.q3 === answers.q3) categoryScores[1]++;
      if (userAnswers.q4 === answers.q4) categoryScores[1]++;

      // ë‚´ìš©êµ¬ì¡° (q5, q6)
      if (userAnswers.q5 === answers.q5) categoryScores[2]++;
      if (userAnswers.q6 === answers.q6) categoryScores[2]++;

      // ë‚´ìš©ì–´íœ˜ (q7, q8)
      if (userAnswers.q7 === answers.q7) categoryScores[3]++;
      if (userAnswers.q8 === answers.q8) categoryScores[3]++;

      // ë‚´ìš©ì¶”ë¡  (q9, q10)
      if (userAnswers.q9 === answers.q9) categoryScores[4]++;
      if (userAnswers.q10 === answers.q10) categoryScores[4]++;

      // ì ìˆ˜ ë³€í™˜ (2ê°œ ë§ìŒ=10ì , 1ê°œ ë§ìŒ=5ì , 0ê°œ ë§ìŒ=1ì )
      const convertedScores = categoryScores.map(score => {
        if (score === 2) return 10;
        if (score === 1) return 5;
        return 1;
      });

      const totalScore = convertedScores.reduce((a, b) => a + b, 0);

      // ê²°ê³¼ í‘œì‹œ
      document.getElementById('quizContent').style.display = 'none';
      document.getElementById('resultSection').style.display = 'block';

      document.getElementById('totalScore').textContent = totalScore;
      document.getElementById('score1').textContent = convertedScores[0] + 'ì ';
      document.getElementById('score2').textContent = convertedScores[1] + 'ì ';
      document.getElementById('score3').textContent = convertedScores[2] + 'ì ';
      document.getElementById('score4').textContent = convertedScores[3] + 'ì ';
      document.getElementById('score5').textContent = convertedScores[4] + 'ì ';

      // ë ˆì´ë” ì°¨íŠ¸ ê·¸ë¦¬ê¸°
      drawRadarChart(convertedScores);

      // ê²°ê³¼ ì €ì¥
      saveResult(convertedScores, totalScore);
    }

    function drawRadarChart(scores) {
      const canvas = document.getElementById('radarChart');
      const ctx = canvas.getContext('2d');
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;
      const maxRadius = 150;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      const categories = ['ì¸ë¬¼íŒŒì•…', 'ë‚´ìš©ì¼ì¹˜', 'ë‚´ìš©êµ¬ì¡°', 'ë‚´ìš©ì–´íœ˜', 'ë‚´ìš©ì¶”ë¡ '];
      const numCategories = categories.length;
      const angleStep = (2 * Math.PI) / numCategories;
      const startAngle = -Math.PI / 2;

      // ë°°ê²½ ê·¸ë¦¬ë“œ
      for (let level = 1; level <= 5; level++) {
        const radius = (maxRadius / 5) * level;
        ctx.beginPath();
        for (let i = 0; i <= numCategories; i++) {
          const angle = startAngle + i * angleStep;
          const x = centerX + radius * Math.cos(angle);
          const y = centerY + radius * Math.sin(angle);
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.closePath();
        ctx.strokeStyle = '#e0e0e0';
        ctx.stroke();
      }

      // ì¶• ê·¸ë¦¬ê¸°
      for (let i = 0; i < numCategories; i++) {
        const angle = startAngle + i * angleStep;
        const x = centerX + maxRadius * Math.cos(angle);
        const y = centerY + maxRadius * Math.sin(angle);
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.lineTo(x, y);
        ctx.strokeStyle = '#ccc';
        ctx.stroke();

        // ì¹´í…Œê³ ë¦¬ ë¼ë²¨
        const labelRadius = maxRadius + 25;
        const labelX = centerX + labelRadius * Math.cos(angle);
        const labelY = centerY + labelRadius * Math.sin(angle);
        ctx.fillStyle = '#b8860b';
        ctx.font = 'bold 14px Noto Sans KR';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(categories[i], labelX, labelY);
      }

      // ë°ì´í„° ì˜ì—­
      ctx.beginPath();
      for (let i = 0; i <= numCategories; i++) {
        const idx = i % numCategories;
        const angle = startAngle + idx * angleStep;
        const radius = (scores[idx] / 10) * maxRadius;
        const x = centerX + radius * Math.cos(angle);
        const y = centerY + radius * Math.sin(angle);
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.closePath();
      ctx.fillStyle = 'rgba(244, 196, 48, 0.3)';
      ctx.fill();
      ctx.strokeStyle = '#f4c430';
      ctx.lineWidth = 2;
      ctx.stroke();

      // ë°ì´í„° í¬ì¸íŠ¸
      for (let i = 0; i < numCategories; i++) {
        const angle = startAngle + i * angleStep;
        const radius = (scores[i] / 10) * maxRadius;
        const x = centerX + radius * Math.cos(angle);
        const y = centerY + radius * Math.sin(angle);
        ctx.beginPath();
        ctx.arc(x, y, 6, 0, 2 * Math.PI);
        ctx.fillStyle = '#daa520';
        ctx.fill();
      }
    }

    async function saveResult(scores, totalScore) {
      try {
        const response = await fetch('/api/creative-quiz/save', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            grade: userGrade,
            name: userName,
            storyId: 'worldlit05',
            season: 'season1',
            scores: scores,
            totalScore: totalScore
          })
        });
        const data = await response.json();
        console.log('ì €ì¥ ì™„ë£Œ:', data);
      } catch (error) {
        console.error('ì €ì¥ ì‹¤íŒ¨:', error);
      }
    }

    function goBack() {
      window.location.href = 'worldlit05_season1.html';
    }
  </script>
</body>
</html>
