<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë ˆì˜¤ë‚˜ë¥´ë„ ë‹¤ ë¹ˆì¹˜ - ë…í•´ë ¥ í€´ì¦ˆ</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: linear-gradient(135deg, #2c1810 0%, #8b4513 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .quiz-container {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 24px;
      padding: 40px;
      max-width: 800px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .quiz-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .quiz-header h1 {
      color: #8b4513;
      font-size: 28px;
      margin-bottom: 10px;
    }

    .quiz-header p {
      color: #666;
      font-size: 14px;
    }

    /* ì…ë ¥ í¼ ìŠ¤íƒ€ì¼ */
    .input-form {
      background: linear-gradient(135deg, #fdf5e6, #f5deb3);
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 30px;
    }

    .input-form h2 {
      color: #8b4513;
      margin-bottom: 20px;
      font-size: 20px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      color: #5d3a1a;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .form-group select,
    .form-group input {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #d4a373;
      border-radius: 10px;
      font-size: 16px;
      transition: all 0.3s;
    }

    .form-group select:focus,
    .form-group input:focus {
      outline: none;
      border-color: #8b4513;
      box-shadow: 0 0 10px rgba(212, 163, 115, 0.3);
    }

    .start-btn {
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #d4a373, #8b4513);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
    }

    .start-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(139, 69, 19, 0.4);
    }

    /* í€´ì¦ˆ ì˜ì—­ */
    .quiz-content {
      display: none;
    }

    .category-section {
      margin-bottom: 30px;
      background: #fafafa;
      border-radius: 16px;
      padding: 25px;
      border-left: 4px solid #d4a373;
    }

    .category-title {
      color: #8b4513;
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .question-box {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 15px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .question-text {
      color: #333;
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 15px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .option {
      padding: 12px 16px;
      background: #f5f5f5;
      border: 2px solid transparent;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 15px;
    }

    .option:hover {
      background: #fdf5e6;
      border-color: #d4a373;
    }

    .option.selected {
      background: #f5deb3;
      border-color: #8b4513;
      color: #5d3a1a;
      font-weight: 600;
    }

    .submit-btn {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, #d4a373, #8b4513);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 20px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 20px;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(139, 69, 19, 0.4);
    }

    /* ê²°ê³¼ ì˜ì—­ */
    .result-section {
      display: none;
      text-align: center;
    }

    .result-title {
      font-size: 28px;
      color: #8b4513;
      margin-bottom: 30px;
    }

    .score-display {
      font-size: 72px;
      font-weight: 700;
      color: #5d3a1a;
      margin-bottom: 20px;
    }

    .score-display span {
      font-size: 24px;
      color: #999;
    }

    .radar-container {
      width: 100%;
      max-width: 400px;
      margin: 30px auto;
    }

    .category-scores {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin: 30px 0;
    }

    .category-score-item {
      background: linear-gradient(135deg, #fdf5e6, #f5deb3);
      padding: 15px;
      border-radius: 12px;
      text-align: center;
    }

    .category-score-item .label {
      font-size: 14px;
      color: #8b4513;
      margin-bottom: 5px;
    }

    .category-score-item .score {
      font-size: 24px;
      font-weight: 700;
      color: #5d3a1a;
    }

    .back-btn {
      padding: 15px 40px;
      background: #9e9e9e;
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 20px;
    }

    .back-btn:hover {
      background: #757575;
    }

    @media (max-width: 600px) {
      .quiz-container {
        padding: 20px;
      }

      .quiz-header h1 {
        font-size: 22px;
      }

      .score-display {
        font-size: 48px;
      }
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <div class="quiz-header">
      <h1>ğŸ¨ ë ˆì˜¤ë‚˜ë¥´ë„ ë‹¤ ë¹ˆì¹˜ - ë…í•´ë ¥ í€´ì¦ˆ</h1>
      <p>ëˆˆìœ¼ë¡œ ì„¸ìƒì„ ì‚¼í‚¨ ì†Œë…„, ê´€ì°°ì´ ì²œì¬ë¥¼ ë§Œë“¤ë‹¤</p>
    </div>

    <!-- ì…ë ¥ í¼ -->
    <div class="input-form" id="inputForm">
      <h2>ğŸ“ ì •ë³´ ì…ë ¥</h2>
      <div class="form-group">
        <label for="grade">í•™ë…„ ì„ íƒ</label>
        <select id="grade">
          <option value="">í•™ë…„ì„ ì„ íƒí•˜ì„¸ìš”</option>
          <option value="ì´ˆ3">ì´ˆë“± 3í•™ë…„</option>
          <option value="ì´ˆ4">ì´ˆë“± 4í•™ë…„</option>
          <option value="ì´ˆ5">ì´ˆë“± 5í•™ë…„</option>
          <option value="ì´ˆ6">ì´ˆë“± 6í•™ë…„</option>
          <option value="ì¤‘1">ì¤‘ë“± 1í•™ë…„</option>
          <option value="ì¤‘2">ì¤‘ë“± 2í•™ë…„</option>
          <option value="ì¤‘3">ì¤‘ë“± 3í•™ë…„</option>
        </select>
      </div>
      <div class="form-group">
        <label for="name">ì´ë¦„</label>
        <input type="text" id="name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
      </div>
      <button class="start-btn" onclick="startQuiz()">í€´ì¦ˆ ì‹œì‘í•˜ê¸°</button>
    </div>

    <!-- í€´ì¦ˆ ì½˜í…ì¸  -->
    <div class="quiz-content" id="quizContent">
      <!-- ì¸ë¬¼íŒŒì•… -->
      <div class="category-section">
        <div class="category-title">ğŸ‘¤ ì¸ë¬¼íŒŒì•…</div>
        <div class="question-box">
          <div class="question-text">1. ë ˆì˜¤ë‚˜ë¥´ë„ê°€ ì–´ë¦° ì‹œì ˆ ë² ë¡œí‚¤ì˜¤ì˜ ê³µë°©ì—ì„œ ì²˜ìŒ í•œ ì¼ì€ ë¬´ì—‡ì¸ê°€ìš”?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q1')">â‘  ë°”ë¡œ ì²œì‚¬ ê·¸ë¦¬ê¸°</div>
            <div class="option" onclick="selectOption(this, 'q1')">â‘¡ ë°”ë‹¥ ì“¸ê¸°, ë¬¼ê° ê°ˆê¸° ë“± í—ˆë“œë ›ì¼</div>
            <div class="option" onclick="selectOption(this, 'q1')">â‘¢ í•´ë¶€í•™ ì—°êµ¬</div>
            <div class="option" onclick="selectOption(this, 'q1')">â‘£ ë¹„í–‰ ê¸°ê³„ ì„¤ê³„</div>
          </div>
        </div>
        <div class="question-box">
          <div class="question-text">2. ë ˆì˜¤ë‚˜ë¥´ë„ê°€ ì‚¬íšŒì ìœ¼ë¡œ ê²ªì—ˆë˜ í•œê³„ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q2')">â‘  ê°€ë‚œí•œ ì§‘ì•ˆ ì¶œì‹ </div>
            <div class="option" onclick="selectOption(this, 'q2')">â‘¡ ì„œì ì¶œì‹ ì´ë¼ ëŒ€í•™ì—ë„ ê°ˆ ìˆ˜ ì—†ì—ˆë˜ ê²ƒ</div>
            <div class="option" onclick="selectOption(this, 'q2')">â‘¢ ë³‘ì•½í•œ ëª¸</div>
            <div class="option" onclick="selectOption(this, 'q2')">â‘£ ì™¸êµ­ì¸ì´ë¼ ì°¨ë³„ë°›ìŒ</div>
          </div>
        </div>
      </div>

      <!-- ë‚´ìš©ì¼ì¹˜ -->
      <div class="category-section">
        <div class="category-title">ğŸ“– ë‚´ìš©ì¼ì¹˜</div>
        <div class="question-box">
          <div class="question-text">3. ë² ë¡œí‚¤ì˜¤ê°€ ë ˆì˜¤ë‚˜ë¥´ë„ì˜ ì²œì‚¬ ê·¸ë¦¼ì„ ë³´ê³  í•œ í–‰ë™ìœ¼ë¡œ ì „í•´ì§€ëŠ” ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q3')">â‘  ê·¸ë¦¼ì„ ì°¢ì–´ë²„ë ¸ë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q3')">â‘¡ "ë” ì´ìƒ ê°€ë¥´ì¹  ê²ƒì´ ì—†ë‹¤"ë©° ë¶“ì„ ë‚´ë ¤ë†“ì•˜ë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q3')">â‘¢ ë‹¤ë¥¸ ê³µë°©ìœ¼ë¡œ ë³´ëƒˆë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q3')">â‘£ ê³µë°©ì—ì„œ ì«“ì•„ëƒˆë‹¤</div>
          </div>
        </div>
        <div class="question-box">
          <div class="question-text">4. ë ˆì˜¤ë‚˜ë¥´ë„ê°€ ëª¨ë‚˜ë¦¬ìë¥¼ ê·¸ë¦´ ë•Œ ì‚¬ìš©í•œ 'ìŠ¤í‘¸ë§ˆí† ' ê¸°ë²•ì˜ íŠ¹ì§•ì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q4')">â‘  ìƒ‰ê³¼ ìƒ‰ ì‚¬ì´ì˜ ê²½ê³„ì„ ì„ ëšœë ·í•˜ê²Œ ë§Œë“œëŠ” ê²ƒ</div>
            <div class="option" onclick="selectOption(this, 'q4')">â‘¡ ìƒ‰ê³¼ ìƒ‰ ì‚¬ì´ì˜ ê²½ê³„ì„ ì„ ì™„ì „íˆ ì—†ì• ëŠ” ê²ƒ</div>
            <div class="option" onclick="selectOption(this, 'q4')">â‘¢ ê²€ì€ìƒ‰ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒ</div>
            <div class="option" onclick="selectOption(this, 'q4')">â‘£ ë¬¼ê°ì„ ë‘ê»ê²Œ ë°”ë¥´ëŠ” ê²ƒ</div>
          </div>
        </div>
      </div>

      <!-- ë‚´ìš©êµ¬ì¡° -->
      <div class="category-section">
        <div class="category-title">ğŸ”— ë‚´ìš©êµ¬ì¡°</div>
        <div class="question-box">
          <div class="question-text">5. ì´ ì´ì•¼ê¸°ì˜ ê°ˆë“± êµ¬ì¡° ì¤‘ 'ë‚´ì  ê°ˆë“±'ì— í•´ë‹¹í•˜ëŠ” ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q5')">â‘  ì„œìë¼ëŠ” ì‚¬íšŒì  í•œê³„</div>
            <div class="option" onclick="selectOption(this, 'q5')">â‘¡ ì™„ë²½ì„ í–¥í•œ ì§‘ì°©ì´ ì°½ì¡°ì˜ ë™ë ¥ì´ì ì¡±ì‡„ê°€ ë¨</div>
            <div class="option" onclick="selectOption(this, 'q5')">â‘¢ ì˜ˆìˆ ê³¼ ê³¼í•™ì€ ë³„ê°œë¼ëŠ” ì‹œëŒ€ì  í¸ê²¬</div>
            <div class="option" onclick="selectOption(this, 'q5')">â‘£ ì•„ë²„ì§€ì˜ ë°˜ëŒ€</div>
          </div>
        </div>
        <div class="question-box">
          <div class="question-text">6. ë ˆì˜¤ë‚˜ë¥´ë„ì˜ ì„±ì¥ ê³¼ì •ì„ ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•œ ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q6')">â‘  ê³µë°© ì…ë¬¸ â†’ ë¹ˆì¹˜ ë§ˆì„ ì‹œì ˆ â†’ ë°€ë¼ë…¸ í™œë™ â†’ í•´ë¶€í•™ ì—°êµ¬</div>
            <div class="option" onclick="selectOption(this, 'q6')">â‘¡ ë¹ˆì¹˜ ë§ˆì„ì˜ ê´€ì°° ì‹œì ˆ â†’ ê³µë°© ì…ë¬¸ â†’ ê´€ì°° ì² í•™ í™•ë¦½ â†’ í•´ë¶€í•™/ë°œëª… ì—°êµ¬</div>
            <div class="option" onclick="selectOption(this, 'q6')">â‘¢ í•´ë¶€í•™ ì—°êµ¬ â†’ ëª¨ë‚˜ë¦¬ì â†’ ê³µë°© ì…ë¬¸ â†’ ë¹ˆì¹˜ ë§ˆì„</div>
            <div class="option" onclick="selectOption(this, 'q6')">â‘£ ë°€ë¼ë…¸ í™œë™ â†’ ë¹ˆì¹˜ ë§ˆì„ â†’ ê³µë°© ì…ë¬¸ â†’ ëª¨ë‚˜ë¦¬ì</div>
          </div>
        </div>
      </div>

      <!-- ë‚´ìš©ì–´íœ˜ -->
      <div class="category-section">
        <div class="category-title">ğŸ“š ë‚´ìš©ì–´íœ˜</div>
        <div class="question-box">
          <div class="question-text">7. 'ì‚¬í˜ë ˆ ë² ë°ë ˆ(sapere vedere)'ì˜ ì˜ë¯¸ë¡œ ì ì ˆí•œ ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q7')">â‘  ê·¸ë¦¼ì„ ì˜ ê·¸ë¦¬ëŠ” ê²ƒ</div>
            <div class="option" onclick="selectOption(this, 'q7')">â‘¡ ë³´ëŠ” ë²•ì„ ì•„ëŠ” ê²ƒ (ê´€ì°°ì˜ ë°©ë²•)</div>
            <div class="option" onclick="selectOption(this, 'q7')">â‘¢ ë¹¨ë¦¬ ë‹¬ë¦¬ëŠ” ê²ƒ</div>
            <div class="option" onclick="selectOption(this, 'q7')">â‘£ ë§ì´ ì•„ëŠ” ê²ƒ</div>
          </div>
        </div>
        <div class="question-box">
          <div class="question-text">8. "ì˜ˆìˆ  ì—†ëŠ” ê³¼í•™ì€ ì˜í˜¼ì´ ì—†ê³ , ê³¼í•™ ì—†ëŠ” ì˜ˆìˆ ì€ ë¿Œë¦¬ê°€ ì—†ë‹¤"ë¼ëŠ” ë§ì´ ì˜ë¯¸í•˜ëŠ” ê²ƒì€?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q8')">â‘  ì˜ˆìˆ ê³¼ ê³¼í•™ì€ ë³„ê°œì˜ ë¶„ì•¼ë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q8')">â‘¡ ì˜ˆìˆ ê³¼ ê³¼í•™ì€ ì„œë¡œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ ì™„ì„±ëœë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q8')">â‘¢ ê³¼í•™ì´ ì˜ˆìˆ ë³´ë‹¤ ì¤‘ìš”í•˜ë‹¤</div>
            <div class="option" onclick="selectOption(this, 'q8')">â‘£ ì˜ˆìˆ ì´ ê³¼í•™ë³´ë‹¤ ì¤‘ìš”í•˜ë‹¤</div>
          </div>
        </div>
      </div>

      <!-- ë‚´ìš©ì¶”ë¡  -->
      <div class="category-section">
        <div class="category-title">ğŸ” ë‚´ìš©ì¶”ë¡ </div>
        <div class="question-box">
          <div class="question-text">9. ë ˆì˜¤ë‚˜ë¥´ë„ê°€ ì‹œì‘í•œ ì¼ì„ ëë‚´ì§€ ëª»í•œ ê²ƒì´ ì—­ì„¤ì ìœ¼ë¡œ ê·¸ì˜ ì‘í’ˆì„ ë›°ì–´ë‚˜ê²Œ ë§Œë“  ì´ìœ ëŠ”?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q9')">â‘  ë‹¤ë¥¸ ì‚¬ëŒì´ ëŒ€ì‹  ì™„ì„±í•´ì¤˜ì„œ</div>
            <div class="option" onclick="selectOption(this, 'q9')">â‘¡ "ì•„ì§ ì•„ë‹ˆë‹¤"ë¼ë©° í•œ ê²¹ ë” ë§ì…íˆëŠ” ì™„ë²½ì£¼ì˜ ë•Œë¬¸</div>
            <div class="option" onclick="selectOption(this, 'q9')">â‘¢ ê²Œì„ëŸ¬ì„œ ìš´ì´ ì¢‹ì•˜ìŒ</div>
            <div class="option" onclick="selectOption(this, 'q9')">â‘£ ë¯¸ì™„ì„± ì‘í’ˆì´ ë” ë¹„ì‹¸ì„œ</div>
          </div>
        </div>
        <div class="question-box">
          <div class="question-text">10. ë ˆì˜¤ë‚˜ë¥´ë„ê°€ ì¸ë¥˜ì—ê²Œ ë‚¨ê¸´ ê°€ì¥ í° ìœ ì‚°ì´ íŠ¹ì • ê·¸ë¦¼ì´ë‚˜ ë°œëª…í’ˆì´ ì•„ë‹Œ ì´ìœ ëŠ”?</div>
          <div class="options">
            <div class="option" onclick="selectOption(this, 'q10')">â‘  ê·¸ì˜ ì‘í’ˆì´ ëª¨ë‘ ì‚¬ë¼ì ¸ì„œ</div>
            <div class="option" onclick="selectOption(this, 'q10')">â‘¡ 'ê´€ì°°í•˜ëŠ” ë²•'ì´ë¼ëŠ” íƒœë„ì™€ ìœµí•©ì  ì‚¬ê³  ìì²´ê°€ ìœ ì‚°ì´ê¸° ë•Œë¬¸</div>
            <div class="option" onclick="selectOption(this, 'q10')">â‘¢ ë‹¤ë¥¸ ì‚¬ëŒì´ ë” ë›°ì–´ë‚œ ì‘í’ˆì„ ë§Œë“¤ì–´ì„œ</div>
            <div class="option" onclick="selectOption(this, 'q10')">â‘£ ë°œëª…í’ˆì´ ì‹¤íŒ¨í–ˆê¸° ë•Œë¬¸</div>
          </div>
        </div>
      </div>

      <button class="submit-btn" onclick="submitQuiz()">ê²°ê³¼ í™•ì¸í•˜ê¸°</button>
    </div>

    <!-- ê²°ê³¼ ì„¹ì…˜ -->
    <div class="result-section" id="resultSection">
      <h2 class="result-title">ğŸ¨ í€´ì¦ˆ ê²°ê³¼</h2>
      <div class="score-display"><span id="totalScore">0</span><span>/50ì </span></div>

      <div class="radar-container">
        <canvas id="radarChart" width="400" height="400"></canvas>
      </div>

      <div class="category-scores">
        <div class="category-score-item">
          <div class="label">ì¸ë¬¼íŒŒì•…</div>
          <div class="score" id="score1">0</div>
        </div>
        <div class="category-score-item">
          <div class="label">ë‚´ìš©ì¼ì¹˜</div>
          <div class="score" id="score2">0</div>
        </div>
        <div class="category-score-item">
          <div class="label">ë‚´ìš©êµ¬ì¡°</div>
          <div class="score" id="score3">0</div>
        </div>
        <div class="category-score-item">
          <div class="label">ë‚´ìš©ì–´íœ˜</div>
          <div class="score" id="score4">0</div>
        </div>
        <div class="category-score-item">
          <div class="label">ë‚´ìš©ì¶”ë¡ </div>
          <div class="score" id="score5">0</div>
        </div>
      </div>

      <button class="back-btn" onclick="goBack()">ëŒì•„ê°€ê¸°</button>
    </div>
  </div>

  <script>
    const answers = {
      q1: 'â‘¡ ë°”ë‹¥ ì“¸ê¸°, ë¬¼ê° ê°ˆê¸° ë“± í—ˆë“œë ›ì¼',
      q2: 'â‘¡ ì„œì ì¶œì‹ ì´ë¼ ëŒ€í•™ì—ë„ ê°ˆ ìˆ˜ ì—†ì—ˆë˜ ê²ƒ',
      q3: 'â‘¡ "ë” ì´ìƒ ê°€ë¥´ì¹  ê²ƒì´ ì—†ë‹¤"ë©° ë¶“ì„ ë‚´ë ¤ë†“ì•˜ë‹¤',
      q4: 'â‘¡ ìƒ‰ê³¼ ìƒ‰ ì‚¬ì´ì˜ ê²½ê³„ì„ ì„ ì™„ì „íˆ ì—†ì• ëŠ” ê²ƒ',
      q5: 'â‘¡ ì™„ë²½ì„ í–¥í•œ ì§‘ì°©ì´ ì°½ì¡°ì˜ ë™ë ¥ì´ì ì¡±ì‡„ê°€ ë¨',
      q6: 'â‘¡ ë¹ˆì¹˜ ë§ˆì„ì˜ ê´€ì°° ì‹œì ˆ â†’ ê³µë°© ì…ë¬¸ â†’ ê´€ì°° ì² í•™ í™•ë¦½ â†’ í•´ë¶€í•™/ë°œëª… ì—°êµ¬',
      q7: 'â‘¡ ë³´ëŠ” ë²•ì„ ì•„ëŠ” ê²ƒ (ê´€ì°°ì˜ ë°©ë²•)',
      q8: 'â‘¡ ì˜ˆìˆ ê³¼ ê³¼í•™ì€ ì„œë¡œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ ì™„ì„±ëœë‹¤',
      q9: 'â‘¡ "ì•„ì§ ì•„ë‹ˆë‹¤"ë¼ë©° í•œ ê²¹ ë” ë§ì…íˆëŠ” ì™„ë²½ì£¼ì˜ ë•Œë¬¸',
      q10: 'â‘¡ 'ê´€ì°°í•˜ëŠ” ë²•'ì´ë¼ëŠ” íƒœë„ì™€ ìœµí•©ì  ì‚¬ê³  ìì²´ê°€ ìœ ì‚°ì´ê¸° ë•Œë¬¸'
    };

    const userAnswers = {};
    let userName = '';
    let userGrade = '';

    function selectOption(element, questionId) {
      const options = element.parentElement.querySelectorAll('.option');
      options.forEach(opt => opt.classList.remove('selected'));
      element.classList.add('selected');
      userAnswers[questionId] = element.textContent;
    }

    function startQuiz() {
      const grade = document.getElementById('grade').value;
      const name = document.getElementById('name').value.trim();

      if (!grade) {
        alert('í•™ë…„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
        return;
      }
      if (!name) {
        alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

      userName = name;
      userGrade = grade;

      document.getElementById('inputForm').style.display = 'none';
      document.getElementById('quizContent').style.display = 'block';
    }

    function submitQuiz() {
      const totalQuestions = Object.keys(answers).length;
      const answeredQuestions = Object.keys(userAnswers).length;

      if (answeredQuestions < totalQuestions) {
        alert('ëª¨ë“  ë¬¸ì œì— ë‹µí•´ì£¼ì„¸ìš”.');
        return;
      }

      const categoryScores = [0, 0, 0, 0, 0];

      if (userAnswers.q1 === answers.q1) categoryScores[0]++;
      if (userAnswers.q2 === answers.q2) categoryScores[0]++;
      if (userAnswers.q3 === answers.q3) categoryScores[1]++;
      if (userAnswers.q4 === answers.q4) categoryScores[1]++;
      if (userAnswers.q5 === answers.q5) categoryScores[2]++;
      if (userAnswers.q6 === answers.q6) categoryScores[2]++;
      if (userAnswers.q7 === answers.q7) categoryScores[3]++;
      if (userAnswers.q8 === answers.q8) categoryScores[3]++;
      if (userAnswers.q9 === answers.q9) categoryScores[4]++;
      if (userAnswers.q10 === answers.q10) categoryScores[4]++;

      const convertedScores = categoryScores.map(score => {
        if (score === 2) return 10;
        if (score === 1) return 5;
        return 1;
      });

      const totalScore = convertedScores.reduce((a, b) => a + b, 0);

      document.getElementById('quizContent').style.display = 'none';
      document.getElementById('resultSection').style.display = 'block';

      document.getElementById('totalScore').textContent = totalScore;
      document.getElementById('score1').textContent = convertedScores[0] + 'ì ';
      document.getElementById('score2').textContent = convertedScores[1] + 'ì ';
      document.getElementById('score3').textContent = convertedScores[2] + 'ì ';
      document.getElementById('score4').textContent = convertedScores[3] + 'ì ';
      document.getElementById('score5').textContent = convertedScores[4] + 'ì ';

      drawRadarChart(convertedScores);
      saveResult(convertedScores, totalScore);
    }

    function drawRadarChart(scores) {
      const canvas = document.getElementById('radarChart');
      const ctx = canvas.getContext('2d');
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;
      const maxRadius = 150;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      const categories = ['ì¸ë¬¼íŒŒì•…', 'ë‚´ìš©ì¼ì¹˜', 'ë‚´ìš©êµ¬ì¡°', 'ë‚´ìš©ì–´íœ˜', 'ë‚´ìš©ì¶”ë¡ '];
      const numCategories = categories.length;
      const angleStep = (2 * Math.PI) / numCategories;
      const startAngle = -Math.PI / 2;

      for (let level = 1; level <= 5; level++) {
        const radius = (maxRadius / 5) * level;
        ctx.beginPath();
        for (let i = 0; i <= numCategories; i++) {
          const angle = startAngle + i * angleStep;
          const x = centerX + radius * Math.cos(angle);
          const y = centerY + radius * Math.sin(angle);
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.closePath();
        ctx.strokeStyle = '#e0e0e0';
        ctx.stroke();
      }

      for (let i = 0; i < numCategories; i++) {
        const angle = startAngle + i * angleStep;
        const x = centerX + maxRadius * Math.cos(angle);
        const y = centerY + maxRadius * Math.sin(angle);
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.lineTo(x, y);
        ctx.strokeStyle = '#ccc';
        ctx.stroke();

        const labelRadius = maxRadius + 25;
        const labelX = centerX + labelRadius * Math.cos(angle);
        const labelY = centerY + labelRadius * Math.sin(angle);
        ctx.fillStyle = '#8b4513';
        ctx.font = 'bold 14px Noto Sans KR';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(categories[i], labelX, labelY);
      }

      ctx.beginPath();
      for (let i = 0; i <= numCategories; i++) {
        const idx = i % numCategories;
        const angle = startAngle + idx * angleStep;
        const radius = (scores[idx] / 10) * maxRadius;
        const x = centerX + radius * Math.cos(angle);
        const y = centerY + radius * Math.sin(angle);
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.closePath();
      ctx.fillStyle = 'rgba(212, 163, 115, 0.3)';
      ctx.fill();
      ctx.strokeStyle = '#d4a373';
      ctx.lineWidth = 2;
      ctx.stroke();

      for (let i = 0; i < numCategories; i++) {
        const angle = startAngle + i * angleStep;
        const radius = (scores[i] / 10) * maxRadius;
        const x = centerX + radius * Math.cos(angle);
        const y = centerY + radius * Math.sin(angle);
        ctx.beginPath();
        ctx.arc(x, y, 6, 0, 2 * Math.PI);
        ctx.fillStyle = '#8b4513';
        ctx.fill();
      }
    }

    async function saveResult(scores, totalScore) {
      try {
        const response = await fetch('/api/creative-quiz/save', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            grade: userGrade,
            name: userName,
            storyId: 'worldperson01',
            season: 'season1',
            scores: scores,
            totalScore: totalScore
          })
        });
        const data = await response.json();
        console.log('ì €ì¥ ì™„ë£Œ:', data);
      } catch (error) {
        console.error('ì €ì¥ ì‹¤íŒ¨:', error);
      }
    }

    function goBack() {
      window.location.href = 'worldperson01_season1.html';
    }
  </script>
</body>
</html>
