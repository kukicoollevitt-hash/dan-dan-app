<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>íƒí—˜í˜• í•™ìŠµ - ì¡°ì„ ì‹œëŒ€ í•œì–‘ íƒë°©</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Noto Sans KR", sans-serif;
      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
      overflow: hidden;
      height: 100vh;
    }

    .container {
      position: relative;
      width: 100%;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* ì§€ë„ ì˜ì—­ */
    .map-area {
      position: relative;
      width: 90vw;
      max-width: 1200px;
      height: 80vh;
      background: linear-gradient(to bottom, #e8d5b7 0%, #d4c4a8 50%, #c9b89a 100%);
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
      overflow: hidden;
      border: 8px solid #8b6f47;
    }

    /* ë°°ê²½ í…ìŠ¤ì²˜ */
    .map-area::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image:
        repeating-linear-gradient(90deg, rgba(139, 111, 71, 0.03) 0px, transparent 1px, transparent 40px),
        repeating-linear-gradient(0deg, rgba(139, 111, 71, 0.03) 0px, transparent 1px, transparent 40px);
      pointer-events: none;
    }

    /* ì œëª© */
    .map-title {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(139, 69, 19, 0.9);
      color: #fff;
      padding: 12px 30px;
      border-radius: 30px;
      font-size: 24px;
      font-weight: 700;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 100;
      border: 2px solid #d4af37;
    }

    /* ì§„í–‰ë„ í‘œì‹œ */
    .progress-bar {
      position: absolute;
      top: 80px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.9);
      padding: 10px 20px;
      border-radius: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      z-index: 100;
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .progress-bar span {
      font-size: 14px;
      font-weight: 600;
      color: #333;
    }

    .progress-dots {
      display: flex;
      gap: 6px;
    }

    .progress-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #ddd;
      transition: all 0.3s ease;
    }

    .progress-dot.completed {
      background: #4caf50;
      transform: scale(1.2);
      box-shadow: 0 0 8px rgba(76, 175, 80, 0.5);
    }

    /* ì¥ì†Œ ë§ˆì»¤ */
    .location {
      position: absolute;
      width: 60px;
      height: 60px;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .location:hover {
      transform: scale(1.2);
      z-index: 20;
    }

    .location-pin {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .location-icon {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
      border-radius: 50% 50% 50% 0;
      transform: translateX(-50%) rotate(-45deg);
      border: 3px solid #fff;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      animation: bounce 2s infinite;
    }

    .location.completed .location-icon {
      background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
      animation: none;
    }

    .location.locked .location-icon {
      background: linear-gradient(135deg, #999 0%, #777 100%);
      animation: none;
      cursor: not-allowed;
    }

    @keyframes bounce {
      0%, 100% { transform: translateX(-50%) rotate(-45deg) translateY(0); }
      50% { transform: translateX(-50%) rotate(-45deg) translateY(-10px); }
    }

    .location-label {
      position: absolute;
      top: 50px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      color: #fff;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      white-space: nowrap;
      pointer-events: none;
    }

    /* ì¥ì†Œë³„ ìœ„ì¹˜ */
    #loc1 { top: 35%; left: 50%; }
    #loc2 { top: 25%; left: 30%; }
    #loc3 { top: 45%; left: 25%; }
    #loc4 { top: 55%; left: 45%; }
    #loc5 { top: 35%; left: 70%; }
    #loc6 { top: 60%; left: 65%; }

    /* ëª¨ë‹¬ */
    .modal {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(5px);
    }

    .modal.show {
      display: flex;
    }

    .modal-content {
      background: #fff;
      border-radius: 20px;
      padding: 30px;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      animation: modalSlideUp 0.3s ease;
    }

    @keyframes modalSlideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid #e0e0e0;
    }

    .modal-title {
      font-size: 24px;
      font-weight: 700;
      color: #8b4513;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 32px;
      color: #999;
      cursor: pointer;
      line-height: 1;
      padding: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-close:hover {
      color: #333;
    }

    .modal-image {
      width: 100%;
      height: 200px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
    }

    .modal-text {
      font-size: 16px;
      line-height: 1.8;
      color: #333;
      margin-bottom: 20px;
    }

    .modal-question {
      background: #f5f5f5;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .modal-question h3 {
      font-size: 18px;
      color: #8b4513;
      margin-bottom: 15px;
    }

    .answer-options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .answer-btn {
      padding: 12px 20px;
      border: 2px solid #ddd;
      background: #fff;
      border-radius: 8px;
      cursor: pointer;
      font-size: 15px;
      text-align: left;
      transition: all 0.2s ease;
    }

    .answer-btn:hover {
      border-color: #8b4513;
      background: #fef9f5;
    }

    .answer-btn.correct {
      background: #4caf50;
      color: #fff;
      border-color: #4caf50;
    }

    .answer-btn.wrong {
      background: #f44336;
      color: #fff;
      border-color: #f44336;
    }

    .answer-btn:disabled {
      cursor: not-allowed;
      opacity: 0.7;
    }

    .modal-footer {
      text-align: center;
      padding-top: 20px;
    }

    .complete-btn {
      background: linear-gradient(135deg, #8b4513 0%, #a0522d 100%);
      color: #fff;
      border: none;
      padding: 12px 30px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(139, 69, 19, 0.3);
      transition: all 0.2s ease;
    }

    .complete-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(139, 69, 19, 0.4);
    }

    .complete-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    /* ì™„ë£Œ ì¶•í•˜ ëª¨ë‹¬ */
    .celebration {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }

    .celebration.show {
      display: flex;
    }

    .celebration-content {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      padding: 50px;
      border-radius: 20px;
      text-align: center;
      animation: celebrationPop 0.5s ease;
    }

    @keyframes celebrationPop {
      0% { transform: scale(0.5); opacity: 0; }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); opacity: 1; }
    }

    .celebration-content h2 {
      font-size: 36px;
      margin-bottom: 20px;
    }

    .celebration-content p {
      font-size: 18px;
      margin-bottom: 30px;
    }

    .celebration-btn {
      background: #fff;
      color: #667eea;
      border: none;
      padding: 12px 30px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="map-area">
      <div class="map-title">ì¡°ì„ ì‹œëŒ€ í•œì–‘ íƒë°© ğŸ›ï¸</div>

      <div class="progress-bar">
        <span>ì§„í–‰ë„:</span>
        <div class="progress-dots" id="progressDots">
          <div class="progress-dot"></div>
          <div class="progress-dot"></div>
          <div class="progress-dot"></div>
          <div class="progress-dot"></div>
          <div class="progress-dot"></div>
          <div class="progress-dot"></div>
        </div>
        <span id="progressText">0/6</span>
      </div>

      <!-- ì¥ì†Œ ë§ˆì»¤ë“¤ -->
      <div class="location" id="loc1" data-location="1">
        <div class="location-pin">
          <div class="location-icon"></div>
          <div class="location-label">ê²½ë³µê¶</div>
        </div>
      </div>

      <div class="location locked" id="loc2" data-location="2">
        <div class="location-pin">
          <div class="location-icon"></div>
          <div class="location-label">ì¢…ë¬˜</div>
        </div>
      </div>

      <div class="location locked" id="loc3" data-location="3">
        <div class="location-pin">
          <div class="location-icon"></div>
          <div class="location-label">ê´‘í™”ë¬¸</div>
        </div>
      </div>

      <div class="location locked" id="loc4" data-location="4">
        <div class="location-pin">
          <div class="location-icon"></div>
          <div class="location-label">ì°½ë•ê¶</div>
        </div>
      </div>

      <div class="location locked" id="loc5" data-location="5">
        <div class="location-pin">
          <div class="location-icon"></div>
          <div class="location-label">ì„±ê· ê´€</div>
        </div>
      </div>

      <div class="location locked" id="loc6" data-location="6">
        <div class="location-pin">
          <div class="location-icon"></div>
          <div class="location-label">ë‚¨ëŒ€ë¬¸</div>
        </div>
      </div>

      <!-- ëª¨ë‹¬ -->
      <div class="modal" id="modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title" id="modalTitle">ì¥ì†Œëª…</h2>
            <button class="modal-close" onclick="closeModal()">&times;</button>
          </div>

          <div class="modal-image" id="modalImage">ğŸ›ï¸</div>

          <div class="modal-text" id="modalText">
            ì„¤ëª… í…ìŠ¤íŠ¸ê°€ ì—¬ê¸° ë“¤ì–´ê°‘ë‹ˆë‹¤.
          </div>

          <div class="modal-question">
            <h3 id="questionText">ë¬¸ì œê°€ ì—¬ê¸° í‘œì‹œë©ë‹ˆë‹¤.</h3>
            <div class="answer-options" id="answerOptions">
              <!-- ë‹µë³€ ë²„íŠ¼ë“¤ì´ ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
            </div>
          </div>

          <div class="modal-footer">
            <button class="complete-btn" id="completeBtn" disabled onclick="completeLocation()">
              ì™„ë£Œí•˜ê³  ë‹¤ìŒ ì¥ì†Œë¡œ â†’
            </button>
          </div>
        </div>
      </div>

      <!-- ì™„ë£Œ ì¶•í•˜ ëª¨ë‹¬ -->
      <div class="celebration" id="celebration">
        <div class="celebration-content">
          <h2>ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰</h2>
          <p>ì¡°ì„ ì‹œëŒ€ í•œì–‘ íƒë°©ì„ ëª¨ë‘ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!</p>
          <p>6ê°œì˜ ì—­ì‚¬ì  ì¥ì†Œë¥¼ ëª¨ë‘ í•™ìŠµí–ˆì–´ìš”.</p>
          <button class="celebration-btn" onclick="closeCelebration()">í™•ì¸</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ì¥ì†Œ ë°ì´í„°
    const locations = {
      1: {
        title: 'ê²½ë³µê¶',
        emoji: 'ğŸ›ï¸',
        text: 'ê²½ë³µê¶ì€ ì¡°ì„ ì‹œëŒ€ ì²« ë²ˆì§¸ ì™•ê¶ìœ¼ë¡œ, 1395ë…„ íƒœì¡° ì´ì„±ê³„ê°€ ì°½ê±´í–ˆìŠµë‹ˆë‹¤. "ê²½ë³µ(æ™¯ç¦)"ì€ "í° ë³µì„ ëˆ„ë¦¬ë‹¤"ë¼ëŠ” ëœ»ìœ¼ë¡œ, ì¡°ì„  ì™•ì¡°ì˜ ë²ˆì˜ì„ ê¸°ì›í•˜ëŠ” ì˜ë¯¸ê°€ ë‹´ê²¨ ìˆìŠµë‹ˆë‹¤. ê²½ë³µê¶ì€ ì¡°ì„ ì‹œëŒ€ 5ëŒ€ ê¶ê¶ ì¤‘ ê°€ì¥ í¬ê³  ì¤‘ì‹¬ì´ ë˜ëŠ” ê¶ê¶ì´ì—ˆìŠµë‹ˆë‹¤.',
        question: 'ê²½ë³µê¶ì„ ì°½ê±´í•œ ì™•ì€ ëˆ„êµ¬ì¼ê¹Œìš”?',
        answers: [
          { text: 'â‘  íƒœì¡° ì´ì„±ê³„', correct: true },
          { text: 'â‘¡ ì„¸ì¢…ëŒ€ì™•', correct: false },
          { text: 'â‘¢ ì •ì¡°', correct: false },
          { text: 'â‘£ ì˜ì¡°', correct: false }
        ]
      },
      2: {
        title: 'ì¢…ë¬˜',
        emoji: 'â›©ï¸',
        text: 'ì¢…ë¬˜ëŠ” ì¡°ì„ ì‹œëŒ€ ì—­ëŒ€ ì™•ê³¼ ì™•ë¹„ì˜ ì‹ ì£¼(ìœ„íŒ¨)ë¥¼ ëª¨ì‹  ì‚¬ë‹¹ì…ë‹ˆë‹¤. ìœ êµ êµ­ê°€ì˜€ë˜ ì¡°ì„ ì—ì„œ ê°€ì¥ ì‹ ì„±í•œ ê³µê°„ìœ¼ë¡œ ì—¬ê²¨ì¡Œìœ¼ë©°, ë§¤ë…„ ì¢…ë¬˜ì œë¡€ë¼ëŠ” ì œì‚¬ë¥¼ ì§€ëƒˆìŠµë‹ˆë‹¤. ì¢…ë¬˜ì œë¡€ì•…ì€ ìœ ë„¤ìŠ¤ì½” ë¬´í˜•ë¬¸í™”ìœ ì‚°ìœ¼ë¡œ ì§€ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.',
        question: 'ì¢…ë¬˜ì—ì„œ ëª¨ì‹œëŠ” ê²ƒì€ ë¬´ì—‡ì¼ê¹Œìš”?',
        answers: [
          { text: 'â‘  ì—­ëŒ€ ì™•ê³¼ ì™•ë¹„ì˜ ì‹ ì£¼', correct: true },
          { text: 'â‘¡ ë¶ˆìƒê³¼ ê²½ì „', correct: false },
          { text: 'â‘¢ ì •ë¶€ ë¬¸ì„œ', correct: false },
          { text: 'â‘£ ì™•ì‹¤ ë³´ë¬¼', correct: false }
        ]
      },
      3: {
        title: 'ê´‘í™”ë¬¸',
        emoji: 'ğŸšª',
        text: 'ê´‘í™”ë¬¸ì€ ê²½ë³µê¶ì˜ ì •ë¬¸ìœ¼ë¡œ, "ë¹›ë‚˜ëŠ” ë•í™”ê°€ ì˜¨ ë‚˜ë¼ì— í¼ì§„ë‹¤"ëŠ” ëœ»ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. ì„¸ì¢…ëŒ€ì™• ì‹œëŒ€ì— ì§‘í˜„ì „ í•™ìë“¤ì´ ì´ê³³ì—ì„œ í•œê¸€ ì°½ì œì— í˜ì¼ìœ¼ë©°, í˜„ì¬ëŠ” ì„œìš¸ì˜ ìƒì§•ì ì¸ ëœë“œë§ˆí¬ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.',
        question: 'ê´‘í™”ë¬¸ì˜ ì˜ë¯¸ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?',
        answers: [
          { text: 'â‘  ë¹›ë‚˜ëŠ” ë•í™”ê°€ í¼ì§„ë‹¤', correct: true },
          { text: 'â‘¡ í° ë¬¸ì´ ì—´ë¦°ë‹¤', correct: false },
          { text: 'â‘¢ ì™•ì˜ ê¶Œìœ„ë¥¼ ìƒì§•í•œë‹¤', correct: false },
          { text: 'â‘£ ë°±ì„±ì„ ë§ì´í•œë‹¤', correct: false }
        ]
      },
      4: {
        title: 'ì°½ë•ê¶',
        emoji: 'ğŸ¯',
        text: 'ì°½ë•ê¶ì€ 1405ë…„ íƒœì¢… ë•Œ ê²½ë³µê¶ì˜ ì´ê¶(ë³„ê¶)ìœ¼ë¡œ ì§€ì–´ì¡ŒìŠµë‹ˆë‹¤. "ì°½ë•(æ˜Œå¾·)"ì€ "ë•ì„ í¼ì¹œë‹¤"ëŠ” ëœ»ì…ë‹ˆë‹¤. ìì—°ê³¼ ì¡°í™”ë¥¼ ì´ë£¬ ì•„ë¦„ë‹¤ìš´ ì •ì› "í›„ì›(ë¹„ì›)"ìœ¼ë¡œ ìœ ëª…í•˜ë©°, ìœ ë„¤ìŠ¤ì½” ì„¸ê³„ë¬¸í™”ìœ ì‚°ìœ¼ë¡œ ë“±ì¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.',
        question: 'ì°½ë•ê¶ì´ ì„¸ê³„ë¬¸í™”ìœ ì‚°ìœ¼ë¡œ ì¸ì •ë°›ì€ ì´ìœ ëŠ”?',
        answers: [
          { text: 'â‘  ìì—°ê³¼ ì¡°í™”ë¥¼ ì´ë£¬ ê±´ì¶•', correct: true },
          { text: 'â‘¡ ê°€ì¥ í° ê¶ê¶', correct: false },
          { text: 'â‘¢ ì™•ì´ ê°€ì¥ ì˜¤ë˜ ê±°ì£¼', correct: false },
          { text: 'â‘£ ìµœì´ˆì˜ ê¶ê¶', correct: false }
        ]
      },
      5: {
        title: 'ì„±ê· ê´€',
        emoji: 'ğŸ“š',
        text: 'ì„±ê· ê´€ì€ ì¡°ì„ ì‹œëŒ€ ìµœê³  êµìœ¡ê¸°ê´€ìœ¼ë¡œ, ìœ í•™ì„ ê°€ë¥´ì¹˜ê³  ì¸ì¬ë¥¼ ì–‘ì„±í–ˆë˜ ê³³ì…ë‹ˆë‹¤. ì˜¤ëŠ˜ë‚ ì˜ êµ­ë¦½ëŒ€í•™êµì— í•´ë‹¹í•˜ë©°, ê³¼ê±°ì‹œí—˜ì„ ì¤€ë¹„í•˜ëŠ” ì–‘ë°˜ ìì œë“¤ì´ ì´ê³³ì—ì„œ ê³µë¶€í–ˆìŠµë‹ˆë‹¤. í˜„ì¬ëŠ” ì„±ê· ê´€ëŒ€í•™êµì˜ ì „ì‹ ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.',
        question: 'ì„±ê· ê´€ì˜ ì—­í• ì€ ë¬´ì—‡ì´ì—ˆë‚˜ìš”?',
        answers: [
          { text: 'â‘  ìœ í•™ êµìœ¡ê³¼ ì¸ì¬ ì–‘ì„±', correct: true },
          { text: 'â‘¡ ì™•ì‹¤ ì œì‚¬', correct: false },
          { text: 'â‘¢ êµ°ì‚¬ í›ˆë ¨', correct: false },
          { text: 'â‘£ ìƒì—… ê±°ë˜', correct: false }
        ]
      },
      6: {
        title: 'ë‚¨ëŒ€ë¬¸',
        emoji: 'ğŸ°',
        text: 'ë‚¨ëŒ€ë¬¸(ìˆ­ë¡€ë¬¸)ì€ í•œì–‘ ë„ì„±ì˜ 4ëŒ€ë¬¸ ì¤‘ ë‚¨ìª½ ì •ë¬¸ìœ¼ë¡œ, 1398ë…„ì— ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ëŒ€í•œë¯¼êµ­ êµ­ë³´ ì œ1í˜¸ë¡œ ì§€ì •ë˜ì–´ ìˆìœ¼ë©°, "ì˜ˆ(ç¦®)ë¥¼ ìˆ­ìƒí•œë‹¤"ëŠ” ëœ»ì˜ ìˆ­ë¡€ë¬¸ì´ ì •ì‹ ëª…ì¹­ì…ë‹ˆë‹¤. 600ë…„ì´ ë„˜ëŠ” ì—­ì‚¬ë¥¼ ì§€ë‹Œ ì„œìš¸ì˜ ìƒì§•ì…ë‹ˆë‹¤.',
        question: 'ë‚¨ëŒ€ë¬¸ì˜ ì •ì‹ ëª…ì¹­ì€ ë¬´ì—‡ì¼ê¹Œìš”?',
        answers: [
          { text: 'â‘  ìˆ­ë¡€ë¬¸', correct: true },
          { text: 'â‘¡ í¥ì¸ì§€ë¬¸', correct: false },
          { text: 'â‘¢ ëˆì˜ë¬¸', correct: false },
          { text: 'â‘£ ìˆ™ì •ë¬¸', correct: false }
        ]
      }
    };

    let currentLocation = null;
    let completedLocations = new Set();

    // ì¥ì†Œ í´ë¦­ ì´ë²¤íŠ¸
    document.querySelectorAll('.location').forEach(loc => {
      loc.addEventListener('click', function() {
        if (this.classList.contains('locked')) {
          alert('ì´ì „ ì¥ì†Œë¥¼ ë¨¼ì € ì™„ë£Œí•´ì£¼ì„¸ìš”!');
          return;
        }

        const locationId = parseInt(this.dataset.location);
        openModal(locationId);
      });
    });

    function openModal(locationId) {
      currentLocation = locationId;
      const data = locations[locationId];

      document.getElementById('modalTitle').textContent = data.title;
      document.getElementById('modalImage').textContent = data.emoji;
      document.getElementById('modalText').textContent = data.text;
      document.getElementById('questionText').textContent = data.question;

      // ë‹µë³€ ë²„íŠ¼ ìƒì„±
      const optionsContainer = document.getElementById('answerOptions');
      optionsContainer.innerHTML = '';

      data.answers.forEach((answer, index) => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        btn.textContent = answer.text;
        btn.onclick = () => checkAnswer(index);
        optionsContainer.appendChild(btn);
      });

      document.getElementById('completeBtn').disabled = true;
      document.getElementById('modal').classList.add('show');
    }

    function closeModal() {
      document.getElementById('modal').classList.remove('show');
      currentLocation = null;
    }

    function checkAnswer(index) {
      const data = locations[currentLocation];
      const buttons = document.querySelectorAll('.answer-btn');

      buttons.forEach((btn, i) => {
        btn.disabled = true;
        if (data.answers[i].correct) {
          btn.classList.add('correct');
        } else if (i === index && !data.answers[i].correct) {
          btn.classList.add('wrong');
        }
      });

      if (data.answers[index].correct) {
        document.getElementById('completeBtn').disabled = false;
      } else {
        setTimeout(() => {
          buttons.forEach(btn => {
            btn.disabled = false;
            btn.classList.remove('wrong');
          });
        }, 1500);
      }
    }

    function completeLocation() {
      completedLocations.add(currentLocation);

      // í˜„ì¬ ì¥ì†Œë¥¼ ì™„ë£Œë¡œ í‘œì‹œ
      const locationEl = document.getElementById(`loc${currentLocation}`);
      locationEl.classList.add('completed');

      // ë‹¤ìŒ ì¥ì†Œ ì ê¸ˆ í•´ì œ
      const nextLocation = currentLocation + 1;
      if (nextLocation <= 6) {
        const nextEl = document.getElementById(`loc${nextLocation}`);
        nextEl.classList.remove('locked');
      }

      // ì§„í–‰ë„ ì—…ë°ì´íŠ¸
      updateProgress();

      // ëª¨ë‹¬ ë‹«ê¸°
      closeModal();

      // ëª¨ë“  ì¥ì†Œ ì™„ë£Œ ì‹œ ì¶•í•˜ ëª¨ë‹¬
      if (completedLocations.size === 6) {
        setTimeout(() => {
          document.getElementById('celebration').classList.add('show');
        }, 500);
      }
    }

    function updateProgress() {
      const dots = document.querySelectorAll('.progress-dot');
      dots.forEach((dot, index) => {
        if (completedLocations.has(index + 1)) {
          dot.classList.add('completed');
        }
      });

      document.getElementById('progressText').textContent =
        `${completedLocations.size}/6`;
    }

    function closeCelebration() {
      document.getElementById('celebration').classList.remove('show');
    }
  </script>
</body>
</html>
