<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì„¸ê³„ì§€ë„ ì§€ë¦¬ í•™ìŠµ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Noto Sans KR", sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      overflow: hidden;
      height: 100vh;
    }

    .container {
      position: relative;
      width: 100%;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* ìƒë‹¨ í—¤ë” */
    .header {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .header-title {
      font-size: 22px;
      font-weight: 700;
      color: #fff;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .header-title span {
      font-size: 28px;
    }

    .progress-info {
      display: flex;
      align-items: center;
      gap: 20px;
      color: #fff;
    }

    .progress-text {
      font-size: 16px;
      font-weight: 600;
    }

    .progress-bar-container {
      width: 200px;
      height: 10px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, #4caf50, #8bc34a);
      transition: width 0.5s ease;
      width: 0%;
    }

    /* ì§€ë„ ì˜ì—­ */
    .map-container {
      position: relative;
      width: 95vw;
      height: 85vh;
      margin-top: 60px;
      background: #a7c7e7;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
    }

    /* ì„¸ê³„ì§€ë„ SVG ë°°ê²½ */
    .world-map {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 500"><rect fill="%23a7c7e7" width="1000" height="500"/><g fill="%2390a4ae" opacity="0.6"><path d="M150,100 L180,95 L210,110 L200,140 L170,150 L140,135 Z"/><path d="M250,120 L300,115 L320,140 L310,180 L280,190 L240,170 Z"/><path d="M400,80 L480,75 L520,95 L510,130 L460,145 L410,125 Z"/><path d="M550,110 L620,105 L660,125 L650,165 L600,180 L540,160 Z"/><path d="M200,220 L260,215 L290,240 L280,280 L240,295 L190,270 Z"/><path d="M120,280 L170,275 L195,295 L185,330 L150,345 L110,320 Z"/><path d="M350,250 L420,245 L450,270 L440,310 L390,325 L340,300 Z"/><path d="M500,200 L580,195 L620,220 L610,260 L560,275 L490,250 Z"/><path d="M680,140 L750,135 L780,160 L770,200 L720,215 L670,190 Z"/><path d="M800,180 L860,175 L885,195 L875,230 L830,245 L790,220 Z"/><path d="M300,340 L360,335 L385,355 L375,390 L330,405 L290,380 Z"/><path d="M450,320 L520,315 L550,340 L540,380 L490,395 L440,370 Z"/></g></svg>');
      background-size: cover;
      background-position: center;
      pointer-events: none;
    }

    /* ê¹ƒë°œ ë§ˆì»¤ */
    .flag {
      position: absolute;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .flag:hover {
      transform: scale(1.2);
      z-index: 20;
    }

    .flag-pole {
      position: relative;
      width: 3px;
      height: 50px;
      background: #333;
      margin: 0 auto;
    }

    .flag-icon {
      position: absolute;
      top: 0;
      left: 3px;
      width: 35px;
      height: 25px;
      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
      border-radius: 3px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 700;
      color: #fff;
      animation: wave 2s ease-in-out infinite;
    }

    .flag.completed .flag-icon {
      background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
      animation: none;
    }

    .flag.locked .flag-icon {
      background: linear-gradient(135deg, #999 0%, #777 100%);
      animation: none;
      cursor: not-allowed;
    }

    @keyframes wave {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(-5deg); }
      75% { transform: rotate(5deg); }
    }

    .flag-label {
      position: absolute;
      top: 55px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      color: #fff;
      padding: 4px 10px;
      border-radius: 10px;
      font-size: 11px;
      font-weight: 600;
      white-space: nowrap;
      pointer-events: none;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    }

    /* ê¹ƒë°œ ìœ„ì¹˜ (20ê°œ) - ì„¸ê³„ ì£¼ìš” ì§€ì—­ */
    #flag1 { top: 25%; left: 8%; }   /* ë¶ë¯¸ ì„œë¶€ */
    #flag2 { top: 30%; left: 15%; }  /* ë¶ë¯¸ ì¤‘ë¶€ */
    #flag3 { top: 35%; left: 20%; }  /* ë¶ë¯¸ ë™ë¶€ */
    #flag4 { top: 50%; left: 12%; }  /* ì¤‘ë‚¨ë¯¸ ë¶ë¶€ */
    #flag5 { top: 65%; left: 18%; }  /* ë‚¨ë¯¸ */
    #flag6 { top: 20%; left: 30%; }  /* ë¶ìœ ëŸ½ */
    #flag7 { top: 28%; left: 32%; }  /* ì„œìœ ëŸ½ */
    #flag8 { top: 35%; left: 35%; }  /* ë‚¨ìœ ëŸ½ */
    #flag9 { top: 42%; left: 33%; }  /* ë¶ì•„í”„ë¦¬ì¹´ */
    #flag10 { top: 55%; left: 35%; } /* ì„œì•„í”„ë¦¬ì¹´ */
    #flag11 { top: 65%; left: 38%; } /* ë‚¨ì•„í”„ë¦¬ì¹´ */
    #flag12 { top: 25%; left: 42%; } /* ë™ìœ ëŸ½ */
    #flag13 { top: 30%; left: 50%; } /* ì„œì•„ì‹œì•„ */
    #flag14 { top: 35%; left: 58%; } /* ì¤‘ì•™ì•„ì‹œì•„ */
    #flag15 { top: 42%; left: 65%; } /* ë‚¨ì•„ì‹œì•„ */
    #flag16 { top: 30%; left: 72%; } /* ë™ì•„ì‹œì•„ */
    #flag17 { top: 45%; left: 75%; } /* ë™ë‚¨ì•„ì‹œì•„ */
    #flag18 { top: 25%; left: 85%; } /* ë™ë¶ì•„ì‹œì•„ */
    #flag19 { top: 60%; left: 85%; } /* ì˜¤ì„¸ì•„ë‹ˆì•„ */
    #flag20 { top: 50%; left: 80%; } /* í˜¸ì£¼ */

    /* ëª¨ë‹¬ */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(5px);
    }

    .modal.show {
      display: flex;
    }

    .modal-content {
      background: #fff;
      border-radius: 20px;
      padding: 30px;
      max-width: 700px;
      width: 90%;
      max-height: 85vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      animation: modalSlideUp 0.3s ease;
    }

    @keyframes modalSlideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid #e0e0e0;
    }

    .modal-title {
      font-size: 24px;
      font-weight: 700;
      color: #333;
    }

    .modal-badge {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 32px;
      color: #999;
      cursor: pointer;
      line-height: 1;
      padding: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      top: 20px;
      right: 20px;
    }

    .modal-close:hover {
      color: #333;
    }

    .modal-image {
      width: 100%;
      height: 250px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 60px;
    }

    .modal-text {
      font-size: 16px;
      line-height: 1.8;
      color: #333;
      margin-bottom: 20px;
    }

    .modal-question {
      background: #f5f5f5;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .modal-question h3 {
      font-size: 18px;
      color: #667eea;
      margin-bottom: 15px;
    }

    .answer-options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .answer-btn {
      padding: 12px 20px;
      border: 2px solid #ddd;
      background: #fff;
      border-radius: 8px;
      cursor: pointer;
      font-size: 15px;
      text-align: left;
      transition: all 0.2s ease;
    }

    .answer-btn:hover {
      border-color: #667eea;
      background: #f8f9ff;
    }

    .answer-btn.correct {
      background: #4caf50;
      color: #fff;
      border-color: #4caf50;
    }

    .answer-btn.wrong {
      background: #f44336;
      color: #fff;
      border-color: #f44336;
    }

    .answer-btn:disabled {
      cursor: not-allowed;
      opacity: 0.7;
    }

    .modal-footer {
      text-align: center;
      padding-top: 20px;
    }

    .complete-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      border: none;
      padding: 12px 30px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      transition: all 0.2s ease;
    }

    .complete-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
    }

    .complete-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    /* ì™„ë£Œ ì¶•í•˜ ëª¨ë‹¬ */
    .celebration {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.9);
      z-index: 3000;
      align-items: center;
      justify-content: center;
    }

    .celebration.show {
      display: flex;
    }

    .celebration-content {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      padding: 60px;
      border-radius: 20px;
      text-align: center;
      animation: celebrationPop 0.5s ease;
    }

    @keyframes celebrationPop {
      0% { transform: scale(0.5); opacity: 0; }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); opacity: 1; }
    }

    .celebration-content h2 {
      font-size: 42px;
      margin-bottom: 20px;
    }

    .celebration-content p {
      font-size: 20px;
      margin-bottom: 30px;
      opacity: 0.9;
    }

    .celebration-btn {
      background: #fff;
      color: #667eea;
      border: none;
      padding: 14px 35px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .celebration-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
    }
  </style>
</head>
<body>
  <!-- í—¤ë” -->
  <div class="header">
    <div class="header-title">
      <span>ğŸŒ</span>
      <span>ì„¸ê³„ ì§€ë¦¬ íƒí—˜ - BRAIN UP</span>
    </div>
    <div class="progress-info">
      <span class="progress-text" id="progressText">0/20 ì™„ë£Œ</span>
      <div class="progress-bar-container">
        <div class="progress-bar-fill" id="progressBarFill"></div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="map-container">
      <div class="world-map"></div>

      <!-- 20ê°œ ê¹ƒë°œ ë§ˆì»¤ -->
      <div class="flag" id="flag1" data-location="1">
        <div class="flag-pole">
          <div class="flag-icon">01</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 01</div>
      </div>

      <div class="flag locked" id="flag2" data-location="2">
        <div class="flag-pole">
          <div class="flag-icon">02</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 02</div>
      </div>

      <div class="flag locked" id="flag3" data-location="3">
        <div class="flag-pole">
          <div class="flag-icon">03</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 03</div>
      </div>

      <div class="flag locked" id="flag4" data-location="4">
        <div class="flag-pole">
          <div class="flag-icon">04</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 04</div>
      </div>

      <div class="flag locked" id="flag5" data-location="5">
        <div class="flag-pole">
          <div class="flag-icon">05</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 05</div>
      </div>

      <div class="flag locked" id="flag6" data-location="6">
        <div class="flag-pole">
          <div class="flag-icon">06</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 06</div>
      </div>

      <div class="flag locked" id="flag7" data-location="7">
        <div class="flag-pole">
          <div class="flag-icon">07</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 07</div>
      </div>

      <div class="flag locked" id="flag8" data-location="8">
        <div class="flag-pole">
          <div class="flag-icon">08</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 08</div>
      </div>

      <div class="flag locked" id="flag9" data-location="9">
        <div class="flag-pole">
          <div class="flag-icon">09</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 09</div>
      </div>

      <div class="flag locked" id="flag10" data-location="10">
        <div class="flag-pole">
          <div class="flag-icon">10</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 10</div>
      </div>

      <div class="flag locked" id="flag11" data-location="11">
        <div class="flag-pole">
          <div class="flag-icon">11</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 11</div>
      </div>

      <div class="flag locked" id="flag12" data-location="12">
        <div class="flag-pole">
          <div class="flag-icon">12</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 12</div>
      </div>

      <div class="flag locked" id="flag13" data-location="13">
        <div class="flag-pole">
          <div class="flag-icon">13</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 13</div>
      </div>

      <div class="flag locked" id="flag14" data-location="14">
        <div class="flag-pole">
          <div class="flag-icon">14</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 14</div>
      </div>

      <div class="flag locked" id="flag15" data-location="15">
        <div class="flag-pole">
          <div class="flag-icon">15</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 15</div>
      </div>

      <div class="flag locked" id="flag16" data-location="16">
        <div class="flag-pole">
          <div class="flag-icon">16</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 16</div>
      </div>

      <div class="flag locked" id="flag17" data-location="17">
        <div class="flag-pole">
          <div class="flag-icon">17</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 17</div>
      </div>

      <div class="flag locked" id="flag18" data-location="18">
        <div class="flag-pole">
          <div class="flag-icon">18</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 18</div>
      </div>

      <div class="flag locked" id="flag19" data-location="19">
        <div class="flag-pole">
          <div class="flag-icon">19</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 19</div>
      </div>

      <div class="flag locked" id="flag20" data-location="20">
        <div class="flag-pole">
          <div class="flag-icon">20</div>
        </div>
        <div class="flag-label">ì§€ë¦¬ 20</div>
      </div>

      <!-- í•™ìŠµ ëª¨ë‹¬ -->
      <div class="modal" id="modal">
        <div class="modal-content">
          <button class="modal-close" onclick="closeModal()">&times;</button>

          <div class="modal-header">
            <h2 class="modal-title" id="modalTitle">ì§€ë¦¬ 01</h2>
            <div class="modal-badge" id="modalBadge">ë¶ë¯¸ ì„œë¶€</div>
          </div>

          <div class="modal-image" id="modalImage">ğŸ—ºï¸</div>

          <div class="modal-text" id="modalText">
            í•™ìŠµ ë‚´ìš©ì´ ì—¬ê¸° í‘œì‹œë©ë‹ˆë‹¤.
          </div>

          <div class="modal-question">
            <h3 id="questionText">ë¬¸ì œê°€ ì—¬ê¸° í‘œì‹œë©ë‹ˆë‹¤.</h3>
            <div class="answer-options" id="answerOptions">
              <!-- ë‹µë³€ ë²„íŠ¼ë“¤ì´ ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
            </div>
          </div>

          <div class="modal-footer">
            <button class="complete-btn" id="completeBtn" disabled onclick="completeLocation()">
              ì™„ë£Œí•˜ê³  ë‹¤ìŒìœ¼ë¡œ â†’
            </button>
          </div>
        </div>
      </div>

      <!-- ì™„ë£Œ ì¶•í•˜ ëª¨ë‹¬ -->
      <div class="celebration" id="celebration">
        <div class="celebration-content">
          <h2>ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰</h2>
          <p>ì„¸ê³„ ì§€ë¦¬ 20ê°œ ì§€ì—­ì„ ëª¨ë‘ íƒí—˜í–ˆìŠµë‹ˆë‹¤!</p>
          <p>ì „ì„¸ê³„ ì§€ë¦¬ë¥¼ ì™„ë²½í•˜ê²Œ ë§ˆìŠ¤í„°í–ˆì–´ìš”.</p>
          <button class="celebration-btn" onclick="closeCelebration()">í™•ì¸</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ì§€ë¦¬ ë°ì´í„° (20ê°œ)
    const geoData = {
      1: { title: 'ì§€ë¦¬ 01', region: 'ë¶ë¯¸ ì„œë¶€', emoji: 'ğŸ”ï¸', text: 'ë¡œí‚¤ ì‚°ë§¥ì€ ë¶ì•„ë©”ë¦¬ì¹´ ì„œë¶€ì— ìœ„ì¹˜í•œ ê±°ëŒ€í•œ ì‚°ë§¥ìœ¼ë¡œ, ìºë‚˜ë‹¤ë¶€í„° ë¯¸êµ­ê¹Œì§€ ì´ì–´ì§‘ë‹ˆë‹¤. í—˜ì¤€í•œ ì§€í˜•ê³¼ ì•„ë¦„ë‹¤ìš´ ìì—°ê²½ê´€ìœ¼ë¡œ ìœ ëª…í•˜ë©°, ë‹¤ì–‘í•œ ì•¼ìƒë™ë¬¼ì´ ì„œì‹í•©ë‹ˆë‹¤.', question: 'ë¡œí‚¤ ì‚°ë§¥ì´ ìœ„ì¹˜í•œ ì§€ì—­ì€?', answers: [{ text: 'â‘  ë¶ë¯¸ ì„œë¶€', correct: true }, { text: 'â‘¡ ë‚¨ë¯¸ ì¤‘ë¶€', correct: false }, { text: 'â‘¢ ìœ ëŸ½ ë™ë¶€', correct: false }, { text: 'â‘£ ì•„ì‹œì•„ ë‚¨ë¶€', correct: false }] },
      2: { title: 'ì§€ë¦¬ 02', region: 'ë¶ë¯¸ ì¤‘ë¶€', emoji: 'ğŸŒ¾', text: 'ë¯¸êµ­ì˜ ì¤‘ì„œë¶€ ì§€ì—­ì€ ê´‘í™œí•œ ëŒ€í‰ì›ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆìœ¼ë©°, ì„¸ê³„ ìµœëŒ€ì˜ ê³¡ì°½ì§€ëŒ€ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ë°€, ì˜¥ìˆ˜ìˆ˜ ë“±ì˜ ë†ì‘ë¬¼ ìƒì‚°ì´ í™œë°œí•©ë‹ˆë‹¤.', question: 'ë¯¸êµ­ ì¤‘ì„œë¶€ ì§€ì—­ì˜ íŠ¹ì§•ì€?', answers: [{ text: 'â‘  ê´‘í™œí•œ ëŒ€í‰ì›ê³¼ ê³¡ì°½ì§€ëŒ€', correct: true }, { text: 'â‘¡ ë†’ì€ ì‚°ë§¥', correct: false }, { text: 'â‘¢ ì—´ëŒ€ìš°ë¦¼', correct: false }, { text: 'â‘£ ì‚¬ë§‰ ì§€ëŒ€', correct: false }] },
      3: { title: 'ì§€ë¦¬ 03', region: 'ë¶ë¯¸ ë™ë¶€', emoji: 'ğŸ™ï¸', text: 'ë¶ë¯¸ ë™ë¶€ í•´ì•ˆì€ ë‰´ìš•, ë³´ìŠ¤í„´ ë“± ëŒ€ë„ì‹œê°€ ë°€ì§‘ëœ ì§€ì—­ìœ¼ë¡œ, ê²½ì œì™€ ë¬¸í™”ì˜ ì¤‘ì‹¬ì§€ì…ë‹ˆë‹¤. ëŒ€ì„œì–‘ê³¼ ì¸ì ‘í•´ ìˆì–´ ë¬´ì—­ì´ ë°œë‹¬í–ˆìŠµë‹ˆë‹¤.', question: 'ë¶ë¯¸ ë™ë¶€ í•´ì•ˆì˜ íŠ¹ì§•ì€?', answers: [{ text: 'â‘  ëŒ€ë„ì‹œ ë°€ì§‘ ì§€ì—­', correct: true }, { text: 'â‘¡ ë†ì—… ì¤‘ì‹¬ ì§€ì—­', correct: false }, { text: 'â‘¢ ì‚¬ë§‰ ì§€ëŒ€', correct: false }, { text: 'â‘£ íˆ°ë“œë¼ ê¸°í›„', correct: false }] },
      4: { title: 'ì§€ë¦¬ 04', region: 'ì¤‘ë¯¸', emoji: 'ğŸŒ´', text: 'ì¤‘ì•™ì•„ë©”ë¦¬ì¹´ëŠ” ë¶ë¯¸ì™€ ë‚¨ë¯¸ë¥¼ ì—°ê²°í•˜ëŠ” ì§€í˜‘ìœ¼ë¡œ, ì—´ëŒ€ê¸°í›„ë¥¼ ë³´ì´ë©° ì»¤í”¼, ë°”ë‚˜ë‚˜ ë“±ì˜ ì‘ë¬¼ì´ ì¬ë°°ë©ë‹ˆë‹¤. íŒŒë‚˜ë§ˆ ìš´í•˜ê°€ ìœ ëª…í•©ë‹ˆë‹¤.', question: 'ì¤‘ì•™ì•„ë©”ë¦¬ì¹´ì˜ ê¸°í›„ëŠ”?', answers: [{ text: 'â‘  ì—´ëŒ€ê¸°í›„', correct: true }, { text: 'â‘¡ ì˜¨ëŒ€ê¸°í›„', correct: false }, { text: 'â‘¢ í•œëŒ€ê¸°í›„', correct: false }, { text: 'â‘£ ê±´ì¡°ê¸°í›„', correct: false }] },
      5: { title: 'ì§€ë¦¬ 05', region: 'ë‚¨ë¯¸', emoji: 'ğŸ¦œ', text: 'ì•„ë§ˆì¡´ ì—´ëŒ€ìš°ë¦¼ì€ ì„¸ê³„ ìµœëŒ€ì˜ ì—´ëŒ€ìš°ë¦¼ìœ¼ë¡œ 'ì§€êµ¬ì˜ í—ˆíŒŒ'ë¡œ ë¶ˆë¦½ë‹ˆë‹¤. ë‹¤ì–‘í•œ ìƒë¬¼ì¢…ì´ ì„œì‹í•˜ë©° ì§€êµ¬ ì‚°ì†Œì˜ 20%ë¥¼ ìƒì‚°í•©ë‹ˆë‹¤.', question: 'ì•„ë§ˆì¡´ ì—´ëŒ€ìš°ë¦¼ì˜ ë³„ëª…ì€?', answers: [{ text: 'â‘  ì§€êµ¬ì˜ í—ˆíŒŒ', correct: true }, { text: 'â‘¡ ì§€êµ¬ì˜ ì‹¬ì¥', correct: false }, { text: 'â‘¢ ì§€êµ¬ì˜ ì‹ ì¥', correct: false }, { text: 'â‘£ ì§€êµ¬ì˜ ê°„', correct: false }] },
      6: { title: 'ì§€ë¦¬ 06', region: 'ë¶ìœ ëŸ½', emoji: 'ğŸŒŠ', text: 'ë¶ìœ ëŸ½ì€ ìŠ¤ì¹¸ë””ë‚˜ë¹„ì•„ ë°˜ë„ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•œ ì§€ì—­ìœ¼ë¡œ, í”¼ì˜¤ë¥´ ì§€í˜•ì´ ë°œë‹¬í–ˆìŠµë‹ˆë‹¤. ë†’ì€ ë³µì§€ ìˆ˜ì¤€ê³¼ ì•„ë¦„ë‹¤ìš´ ìì—°í™˜ê²½ìœ¼ë¡œ ìœ ëª…í•©ë‹ˆë‹¤.', question: 'ë¶ìœ ëŸ½ì—ì„œ ë°œë‹¬í•œ ì§€í˜•ì€?', answers: [{ text: 'â‘  í”¼ì˜¤ë¥´', correct: true }, { text: 'â‘¡ ì¹´ë¥´ìŠ¤íŠ¸', correct: false }, { text: 'â‘¢ ì‚¬êµ¬', correct: false }, { text: 'â‘£ ì‚¼ê°ì£¼', correct: false }] },
      7: { title: 'ì§€ë¦¬ 07', region: 'ì„œìœ ëŸ½', emoji: 'ğŸ—¼', text: 'ì„œìœ ëŸ½ì€ í”„ë‘ìŠ¤, ì˜êµ­, ë…ì¼ ë“±ì´ ìœ„ì¹˜í•œ ì§€ì—­ìœ¼ë¡œ ì‚°ì—…í˜ëª…ì˜ ë°œìƒì§€ì…ë‹ˆë‹¤. ì˜¨í™”í•œ ê¸°í›„ì™€ ë°œë‹¬í•œ ë¬¸í™”ë¡œ ë§ì€ ê´€ê´‘ê°ì´ ë°©ë¬¸í•©ë‹ˆë‹¤.', question: 'ì‚°ì—…í˜ëª…ì´ ì‹œì‘ëœ ì§€ì—­ì€?', answers: [{ text: 'â‘  ì„œìœ ëŸ½', correct: true }, { text: 'â‘¡ ë™ì•„ì‹œì•„', correct: false }, { text: 'â‘¢ ë‚¨ë¯¸', correct: false }, { text: 'â‘£ ì•„í”„ë¦¬ì¹´', correct: false }] },
      8: { title: 'ì§€ë¦¬ 08', region: 'ë‚¨ìœ ëŸ½', emoji: 'ğŸ›ï¸', text: 'ì§€ì¤‘í•´ ì—°ì•ˆì˜ ë‚¨ìœ ëŸ½ì€ ê³ ëŒ€ ê·¸ë¦¬ìŠ¤, ë¡œë§ˆ ë¬¸ëª…ì˜ ë°œìƒì§€ì…ë‹ˆë‹¤. ì˜¨í™”í•œ ì§€ì¤‘í•´ì„± ê¸°í›„ë¡œ ì˜¬ë¦¬ë¸Œ, í¬ë„ ì¬ë°°ê°€ í™œë°œí•©ë‹ˆë‹¤.', question: 'ë‚¨ìœ ëŸ½ì˜ ê¸°í›„ëŠ”?', answers: [{ text: 'â‘  ì§€ì¤‘í•´ì„± ê¸°í›„', correct: true }, { text: 'â‘¡ ì—´ëŒ€ê¸°í›„', correct: false }, { text: 'â‘¢ ì‚¬ë§‰ê¸°í›„', correct: false }, { text: 'â‘£ í•œëŒ€ê¸°í›„', correct: false }] },
      9: { title: 'ì§€ë¦¬ 09', region: 'ë¶ì•„í”„ë¦¬ì¹´', emoji: 'ğŸœï¸', text: 'ì‚¬í•˜ë¼ ì‚¬ë§‰ì€ ì„¸ê³„ ìµœëŒ€ì˜ ì—´ì‚¬ë§‰ìœ¼ë¡œ ë¶ì•„í”„ë¦¬ì¹´ ëŒ€ë¶€ë¶„ì„ ì°¨ì§€í•©ë‹ˆë‹¤. ê·¹ì‹¬í•œ ê±´ì¡°ê¸°í›„ë¡œ ì¸êµ¬ ë°€ë„ê°€ ë§¤ìš° ë‚®ìŠµë‹ˆë‹¤.', question: 'ì‚¬í•˜ë¼ ì‚¬ë§‰ì˜ ìœ„ì¹˜ëŠ”?', answers: [{ text: 'â‘  ë¶ì•„í”„ë¦¬ì¹´', correct: true }, { text: 'â‘¡ ë‚¨ì•„ì‹œì•„', correct: false }, { text: 'â‘¢ ì¤‘ì•™ì•„ì‹œì•„', correct: false }, { text: 'â‘£ ì˜¤ì„¸ì•„ë‹ˆì•„', correct: false }] },
      10: { title: 'ì§€ë¦¬ 10', region: 'ì„œì•„í”„ë¦¬ì¹´', emoji: 'ğŸ¦', text: 'ì„œì•„í”„ë¦¬ì¹´ëŠ” ì—´ëŒ€ ì‚¬ë°”ë‚˜ ê¸°í›„ê°€ ë‚˜íƒ€ë‚˜ë©°, ì¹´ì¹´ì˜¤, ì»¤í”¼ ë“±ì˜ ì‘ë¬¼ì´ ì¬ë°°ë©ë‹ˆë‹¤. ë‚˜ì´ì§€ë¦¬ì•„ ë“± ì¸êµ¬ê°€ ë§ì€ êµ­ê°€ë“¤ì´ ìœ„ì¹˜í•©ë‹ˆë‹¤.', question: 'ì„œì•„í”„ë¦¬ì¹´ì˜ ì£¼ìš” ê¸°í›„ëŠ”?', answers: [{ text: 'â‘  ì—´ëŒ€ ì‚¬ë°”ë‚˜', correct: true }, { text: 'â‘¡ íˆ°ë“œë¼', correct: false }, { text: 'â‘¢ ì§€ì¤‘í•´ì„±', correct: false }, { text: 'â‘£ ëƒ‰ëŒ€ê¸°í›„', correct: false }] },
      11: { title: 'ì§€ë¦¬ 11', region: 'ë‚¨ì•„í”„ë¦¬ì¹´', emoji: 'ğŸ’', text: 'ë‚¨ì•„í”„ë¦¬ì¹´ëŠ” ê¸ˆ, ë‹¤ì´ì•„ëª¬ë“œ ë“± ê´‘ë¬¼ìì›ì´ í’ë¶€í•©ë‹ˆë‹¤. ì¼€ì´í”„íƒ€ìš´ì€ ì•„ë¦„ë‹¤ìš´ ìì—°ê²½ê´€ìœ¼ë¡œ ìœ ëª…í•œ ê´€ê´‘ë„ì‹œì…ë‹ˆë‹¤.', question: 'ë‚¨ì•„í”„ë¦¬ì¹´ì˜ ì£¼ìš” ìì›ì€?', answers: [{ text: 'â‘  ê¸ˆ, ë‹¤ì´ì•„ëª¬ë“œ', correct: true }, { text: 'â‘¡ ì„ìœ ', correct: false }, { text: 'â‘¢ ì²œì—°ê°€ìŠ¤', correct: false }, { text: 'â‘£ êµ¬ë¦¬', correct: false }] },
      12: { title: 'ì§€ë¦¬ 12', region: 'ë™ìœ ëŸ½', emoji: 'ğŸ°', text: 'ë™ìœ ëŸ½ì€ ìŠ¬ë¼ë¸Œ ë¯¼ì¡±ì´ ì£¼ë¡œ ê±°ì£¼í•˜ë©°, ë‹¤ì–‘í•œ ì—­ì‚¬ì  ìœ ì‚°ì´ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤. ëƒ‰ëŒ€ê¸°í›„ê°€ ë‚˜íƒ€ë‚˜ë©° ê²¨ìš¸ì´ ì¶¥ê³  ê¸¸ìŠµë‹ˆë‹¤.', question: 'ë™ìœ ëŸ½ì˜ ê¸°í›„ëŠ”?', answers: [{ text: 'â‘  ëƒ‰ëŒ€ê¸°í›„', correct: true }, { text: 'â‘¡ ì—´ëŒ€ê¸°í›„', correct: false }, { text: 'â‘¢ ê±´ì¡°ê¸°í›„', correct: false }, { text: 'â‘£ ì§€ì¤‘í•´ì„± ê¸°í›„', correct: false }] },
      13: { title: 'ì§€ë¦¬ 13', region: 'ì„œì•„ì‹œì•„', emoji: 'ğŸ•Œ', text: 'ì„œì•„ì‹œì•„ëŠ” ì¤‘ë™ì´ë¼ê³ ë„ ë¶ˆë¦¬ë©°, ì„ìœ  ìì›ì´ í’ë¶€í•©ë‹ˆë‹¤. ì‚¬ë§‰ ê¸°í›„ê°€ ëŒ€ë¶€ë¶„ì´ë©° ì´ìŠ¬ëŒ ë¬¸í™”ê¶Œì— ì†í•©ë‹ˆë‹¤.', question: 'ì„œì•„ì‹œì•„(ì¤‘ë™)ì˜ ì£¼ìš” ìì›ì€?', answers: [{ text: 'â‘  ì„ìœ ', correct: true }, { text: 'â‘¡ ì„íƒ„', correct: false }, { text: 'â‘¢ ì² ê´‘ì„', correct: false }, { text: 'â‘£ ìš°ë¼ëŠ„', correct: false }] },
      14: { title: 'ì§€ë¦¬ 14', region: 'ì¤‘ì•™ì•„ì‹œì•„', emoji: 'ğŸ«', text: 'ì¤‘ì•™ì•„ì‹œì•„ëŠ” ë‚´ë¥™ì— ìœ„ì¹˜í•´ ê±´ì¡°í•œ ê¸°í›„ë¥¼ ë³´ì…ë‹ˆë‹¤. ê³¼ê±° ì‹¤í¬ë¡œë“œì˜ ì¤‘ì‹¬ì§€ì˜€ìœ¼ë©°, ìœ ëª© ë¬¸í™”ê°€ ë°œë‹¬í–ˆìŠµë‹ˆë‹¤.', question: 'ì¤‘ì•™ì•„ì‹œì•„ì˜ ê¸°í›„ íŠ¹ì§•ì€?', answers: [{ text: 'â‘  ê±´ì¡°í•œ ëŒ€ë¥™ì„± ê¸°í›„', correct: true }, { text: 'â‘¡ í•´ì–‘ì„± ê¸°í›„', correct: false }, { text: 'â‘¢ ì—´ëŒ€ê¸°í›„', correct: false }, { text: 'â‘£ íˆ°ë“œë¼ ê¸°í›„', correct: false }] },
      15: { title: 'ì§€ë¦¬ 15', region: 'ë‚¨ì•„ì‹œì•„', emoji: 'ğŸ”ï¸', text: 'íˆë§ë¼ì•¼ ì‚°ë§¥ì€ ì„¸ê³„ì—ì„œ ê°€ì¥ ë†’ì€ ì‚°ë§¥ìœ¼ë¡œ, ì¸ë„ì™€ ì¤‘êµ­ ì‚¬ì´ì— ìœ„ì¹˜í•©ë‹ˆë‹¤. ëª¬ìˆœ ê¸°í›„ì˜ ì˜í–¥ì„ ë°›ìŠµë‹ˆë‹¤.', question: 'ì„¸ê³„ì—ì„œ ê°€ì¥ ë†’ì€ ì‚°ë§¥ì€?', answers: [{ text: 'â‘  íˆë§ë¼ì•¼', correct: true }, { text: 'â‘¡ ì•Œí”„ìŠ¤', correct: false }, { text: 'â‘¢ ì•ˆë°ìŠ¤', correct: false }, { text: 'â‘£ ë¡œí‚¤', correct: false }] },
      16: { title: 'ì§€ë¦¬ 16', region: 'ë™ì•„ì‹œì•„', emoji: 'ğŸ¯', text: 'ë™ì•„ì‹œì•„ëŠ” ì¤‘êµ­, í•œêµ­, ì¼ë³¸ ë“±ì´ ìœ„ì¹˜í•œ ì§€ì—­ìœ¼ë¡œ ëª¬ìˆœ ì•„ì‹œì•„ì— ì†í•©ë‹ˆë‹¤. ê³„ì ˆí’ì˜ ì˜í–¥ìœ¼ë¡œ ì‚¬ê³„ì ˆì´ ëšœë ·í•©ë‹ˆë‹¤.', question: 'ë™ì•„ì‹œì•„ì˜ ê¸°í›„ íŠ¹ì§•ì€?', answers: [{ text: 'â‘  ê³„ì ˆí’(ëª¬ìˆœ) ê¸°í›„', correct: true }, { text: 'â‘¡ ì‚¬ë§‰ ê¸°í›„', correct: false }, { text: 'â‘¢ íˆ°ë“œë¼ ê¸°í›„', correct: false }, { text: 'â‘£ ì§€ì¤‘í•´ì„± ê¸°í›„', correct: false }] },
      17: { title: 'ì§€ë¦¬ 17', region: 'ë™ë‚¨ì•„ì‹œì•„', emoji: 'ğŸŒº', text: 'ë™ë‚¨ì•„ì‹œì•„ëŠ” ì—´ëŒ€ê¸°í›„ë¡œ ì—°ì¤‘ ê³ ì˜¨ë‹¤ìŠµí•©ë‹ˆë‹¤. ë²¼ë†ì‚¬ê°€ ë°œë‹¬í–ˆìœ¼ë©° ê´€ê´‘ì‚°ì—…ì´ ì¤‘ìš”í•œ ê²½ì œ í™œë™ì…ë‹ˆë‹¤.', question: 'ë™ë‚¨ì•„ì‹œì•„ì˜ ê¸°í›„ëŠ”?', answers: [{ text: 'â‘  ì—´ëŒ€ê¸°í›„', correct: true }, { text: 'â‘¡ ì˜¨ëŒ€ê¸°í›„', correct: false }, { text: 'â‘¢ í•œëŒ€ê¸°í›„', correct: false }, { text: 'â‘£ ê±´ì¡°ê¸°í›„', correct: false }] },
      18: { title: 'ì§€ë¦¬ 18', region: 'ë™ë¶ì•„ì‹œì•„', emoji: 'â„ï¸', text: 'ì‹œë² ë¦¬ì•„ëŠ” ì„¸ê³„ ìµœëŒ€ì˜ ì¹¨ì—½ìˆ˜ë¦¼ ì§€ëŒ€ì¸ íƒ€ì´ê°€ê°€ ë¶„í¬í•©ë‹ˆë‹¤. ê²¨ìš¸ì´ ë§¤ìš° ê¸¸ê³  ì¶¥ë©° ì˜êµ¬ë™í† ì¸µì´ ë°œë‹¬í–ˆìŠµë‹ˆë‹¤.', question: 'ì‹œë² ë¦¬ì•„ì˜ ì£¼ìš” ì‹ìƒì€?', answers: [{ text: 'â‘  íƒ€ì´ê°€(ì¹¨ì—½ìˆ˜ë¦¼)', correct: true }, { text: 'â‘¡ ì—´ëŒ€ìš°ë¦¼', correct: false }, { text: 'â‘¢ ì‚¬ë°”ë‚˜', correct: false }, { text: 'â‘£ ì´ˆì›', correct: false }] },
      19: { title: 'ì§€ë¦¬ 19', region: 'ì˜¤ì„¸ì•„ë‹ˆì•„', emoji: 'ğŸï¸', text: 'ì˜¤ì„¸ì•„ë‹ˆì•„ëŠ” ìˆ˜ë§ì€ ì„¬ë“¤ë¡œ ì´ë£¨ì–´ì§„ ì§€ì—­ì…ë‹ˆë‹¤. ì•„ë¦„ë‹¤ìš´ ì‚°í˜¸ì´ˆì™€ í•´ë³€ìœ¼ë¡œ ìœ ëª…í•˜ë©° ê´€ê´‘ì‚°ì—…ì´ ë°œë‹¬í–ˆìŠµë‹ˆë‹¤.', question: 'ì˜¤ì„¸ì•„ë‹ˆì•„ì˜ íŠ¹ì§•ì€?', answers: [{ text: 'â‘  ìˆ˜ë§ì€ ì„¬ìœ¼ë¡œ êµ¬ì„±', correct: true }, { text: 'â‘¡ ê±°ëŒ€í•œ ëŒ€ë¥™', correct: false }, { text: 'â‘¢ ì‚¬ë§‰ ì§€ì—­', correct: false }, { text: 'â‘£ ê³ ì‚° ì§€ëŒ€', correct: false }] },
      20: { title: 'ì§€ë¦¬ 20', region: 'í˜¸ì£¼', emoji: 'ğŸ¦˜', text: 'í˜¸ì£¼ëŠ” ì„¸ê³„ì—ì„œ ê°€ì¥ ê±´ì¡°í•œ ëŒ€ë¥™ ì¤‘ í•˜ë‚˜ë¡œ, ë‚´ë¥™ì— ê´‘ëŒ€í•œ ì‚¬ë§‰ì´ ë¶„í¬í•©ë‹ˆë‹¤. ë…íŠ¹í•œ ë™ì‹ë¬¼ì´ ì„œì‹í•˜ë©° ê´‘ë¬¼ìì›ì´ í’ë¶€í•©ë‹ˆë‹¤.', question: 'í˜¸ì£¼ ëŒ€ë¥™ì˜ íŠ¹ì§•ì€?', answers: [{ text: 'â‘  ê±´ì¡°í•œ ê¸°í›„ì™€ ì‚¬ë§‰', correct: true }, { text: 'â‘¡ ì—´ëŒ€ìš°ë¦¼', correct: false }, { text: 'â‘¢ ë¹™í•˜ ì§€í˜•', correct: false }, { text: 'â‘£ ë†’ì€ ì‚°ë§¥', correct: false }] }
    };

    let currentLocation = null;
    let completedLocations = new Set();

    // ê¹ƒë°œ í´ë¦­ ì´ë²¤íŠ¸
    document.querySelectorAll('.flag').forEach(flag => {
      flag.addEventListener('click', function() {
        if (this.classList.contains('locked')) {
          alert('ì´ì „ ì§€ì—­ì„ ë¨¼ì € ì™„ë£Œí•´ì£¼ì„¸ìš”!');
          return;
        }

        const locationId = parseInt(this.dataset.location);
        openModal(locationId);
      });
    });

    function openModal(locationId) {
      currentLocation = locationId;
      const data = geoData[locationId];

      document.getElementById('modalTitle').textContent = data.title;
      document.getElementById('modalBadge').textContent = data.region;
      document.getElementById('modalImage').textContent = data.emoji;
      document.getElementById('modalText').textContent = data.text;
      document.getElementById('questionText').textContent = data.question;

      // ë‹µë³€ ë²„íŠ¼ ìƒì„±
      const optionsContainer = document.getElementById('answerOptions');
      optionsContainer.innerHTML = '';

      data.answers.forEach((answer, index) => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        btn.textContent = answer.text;
        btn.onclick = () => checkAnswer(index);
        optionsContainer.appendChild(btn);
      });

      document.getElementById('completeBtn').disabled = true;
      document.getElementById('modal').classList.add('show');
    }

    function closeModal() {
      document.getElementById('modal').classList.remove('show');
      currentLocation = null;
    }

    function checkAnswer(index) {
      const data = geoData[currentLocation];
      const buttons = document.querySelectorAll('.answer-btn');

      buttons.forEach((btn, i) => {
        btn.disabled = true;
        if (data.answers[i].correct) {
          btn.classList.add('correct');
        } else if (i === index && !data.answers[i].correct) {
          btn.classList.add('wrong');
        }
      });

      if (data.answers[index].correct) {
        document.getElementById('completeBtn').disabled = false;
      } else {
        setTimeout(() => {
          buttons.forEach(btn => {
            btn.disabled = false;
            btn.classList.remove('wrong');
          });
        }, 1500);
      }
    }

    function completeLocation() {
      completedLocations.add(currentLocation);

      // í˜„ì¬ ê¹ƒë°œì„ ì™„ë£Œë¡œ í‘œì‹œ
      const flagEl = document.getElementById(`flag${currentLocation}`);
      flagEl.classList.add('completed');

      // ë‹¤ìŒ ê¹ƒë°œ ì ê¸ˆ í•´ì œ
      const nextLocation = currentLocation + 1;
      if (nextLocation <= 20) {
        const nextEl = document.getElementById(`flag${nextLocation}`);
        nextEl.classList.remove('locked');
      }

      // ì§„í–‰ë„ ì—…ë°ì´íŠ¸
      updateProgress();

      // ëª¨ë‹¬ ë‹«ê¸°
      closeModal();

      // ëª¨ë“  ì§€ì—­ ì™„ë£Œ ì‹œ ì¶•í•˜ ëª¨ë‹¬
      if (completedLocations.size === 20) {
        setTimeout(() => {
          document.getElementById('celebration').classList.add('show');

          // ëª¨ë“  ì§€ì—­ ì™„ë£Œ ì‹œ menu.htmlì— ì•Œë¦¼
          if (window.parent && window.parent !== window) {
            window.parent.postMessage({
              type: 'UNIT_COMPLETED',
              completedLocations: 20
            }, window.location.origin);
          }
        }, 500);
      }
    }

    function updateProgress() {
      const completed = completedLocations.size;
      const total = 20;
      const percentage = (completed / total) * 100;

      document.getElementById('progressText').textContent = `${completed}/${total} ì™„ë£Œ`;
      document.getElementById('progressBarFill').style.width = `${percentage}%`;
    }

    function closeCelebration() {
      document.getElementById('celebration').classList.remove('show');
    }
  </script>
</body>
</html>
