<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë‹¨ë‹¨ ì–´íœ˜ë ¥ í€´ì¦ˆì‡¼</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      position: relative;
    }

    /* ë°°ê²½ ì• ë‹ˆë©”ì´ì…˜ */
    .bg-animation {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 0;
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.2); }
    }

    /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
    .container {
      position: relative;
      z-index: 10;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    /* ìƒë‹¨ í—¤ë” */
    .header {
      width: 100%;
      max-width: 1200px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .logo {
      font-size: 32px;
      font-weight: 900;
      color: #fff;
      text-shadow: 0 4px 8px rgba(0,0,0,0.3);
      animation: logoGlow 2s ease-in-out infinite;
    }

    @keyframes logoGlow {
      0%, 100% { text-shadow: 0 4px 8px rgba(0,0,0,0.3), 0 0 20px rgba(255,255,255,0.3); }
      50% { text-shadow: 0 4px 8px rgba(0,0,0,0.3), 0 0 40px rgba(255,255,255,0.6); }
    }

    .score-board {
      display: flex;
      gap: 30px;
      align-items: center;
    }

    .score-item {
      text-align: center;
      background: rgba(255,255,255,0.2);
      padding: 10px 20px;
      border-radius: 12px;
      backdrop-filter: blur(10px);
    }

    .score-label {
      font-size: 12px;
      color: rgba(255,255,255,0.8);
      margin-bottom: 4px;
    }

    .score-value {
      font-size: 28px;
      font-weight: 900;
      color: #fff;
      text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    /* í€´ì¦ˆ ì¹´ë“œ */
    .quiz-card {
      background: #fff;
      border-radius: 24px;
      padding: 50px;
      max-width: 900px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      margin-bottom: 30px;
      animation: cardSlideIn 0.5s ease;
    }

    @keyframes cardSlideIn {
      from {
        transform: translateY(50px) scale(0.9);
        opacity: 0;
      }
      to {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
    }

    .question-number {
      font-size: 18px;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .difficulty-badge {
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
    }

    .difficulty-easy {
      background: #d4edda;
      color: #155724;
    }

    .difficulty-medium {
      background: #fff3cd;
      color: #856404;
    }

    .difficulty-hard {
      background: #f8d7da;
      color: #721c24;
    }

    .timer {
      margin-left: auto;
      font-size: 24px;
      font-weight: 900;
      color: #ff6b6b;
      animation: timerPulse 1s infinite;
    }

    @keyframes timerPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .question-text {
      font-size: 28px;
      font-weight: 700;
      line-height: 1.6;
      color: #2c3e50;
      margin-bottom: 20px;
      text-align: center;
    }

    .word-highlight {
      color: #667eea;
      background: linear-gradient(transparent 60%, #ffd93d 60%);
      padding: 0 8px;
      font-size: 36px;
      font-weight: 900;
    }

    .question-hint {
      font-size: 16px;
      color: #666;
      text-align: center;
      margin-bottom: 30px;
      font-style: italic;
    }

    /* ì„ íƒì§€ */
    .choices {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .choice-btn {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border: 3px solid #e0e0e0;
      border-radius: 16px;
      padding: 25px;
      font-size: 20px;
      font-weight: 600;
      color: #2c3e50;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .choice-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
      transition: left 0.5s ease;
    }

    .choice-btn:hover::before {
      left: 100%;
    }

    .choice-btn:hover {
      transform: translateY(-5px) scale(1.02);
      border-color: #667eea;
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    }

    .choice-btn.selected {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      border-color: #667eea;
      animation: choiceSelect 0.3s ease;
    }

    @keyframes choiceSelect {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .choice-btn.correct {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      color: #fff;
      border-color: #11998e;
      animation: correctBounce 0.6s ease;
    }

    @keyframes correctBounce {
      0%, 100% { transform: scale(1); }
      25% { transform: scale(1.1); }
      50% { transform: scale(0.95); }
      75% { transform: scale(1.05); }
    }

    .choice-btn.wrong {
      background: linear-gradient(135deg, #ee0979 0%, #ff6a00 100%);
      color: #fff;
      border-color: #ee0979;
      animation: wrongShake 0.5s ease;
    }

    @keyframes wrongShake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }

    .choice-btn:disabled {
      cursor: not-allowed;
    }

    .choice-number {
      display: inline-block;
      width: 32px;
      height: 32px;
      background: rgba(0,0,0,0.1);
      border-radius: 50%;
      text-align: center;
      line-height: 32px;
      font-weight: 900;
      margin-right: 12px;
    }

    /* ì„¤ëª… íŒ¨ë„ */
    .explanation {
      display: none;
      margin-top: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 12px;
      border-left: 4px solid #667eea;
    }

    .explanation.show {
      display: block;
      animation: slideDown 0.5s ease;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .explanation-title {
      font-size: 18px;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 10px;
    }

    .explanation-text {
      font-size: 16px;
      line-height: 1.6;
      color: #555;
    }

    .example-sentence {
      margin-top: 10px;
      padding: 10px;
      background: #fff;
      border-radius: 8px;
      font-style: italic;
      color: #666;
    }

    /* ë‹¤ìŒ ë²„íŠ¼ */
    .next-btn {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: #fff;
      border: none;
      border-radius: 50px;
      padding: 18px 60px;
      font-size: 20px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(245, 87, 108, 0.4);
      transition: all 0.3s ease;
      display: none;
    }

    .next-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(245, 87, 108, 0.5);
    }

    .next-btn.show {
      display: inline-block;
      animation: btnAppear 0.5s ease;
    }

    @keyframes btnAppear {
      from {
        opacity: 0;
        transform: scale(0.8);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* ê²°ê³¼ í™”ë©´ */
    .result-screen {
      display: none;
      background: #fff;
      border-radius: 24px;
      padding: 60px;
      max-width: 700px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      text-align: center;
      animation: resultAppear 0.8s ease;
    }

    .result-screen.show {
      display: block;
    }

    @keyframes resultAppear {
      from {
        opacity: 0;
        transform: scale(0.8) rotate(-5deg);
      }
      to {
        opacity: 1;
        transform: scale(1) rotate(0);
      }
    }

    .result-emoji {
      font-size: 120px;
      margin-bottom: 20px;
      animation: emojiFloat 2s ease-in-out infinite;
    }

    @keyframes emojiFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    .result-title {
      font-size: 42px;
      font-weight: 900;
      color: #667eea;
      margin-bottom: 10px;
    }

    .result-score {
      font-size: 32px;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 30px;
    }

    .result-message {
      font-size: 18px;
      color: #666;
      line-height: 1.8;
      margin-bottom: 40px;
    }

    .result-stats {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-bottom: 40px;
    }

    .stat-item {
      text-align: center;
    }

    .stat-value {
      font-size: 36px;
      font-weight: 900;
      color: #667eea;
    }

    .stat-label {
      font-size: 14px;
      color: #666;
      margin-top: 5px;
    }

    .restart-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      border: none;
      border-radius: 50px;
      padding: 18px 60px;
      font-size: 20px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
      transition: all 0.3s ease;
    }

    .restart-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5);
    }

    /* í­ì£½ íš¨ê³¼ */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #f0f;
      position: absolute;
      animation: confettiFall 3s linear forwards;
    }

    @keyframes confettiFall {
      to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* ì •ë‹µ/ì˜¤ë‹µ í”¼ë“œë°± */
    .feedback {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 120px;
      font-weight: 900;
      z-index: 1000;
      animation: feedbackPop 0.6s ease;
    }

    .feedback.show {
      display: block;
    }

    @keyframes feedbackPop {
      0% { transform: translate(-50%, -50%) scale(0); }
      50% { transform: translate(-50%, -50%) scale(1.2); }
      100% { transform: translate(-50%, -50%) scale(1); }
    }

    .feedback.correct {
      color: #38ef7d;
      text-shadow: 0 0 20px rgba(56, 239, 125, 0.5);
    }

    .feedback.wrong {
      color: #ff6a00;
      text-shadow: 0 0 20px rgba(255, 106, 0, 0.5);
    }
  </style>
</head>
<body>
  <!-- ë°°ê²½ ì• ë‹ˆë©”ì´ì…˜ -->
  <div class="bg-animation" id="bgAnimation"></div>

  <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
  <div class="container">
    <!-- í—¤ë” -->
    <div class="header">
      <div class="logo">ì–´íœ˜ë ¥ í€´ì¦ˆì‡¼ ğŸ“š</div>
      <div class="score-board">
        <div class="score-item">
          <div class="score-label">ë¬¸ì œ</div>
          <div class="score-value"><span id="currentQuestion">1</span>/15</div>
        </div>
        <div class="score-item">
          <div class="score-label">ì ìˆ˜</div>
          <div class="score-value" id="score">0</div>
        </div>
      </div>
    </div>

    <!-- í€´ì¦ˆ ì¹´ë“œ -->
    <div class="quiz-card" id="quizCard">
      <div class="question-number">
        <span id="questionLabel">Question 1</span>
        <span class="difficulty-badge difficulty-easy" id="difficultyBadge">ì‰¬ì›€</span>
        <div class="timer" id="timer">20</div>
      </div>
      <div class="question-text" id="questionText">
        <span class="word-highlight">ë‹¨ì–´</span>ì˜ ëœ»ì€?
      </div>
      <div class="question-hint" id="questionHint">íŒíŠ¸ê°€ ì—¬ê¸° í‘œì‹œë©ë‹ˆë‹¤</div>
      <div class="choices" id="choices"></div>

      <div class="explanation" id="explanation">
        <div class="explanation-title">í•´ì„¤</div>
        <div class="explanation-text" id="explanationText"></div>
        <div class="example-sentence" id="exampleSentence"></div>
      </div>
    </div>

    <!-- ë‹¤ìŒ ë²„íŠ¼ -->
    <button class="next-btn" id="nextBtn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ</button>

    <!-- ê²°ê³¼ í™”ë©´ -->
    <div class="result-screen" id="resultScreen">
      <div class="result-emoji" id="resultEmoji">ğŸ†</div>
      <div class="result-title" id="resultTitle">ì–´íœ˜ë ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!</div>
      <div class="result-score">
        ìµœì¢… ì ìˆ˜: <span id="finalScore">0</span>ì  / 150ì 
      </div>
      <div class="result-stats">
        <div class="stat-item">
          <div class="stat-value" id="correctCount">0</div>
          <div class="stat-label">ì •ë‹µ</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="wrongCount">0</div>
          <div class="stat-label">ì˜¤ë‹µ</div>
        </div>
      </div>
      <div class="result-message" id="resultMessage">
        ì–´íœ˜ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤!
      </div>
      <button class="restart-btn" onclick="restartQuiz()">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
    </div>
  </div>

  <!-- í”¼ë“œë°± -->
  <div class="feedback" id="feedback">O</div>

  <script>
    // ì–´íœ˜ í€´ì¦ˆ ë°ì´í„°
    const quizData = [
      {
        word: 'ë‚™ê´€ì ',
        question: '<span class="word-highlight">ë‚™ê´€ì </span>ì˜ ëœ»ì€?',
        hint: 'ë°˜ëŒ“ë§: ë¹„ê´€ì ',
        choices: [
          'ì•ì¼ì„ ì¢‹ê²Œ ë³´ëŠ”',
          'ì•ì¼ì„ ë‚˜ì˜ê²Œ ë³´ëŠ”',
          'ê³¼ê±°ë¥¼ íšŒìƒí•˜ëŠ”',
          'í˜„ì¬ì— ì¶©ì‹¤í•œ'
        ],
        correct: 0,
        difficulty: 'easy',
        explanation: '"ë‚™ê´€ì "ì€ ì•ì¼ì„ ë°ê³  í¬ë§ì ìœ¼ë¡œ ë³´ëŠ” íƒœë„ë¥¼ ë§í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ê·¸ëŠ” ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ í•­ìƒ ë‚™ê´€ì ì¸ íƒœë„ë¥¼ ìœ ì§€í–ˆë‹¤.'
      },
      {
        word: 'ê´€ëŒ€í•˜ë‹¤',
        question: '<span class="word-highlight">ê´€ëŒ€í•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ë‚¨ì˜ ì˜ëª»ì„ ëŒ€í•˜ëŠ” íƒœë„',
        choices: [
          'ì—„ê²©í•˜ê²Œ ëŒ€í•˜ë‹¤',
          'ë„ˆê·¸ëŸ½ê²Œ ëŒ€í•˜ë‹¤',
          'ë¬´ê´€ì‹¬í•˜ê²Œ ëŒ€í•˜ë‹¤',
          'ë¹„ë‚œí•˜ë‹¤'
        ],
        correct: 1,
        difficulty: 'easy',
        explanation: '"ê´€ëŒ€í•˜ë‹¤"ëŠ” ë‚¨ì˜ ì˜ëª»ì´ë‚˜ í—ˆë¬¼ì„ ë„ˆê·¸ëŸ½ê²Œ ë°›ì•„ë“¤ì´ê³  ìš©ì„œí•˜ëŠ” íƒœë„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ì„ ìƒë‹˜ì€ í•™ìƒë“¤ì˜ ì‹¤ìˆ˜ì— ê´€ëŒ€í•œ í¸ì´ì‹œë‹¤.'
      },
      {
        word: 'ì„¬ì„¸í•˜ë‹¤',
        question: '<span class="word-highlight">ì„¬ì„¸í•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ì‘ì—…ì´ë‚˜ í‘œí˜„ì˜ ì •ë„',
        choices: [
          'ëŒ€ì¶© ë§Œë“¤ì–´ì§„',
          'í¬ê³  ê°•í•œ',
          'ê°€ëŠ˜ê³  ì •êµí•œ',
          'ë‹¨ìˆœí•˜ê³  íˆ¬ë°•í•œ'
        ],
        correct: 2,
        difficulty: 'easy',
        explanation: '"ì„¬ì„¸í•˜ë‹¤"ëŠ” ê°€ëŠ˜ê³  ì •êµí•˜ë©° ì„¸ë°€í•œ ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ê·¸ë…€ì˜ ì†ë†€ë¦¼ì€ ë§¤ìš° ì„¬ì„¸í•˜ì—¬ ì•„ë¦„ë‹¤ìš´ ììˆ˜ë¥¼ ë§Œë“¤ì–´ëƒˆë‹¤.'
      },
      {
        word: 'ë§ì„¤ì´ë‹¤',
        question: '<span class="word-highlight">ë§ì„¤ì´ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ê²°ì •ì„ ë‚´ë¦¬ê¸° ì–´ë ¤ìš¸ ë•Œ',
        choices: [
          'ë¹¨ë¦¬ ê²°ì •í•˜ë‹¤',
          'ë‹¨í˜¸í•˜ê²Œ í–‰ë™í•˜ë‹¤',
          'ê²°ì •ì„ ëª» ë‚´ë¦¬ë‹¤',
          'ê³„íšì„ ì„¸ìš°ë‹¤'
        ],
        correct: 2,
        difficulty: 'easy',
        explanation: '"ë§ì„¤ì´ë‹¤"ëŠ” ì–´ë–»ê²Œ í• ì§€ ê²°ì •í•˜ì§€ ëª»í•˜ê³  ì£¼ì €í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ê·¸ëŠ” ê°ˆë¦¼ê¸¸ ì•ì—ì„œ ì–´ëŠ ê¸¸ë¡œ ê°ˆì§€ ë§ì„¤ì˜€ë‹¤.'
      },
      {
        word: 'ë¶€ì§€ëŸ°í•˜ë‹¤',
        question: '<span class="word-highlight">ë¶€ì§€ëŸ°í•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ì¼í•˜ëŠ” íƒœë„',
        choices: [
          'ê²Œìœ¼ë¥´ë‹¤',
          'ëŠë¦¬ê²Œ ì¼í•˜ë‹¤',
          'ì—´ì‹¬íˆ ì¼í•˜ë‹¤',
          'ì‰¬ì§€ ì•Šë‹¤'
        ],
        correct: 2,
        difficulty: 'easy',
        explanation: '"ë¶€ì§€ëŸ°í•˜ë‹¤"ëŠ” ì¼ì„ ì—´ì‹¬íˆ í•˜ê³  ê²Œìœ¼ë¥´ì§€ ì•Šì€ íƒœë„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ë¶€ì§€ëŸ°í•œ ë†ë¶€ëŠ” ìƒˆë²½ë¶€í„° ë°­ì¼ì„ ì‹œì‘í–ˆë‹¤.'
      },
      {
        word: 'ê²¸ì†í•˜ë‹¤',
        question: '<span class="word-highlight">ê²¸ì†í•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ìì‹ ì„ ë‚®ì¶”ëŠ” íƒœë„',
        choices: [
          'ìë‘í•˜ë‹¤',
          'ìì‹ ì„ ë‚®ì¶”ë‹¤',
          'ë½ë‚´ë‹¤',
          'ë¬´ì‹œí•˜ë‹¤'
        ],
        correct: 1,
        difficulty: 'medium',
        explanation: '"ê²¸ì†í•˜ë‹¤"ëŠ” ìê¸° ìì‹ ì„ ë‚´ì„¸ìš°ì§€ ì•Šê³  ê²¸í—ˆí•œ íƒœë„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ë›°ì–´ë‚œ ì‹¤ë ¥ì„ ê°€ì¡ŒìŒì—ë„ ê·¸ëŠ” í•­ìƒ ê²¸ì†í•œ íƒœë„ë¥¼ ë³´ì˜€ë‹¤.'
      },
      {
        word: 'ëª¨í˜¸í•˜ë‹¤',
        question: '<span class="word-highlight">ëª¨í˜¸í•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ë¶„ëª…í•˜ì§€ ì•Šì€',
        choices: [
          'ëª…í™•í•˜ë‹¤',
          'ë¶ˆë¶„ëª…í•˜ë‹¤',
          'í™•ì‹¤í•˜ë‹¤',
          'ì •í™•í•˜ë‹¤'
        ],
        correct: 1,
        difficulty: 'medium',
        explanation: '"ëª¨í˜¸í•˜ë‹¤"ëŠ” ë¶„ëª…í•˜ì§€ ì•Šê³  ì• ë§¤í•œ ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ê·¸ì˜ ëŒ€ë‹µì€ ë„ˆë¬´ ëª¨í˜¸í•´ì„œ ë¬´ìŠ¨ ëœ»ì¸ì§€ ì•Œ ìˆ˜ ì—†ì—ˆë‹¤.'
      },
      {
        word: 'ì ˆì‹¤í•˜ë‹¤',
        question: '<span class="word-highlight">ì ˆì‹¤í•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'í•„ìš”ì˜ ì •ë„',
        choices: [
          'ë³„ë¡œ í•„ìš” ì—†ë‹¤',
          'ë§¤ìš° í•„ìš”í•˜ë‹¤',
          'ê°€ë” í•„ìš”í•˜ë‹¤',
          'ì „í˜€ í•„ìš” ì—†ë‹¤'
        ],
        correct: 1,
        difficulty: 'medium',
        explanation: '"ì ˆì‹¤í•˜ë‹¤"ëŠ” ë§¤ìš° ê°„ì ˆí•˜ê³  í•„ìš”í•¨ì´ í° ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ê°€ë­„ì´ ê³„ì†ë˜ì ë†ë¶€ë“¤ì€ ë¹„ì˜ í•„ìš”ì„±ì„ ì ˆì‹¤íˆ ëŠê¼ˆë‹¤.'
      },
      {
        word: 'ì‹¬ê°í•˜ë‹¤',
        question: '<span class="word-highlight">ì‹¬ê°í•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ìƒí™©ì˜ ì •ë„',
        choices: [
          'ê°€ë³ë‹¤',
          'ì¤‘ëŒ€í•˜ë‹¤',
          'í‰ë²”í•˜ë‹¤',
          'ì¬ë¯¸ìˆë‹¤'
        ],
        correct: 1,
        difficulty: 'medium',
        explanation: '"ì‹¬ê°í•˜ë‹¤"ëŠ” ìƒí™©ì´ë‚˜ ë¬¸ì œê°€ ì¤‘ëŒ€í•˜ê³  ê¹Šì´ ìƒê°í•´ì•¼ í•  ì •ë„ë¡œ ì¤‘ìš”í•œ ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: í™˜ê²½ ì˜¤ì—¼ ë¬¸ì œëŠ” ë§¤ìš° ì‹¬ê°í•œ ìˆ˜ì¤€ì— ì´ë¥´ë €ë‹¤.'
      },
      {
        word: 'ì—„ê²©í•˜ë‹¤',
        question: '<span class="word-highlight">ì—„ê²©í•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ê·œì¹™ì„ ëŒ€í•˜ëŠ” íƒœë„',
        choices: [
          'ëŠìŠ¨í•˜ë‹¤',
          'ì—„í•˜ê³  ê¹Œë‹¤ë¡­ë‹¤',
          'ììœ ë¡­ë‹¤',
          'í¸ì•ˆí•˜ë‹¤'
        ],
        correct: 1,
        difficulty: 'medium',
        explanation: '"ì—„ê²©í•˜ë‹¤"ëŠ” ê·œì¹™ì´ë‚˜ ê¸°ì¤€ì´ ì—„í•˜ê³  ì—„ë°€í•œ ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ìš°ë¦¬ í•™êµëŠ” ë³µì¥ ê·œì •ì´ ë§¤ìš° ì—„ê²©í•˜ë‹¤.'
      },
      {
        word: 'ë¹ˆë²ˆí•˜ë‹¤',
        question: '<span class="word-highlight">ë¹ˆë²ˆí•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ì¼ì–´ë‚˜ëŠ” íšŸìˆ˜',
        choices: [
          'ë“œë¬¼ë‹¤',
          'ìì£¼ ì¼ì–´ë‚˜ë‹¤',
          'í•œ ë²ˆë„ ì—†ë‹¤',
          'ê°€ë” ì¼ì–´ë‚˜ë‹¤'
        ],
        correct: 1,
        difficulty: 'hard',
        explanation: '"ë¹ˆë²ˆí•˜ë‹¤"ëŠ” ì–´ë–¤ ì¼ì´ ìì£¼ ì¼ì–´ë‚˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ì´ ì§€ì—­ì€ ì§€ì§„ì´ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•œë‹¤.'
      },
      {
        word: 'ëª…ë£Œí•˜ë‹¤',
        question: '<span class="word-highlight">ëª…ë£Œí•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ë§ì´ë‚˜ ê¸€ì˜ íŠ¹ì§•',
        choices: [
          'ì• ë§¤í•˜ë‹¤',
          'ë³µì¡í•˜ë‹¤',
          'ë¶„ëª…í•˜ë‹¤',
          'ì–´ë µë‹¤'
        ],
        correct: 2,
        difficulty: 'hard',
        explanation: '"ëª…ë£Œí•˜ë‹¤"ëŠ” ë§ì´ë‚˜ ëœ»ì´ ë¶„ëª…í•˜ê³  ë˜‘ë˜‘í•œ ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ê·¸ì˜ ì„¤ëª…ì€ ëª…ë£Œí•´ì„œ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤.'
      },
      {
        word: 'ìˆœìˆ˜í•˜ë‹¤',
        question: '<span class="word-highlight">ìˆœìˆ˜í•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'ë§ˆìŒì˜ ìƒíƒœ',
        choices: [
          'ë³µì¡í•˜ë‹¤',
          'ê¹¨ë—í•˜ê³  ê¾¸ë°ˆì—†ë‹¤',
          'ê³„ì‚°ì ì´ë‹¤',
          'ì˜ì‹¬ì´ ë§ë‹¤'
        ],
        correct: 1,
        difficulty: 'hard',
        explanation: '"ìˆœìˆ˜í•˜ë‹¤"ëŠ” ì„ì´ì§€ ì•Šê³  ê¹¨ë—í•˜ë©° ê¾¸ë°ˆì—†ì´ ì§„ì‹¤í•œ ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ì•„ì´ë“¤ì˜ ìˆœìˆ˜í•œ ë¯¸ì†ŒëŠ” ë³´ëŠ” ì´ì˜ ë§ˆìŒì„ ë”°ëœ»í•˜ê²Œ í•œë‹¤.'
      },
      {
        word: 'ì†Œê·¹ì ',
        question: '<span class="word-highlight">ì†Œê·¹ì </span>ì˜ ëœ»ì€?',
        hint: 'ë°˜ëŒ“ë§: ì ê·¹ì ',
        choices: [
          'ì ê·¹ì ì´ë‹¤',
          'í™œë°œí•˜ë‹¤',
          'ì£¼ì €í•˜ê³  ë¬¼ëŸ¬ì„œë‹¤',
          'ê³¼ê°í•˜ë‹¤'
        ],
        correct: 2,
        difficulty: 'hard',
        explanation: '"ì†Œê·¹ì "ì€ ì¼ì— ì ê·¹ì ìœ¼ë¡œ ë‚˜ì„œì§€ ì•Šê³  ë¬¼ëŸ¬ì„œëŠ” íƒœë„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ê·¸ëŠ” íšŒì˜ ì‹œê°„ì— í•­ìƒ ì†Œê·¹ì ì¸ íƒœë„ë¥¼ ë³´ì˜€ë‹¤.'
      },
      {
        word: 'ì‹ ì¤‘í•˜ë‹¤',
        question: '<span class="word-highlight">ì‹ ì¤‘í•˜ë‹¤</span>ì˜ ëœ»ì€?',
        hint: 'í–‰ë™í•  ë•Œì˜ íƒœë„',
        choices: [
          'ê²½ì†”í•˜ë‹¤',
          'ì¡°ì‹¬ìŠ¤ëŸ½ë‹¤',
          'ì¶©ë™ì ì´ë‹¤',
          'ëŒ€ì¶©í•˜ë‹¤'
        ],
        correct: 1,
        difficulty: 'hard',
        explanation: '"ì‹ ì¤‘í•˜ë‹¤"ëŠ” ë§ì´ë‚˜ í–‰ë™ì„ ì¡°ì‹¬ìŠ¤ëŸ½ê³  ê¹Šì´ ìƒê°í•˜ë©° í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
        example: 'ì˜ˆë¬¸: ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë¦´ ë•ŒëŠ” ì‹ ì¤‘í•˜ê²Œ íŒë‹¨í•´ì•¼ í•œë‹¤.'
      }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let correctAnswers = 0;
    let wrongAnswers = 0;
    let selectedAnswer = null;
    let timerInterval = null;
    let timeLeft = 20;

    // ë°°ê²½ ë³„ ìƒì„±
    function createStars() {
      const bgAnimation = document.getElementById('bgAnimation');
      for (let i = 0; i < 50; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.width = Math.random() * 3 + 'px';
        star.style.height = star.style.width;
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 3 + 's';
        bgAnimation.appendChild(star);
      }
    }

    // íƒ€ì´ë¨¸ ì‹œì‘
    function startTimer() {
      timeLeft = 20;
      document.getElementById('timer').textContent = timeLeft;

      timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById('timer').textContent = timeLeft;

        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          showFeedback(false);
          disableChoices();
          wrongAnswers++;
          showExplanation();
          setTimeout(() => {
            nextQuestion();
          }, 3000);
        }
      }, 1000);
    }

    // ë¬¸ì œ ë¡œë“œ
    function loadQuestion() {
      const quiz = quizData[currentQuestionIndex];

      document.getElementById('questionLabel').textContent = `Question ${currentQuestionIndex + 1}`;
      document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
      document.getElementById('questionText').innerHTML = quiz.question;
      document.getElementById('questionHint').textContent = quiz.hint;

      // ë‚œì´ë„ ë°°ì§€
      const badge = document.getElementById('difficultyBadge');
      badge.className = 'difficulty-badge';
      if (quiz.difficulty === 'easy') {
        badge.className += ' difficulty-easy';
        badge.textContent = 'ì‰¬ì›€';
      } else if (quiz.difficulty === 'medium') {
        badge.className += ' difficulty-medium';
        badge.textContent = 'ë³´í†µ';
      } else {
        badge.className += ' difficulty-hard';
        badge.textContent = 'ì–´ë ¤ì›€';
      }

      const choicesContainer = document.getElementById('choices');
      choicesContainer.innerHTML = '';

      quiz.choices.forEach((choice, index) => {
        const btn = document.createElement('button');
        btn.className = 'choice-btn';
        btn.onclick = () => selectChoice(index);
        btn.innerHTML = `
          <span class="choice-number">${index + 1}</span>
          ${choice}
        `;
        choicesContainer.appendChild(btn);
      });

      document.getElementById('nextBtn').classList.remove('show');
      document.getElementById('explanation').classList.remove('show');
      selectedAnswer = null;

      startTimer();
    }

    // ì„ íƒì§€ ì„ íƒ
    function selectChoice(index) {
      if (selectedAnswer !== null) return;

      clearInterval(timerInterval);
      selectedAnswer = index;

      const buttons = document.querySelectorAll('.choice-btn');
      const quiz = quizData[currentQuestionIndex];

      buttons[index].classList.add('selected');

      setTimeout(() => {
        if (index === quiz.correct) {
          buttons[index].classList.remove('selected');
          buttons[index].classList.add('correct');

          // ë‚œì´ë„ë³„ ì ìˆ˜
          let points = 10;
          if (quiz.difficulty === 'medium') points = 12;
          if (quiz.difficulty === 'hard') points = 15;

          score += points;
          correctAnswers++;
          document.getElementById('score').textContent = score;
          showFeedback(true);
          createConfetti();
        } else {
          buttons[index].classList.remove('selected');
          buttons[index].classList.add('wrong');
          buttons[quiz.correct].classList.add('correct');
          wrongAnswers++;
          showFeedback(false);
        }

        disableChoices();
        showExplanation();
        document.getElementById('nextBtn').classList.add('show');
      }, 300);
    }

    // ì„¤ëª… í‘œì‹œ
    function showExplanation() {
      const quiz = quizData[currentQuestionIndex];
      document.getElementById('explanationText').textContent = quiz.explanation;
      document.getElementById('exampleSentence').textContent = quiz.example;
      document.getElementById('explanation').classList.add('show');
    }

    // ì„ íƒì§€ ë¹„í™œì„±í™”
    function disableChoices() {
      document.querySelectorAll('.choice-btn').forEach(btn => {
        btn.disabled = true;
      });
    }

    // í”¼ë“œë°± í‘œì‹œ
    function showFeedback(isCorrect) {
      const feedback = document.getElementById('feedback');
      feedback.textContent = isCorrect ? 'ì •ë‹µ!' : 'ì•„ì‰¬ì›Œìš”!';
      feedback.className = 'feedback show ' + (isCorrect ? 'correct' : 'wrong');

      setTimeout(() => {
        feedback.classList.remove('show');
      }, 1500);
    }

    // í­ì£½ íš¨ê³¼
    function createConfetti() {
      const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f093fb', '#ffd93d', '#6bcf7f'];

      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.top = '-10px';
        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 0.3 + 's';
        document.body.appendChild(confetti);

        setTimeout(() => confetti.remove(), 3000);
      }
    }

    // ë‹¤ìŒ ë¬¸ì œ
    function nextQuestion() {
      currentQuestionIndex++;

      if (currentQuestionIndex < quizData.length) {
        document.getElementById('quizCard').style.animation = 'none';
        setTimeout(() => {
          document.getElementById('quizCard').style.animation = 'cardSlideIn 0.5s ease';
          loadQuestion();
        }, 10);
      } else {
        showResult();
      }
    }

    // ê²°ê³¼ í‘œì‹œ
    function showResult() {
      clearInterval(timerInterval);
      document.getElementById('quizCard').style.display = 'none';
      document.getElementById('nextBtn').style.display = 'none';

      const resultScreen = document.getElementById('resultScreen');
      const resultEmoji = document.getElementById('resultEmoji');
      const resultTitle = document.getElementById('resultTitle');
      const resultMessage = document.getElementById('resultMessage');

      document.getElementById('finalScore').textContent = score;
      document.getElementById('correctCount').textContent = correctAnswers;
      document.getElementById('wrongCount').textContent = wrongAnswers;

      const percentage = (score / 150) * 100;

      if (percentage >= 90) {
        resultEmoji.textContent = 'ğŸ†';
        resultTitle.textContent = 'ì–´íœ˜ë ¥ ì²œì¬!';
        resultMessage.textContent = 'ì™„ë²½í•©ë‹ˆë‹¤! ë‹¹ì‹ ì˜ ì–´íœ˜ë ¥ì€ ìµœê³  ìˆ˜ì¤€ì…ë‹ˆë‹¤!';
      } else if (percentage >= 70) {
        resultEmoji.textContent = 'ğŸ‰';
        resultTitle.textContent = 'ë›°ì–´ë‚œ ì–´íœ˜ë ¥!';
        resultMessage.textContent = 'í›Œë¥­í•´ìš”! í’ë¶€í•œ ì–´íœ˜ ì‹¤ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤!';
      } else if (percentage >= 50) {
        resultEmoji.textContent = 'ğŸ‘';
        resultTitle.textContent = 'ì¢‹ì€ ì–´íœ˜ë ¥!';
        resultMessage.textContent = 'ì˜í–ˆì–´ìš”! ê¾¸ì¤€íˆ ê³µë¶€í•˜ë©´ ë” ì¢‹ì•„ì§ˆ ê±°ì˜ˆìš”!';
      } else {
        resultEmoji.textContent = 'ğŸ“š';
        resultTitle.textContent = 'ë” ê³µë¶€í•´ìš”!';
        resultMessage.textContent = 'ì–´íœ˜ ê³µë¶€ë¥¼ ë” í•˜ê³  ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”!';
      }

      resultScreen.classList.add('show');

      if (percentage >= 70) {
        createConfetti();

        // 70% ì´ìƒì´ë©´ ë‹¨ì› ì™„ë£Œë¡œ ì²˜ë¦¬í•˜ê³  menu.htmlì— ì•Œë¦¼
        if (window.parent && window.parent !== window) {
          window.parent.postMessage({
            type: 'UNIT_COMPLETED',
            score: score,
            percentage: percentage
          }, window.location.origin);
        }
      }
    }

    // í€´ì¦ˆ ì¬ì‹œì‘
    function restartQuiz() {
      currentQuestionIndex = 0;
      score = 0;
      correctAnswers = 0;
      wrongAnswers = 0;
      selectedAnswer = null;

      document.getElementById('score').textContent = score;
      document.getElementById('resultScreen').classList.remove('show');
      document.getElementById('quizCard').style.display = 'block';

      loadQuestion();
    }

    // ì´ˆê¸°í™”
    createStars();
    loadQuestion();
  </script>
</body>
</html>
