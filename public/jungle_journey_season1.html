<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🌴 깊은 정글의 잊힌 도시를 찾아서</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 지도 캔버스 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_main.jpg);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    #map-canvas {
      display: none;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 550px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #27ae60 0%, #1e8449 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 16px;
    }

    .story-card h2 {
      font-size: 28px;
      color: #1a1a1a;
      font-weight: 700;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      line-height: 1.4;
      text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
    }

    .story-card .emoji {
      font-size: 40px;
    }

    .story-card .story-text {
      font-size: 16px;
      line-height: 1.9;
      color: #1a1a1a;
      font-weight: 500;
      margin-bottom: 24px;
      white-space: pre-line;
      max-height: 400px;
      overflow-y: auto;
      padding-right: 10px;
    }

    .story-card .story-text::-webkit-scrollbar {
      width: 6px;
    }

    .story-card .story-text::-webkit-scrollbar-thumb {
      background: #27ae60;
      border-radius: 3px;
    }

    /* 시작 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
    }

    .intro-content {
      pointer-events: auto;
    }

    .intro-content h1 {
      font-size: 42px;
      color: #2c3e50;
      margin-bottom: 16px;
      line-height: 1.4;
    }

    .intro-content .subtitle {
      font-size: 18px;
      color: #7f8c8d;
      margin-bottom: 32px;
      line-height: 1.8;
    }

    .intro-content .scroll-hint {
      font-size: 24px;
      color: #ffffff;
      font-weight: 700;
      text-shadow:
        0 0 10px rgba(0, 0, 0, 0.8),
        0 0 20px rgba(0, 0, 0, 0.6),
        2px 2px 4px rgba(0, 0, 0, 0.9);
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* 뒤로가기 버튼 */
    .back-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border: none;
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      z-index: 1000;
      pointer-events: auto;
    }

    .back-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    /* 진행 표시 */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 4px;
      background: linear-gradient(90deg, #27ae60 0%, #1e8449 100%);
      z-index: 1001;
      transition: width 0.3s ease;
    }

    /* 챕터 표시 */
    .chapter-indicator {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      color: #2c3e50;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      pointer-events: none;
    }

    /* 반응형 */
    @media (max-width: 768px) {
      .story-section {
        padding: 20px;
        justify-content: center;
      }
      .story-card {
        max-width: 100%;
        padding: 30px 25px;
      }
      .intro-content {
        padding: 40px 30px;
      }
      .intro-content h1 {
        font-size: 32px;
      }
      .chapter-indicator {
        top: 70px;
        right: 20px;
        font-size: 12px;
        padding: 8px 16px;
      }
    }
  </style>
</head>
<body>
  <!-- 진행 바 -->
  <div class="progress-bar" id="progress-bar"></div>

  <!-- 맨위로가기 버튼 -->
  <button class="back-btn" onclick="scrollToTop()">↑ 맨위로가기</button>

  <!-- 챕터 표시 -->
  <div class="chapter-indicator" id="chapter-indicator">
    🌴 시작하기
  </div>

  <!-- 고정 지도 -->
  <div id="map-container">
    <canvas id="map-canvas"></canvas>
  </div>

  <!-- 스크롤 콘텐츠 -->
  <div id="content">
    <!-- 인트로 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🌴 깊은 정글의 잊힌 도시를 찾아서</h1>
        <p class="subtitle">
          시즌1 - 정글 속 신비한 모험<br>
          라온과 친구들의 모험이 시작됩니다
        </p>
        <p class="scroll-hint">↓ 아래로 스크롤 해주세요 ↓</p>
      </div>
    </section>

    <!-- PART 1 -->
    <section class="story-section" data-step="0" data-chapter="Part 1. 정글 속에서 들려온 이상한 바람 소리">
      <div class="story-card">
        <div class="chapter">Part 1 of 10</div>
        <h2>
          <span class="emoji">🌿</span>
          정글 속에서 들려온 이상한 바람 소리
        </h2>
        <div class="story-text">꼬마 탐험가 라온은 방과 후 집으로 가는 대신 학교 뒤편의 울창한 숲길을 천천히 걷고 있었다. 평소에도 자연을 좋아하던 라온에게 이 숲길은 비밀스러운 놀이터 같은 곳이었다. 그날도 여느 때처럼 나뭇잎 사이로 스며드는 햇살을 느끼며 걷던 중, 갑자기 이상한 소리가 라온의 귀에 들려왔다.

"휘이이—… 으으—…"

바람 소리 같기도 하고, 마치 누군가가 깊은 숨을 내쉬며 라온을 부르는 것 같기도 했다. 라온은 소리가 들려오는 방향으로 조심스럽게 발걸음을 옮겼다. 그러자 커다란 고목 뒤편에서 희미하게 빛나는 초록색 문양이 눈에 들어왔다. 문양은 동그라미 안에 나뭇잎 세 개가 겹쳐진 모양이었다.

라온의 눈이 휘둥그레졌다. "저건… 도서관 책에서만 보던 '잊힌 도시'의 표식이잖아? 전설 속에만 있다던 그 도시가 정말 존재한다는 거야?"

라온의 가슴이 두근두근 빠르게 뛰기 시작했다. 이건 분명 평범한 하루가 아니었다.</div>
      </div>
    </section>

    <!-- PART 2 -->
    <section class="story-section" data-step="1" data-chapter="Part 2. 탐험 멤버 모집하기">
      <div class="story-card">
        <div class="chapter">Part 2 of 10</div>
        <h2>
          <span class="emoji">👥</span>
          탐험 멤버 모집하기
        </h2>
        <div class="story-text">라온은 심장이 터질 것 같은 흥분을 안고 단짝 친구 두 명에게 급히 달려갔다. 하리는 책을 많이 읽어 아는 것이 많은 친구였고, 준오는 운동을 좋아해 힘이 세고 용감한 친구였다. 라온은 숨을 헐떡이며 방금 본 것을 설명했다.

"정말 그 문양을 직접 봤다고? 나뭇잎 세 개가 겹쳐진 그 문양?" 준오가 눈을 반짝이며 흥분해서 외쳤다. "그건 전설 속에 나오는 잊힌 도시로 가는 길표야! 정글 깊은 곳에 고대 문명의 도시가 숨겨져 있다는 그 이야기 말이야!"

하지만 하리는 신중한 표정을 지으며 걱정스럽게 말했다. "잠깐, 정글 안쪽은 정말 위험해. 독이 있는 식물도 있고, 무서운 동물도 있대. 길도 험하고 쉽게 미아가 될 수도 있어. 만약 간다면 준비를 철저하게 해야 해."

세 친구는 하리네 집 마당에 모여 앉아 오래된 정글 지도를 펼쳐놓았다. 그리고 진지한 표정으로 작은 탐험 모임을 결성했다. 모험이 시작되려 하고 있었다.</div>
      </div>
    </section>

    <!-- PART 3 -->
    <section class="story-section" data-step="2" data-chapter="Part 3. 정글 입구에서 만난 첫 수수께끼">
      <div class="story-card">
        <div class="chapter">Part 3 of 10</div>
        <h2>
          <span class="emoji">🗿</span>
          정글 입구에서 만난 첫 수수께끼
        </h2>
        <div class="story-text">다음 날 이른 아침, 세 친구는 각자 준비물을 챙겨 마을 외곽의 숲 입구에서 다시 만났다. 라온은 손전등과 나침반을, 하리는 응급약과 물을, 준오는 밧줄과 간식을 가져왔다. 완벽한 팀워크였다.

숲 입구 근처에는 이끼가 잔뜩 낀 오래된 바위문이 서 있었다. 마치 수백 년 동안 아무도 건드리지 않은 것처럼 보였다. 바위문 위쪽에는 고대 문자로 보이는 글귀가 새겨져 있었다.

"스스로 여는 자만이 길을 얻는다."

세 친구는 서로를 바라보았다. 라온이 깊은 숨을 들이쉬고 용기를 내어 바위에 손을 대보았다. 그 순간, 어제 보았던 것과 같은 초록색 문양이 바위 표면에서 은은하게 빛나기 시작했다. 그리고 천천히, 아주 천천히 무거운 바위문이 양쪽으로 열렸다.

"우리가… 정말로 문을 연 거야!" 준오가 놀라서 소리쳤다.

문 안쪽에서 정글 특유의 축축하고 신비로운 냄새가 바람에 실려 친구들의 얼굴을 스쳤다. 진짜 모험이 시작되는 순간이었다.</div>
      </div>
    </section>

    <!-- PART 4 -->
    <section class="story-section" data-step="3" data-chapter="Part 4. 살아 움직이는 식물의 길">
      <div class="story-card">
        <div class="chapter">Part 4 of 10</div>
        <h2>
          <span class="emoji">🌺</span>
          살아 움직이는 식물의 길
        </h2>
        <div class="story-text">바위문을 통과해 정글 안쪽으로 걸어 들어가자 주변이 급격히 어두워졌다. 하늘을 뒤덮은 거대한 나뭇잎들이 햇빛을 거의 다 가려버렸기 때문이다. 나뭇잎과 덩굴들이 서로 엉켜서 마치 살아 있는 벽처럼 친구들을 빙 둘러싸고 있었다. 숲 속 공기는 습하고 무거웠다.

하리가 가방에서 손전등을 꺼내 켜며 조심스럽게 말했다. "이 길 좀 이상하지 않아? 마치 누군가 일부러 숨겨둔 비밀 통로 같은 느낌이야. 자연적으로 이렇게 될 수가 없을 것 같은데."

세 친구가 긴장하며 주위를 살피고 있을 때, 갑자기 발밑에서 작은 덩굴 하나가 파르르 떨리기 시작했다. 그러더니 마치 안내자처럼 한 방향으로 천천히 움직였다. 동시에 양옆의 나뭇잎 벽이 흔들리면서 숨겨져 있던 길이 모습을 드러냈다.

"저것 봐! 덩굴이 움직여!" 준오가 놀라서 외쳤다.

라온은 눈을 반짝이며 속삭였다. "이 식물들이 우리를 어디론가 안내하려는 것 같아. 따라가 보자."</div>
      </div>
    </section>

    <!-- PART 5 -->
    <section class="story-section" data-step="4" data-chapter="Part 5. 정글의 수호자 '그로아'와의 만남">
      <div class="story-card">
        <div class="chapter">Part 5 of 10</div>
        <h2>
          <span class="emoji">🌳</span>
          정글의 수호자 '그로아'와의 만남
        </h2>
        <div class="story-text">덩굴을 따라 한참을 걸어가자 숲이 조금씩 밝아지는 지점에 도착했다. 나무들 사이로 햇살이 비쳐 들어오는 작은 공터였다. 그런데 공터 한가운데 서 있는 거대한 나무 한 그루가 이상했다. 나무의 표면이 마치 얼굴처럼 보였던 것이다. 눈, 코, 입 같은 모양이 나무껍질에 새겨져 있었다.

세 친구가 놀라서 바라보고 있을 때, 갑자기 그 나무가 눈을 뜬 듯 움직이기 시작했다! 나무껍질로 된 입술이 천천히 열리면서 깊고 울림 있는 목소리가 흘러나왔다.

"누… 누구냐. 이곳은 사람의 발길이 닿아서는 안 되는 신성한 길이다. 어찌 여기까지 들어왔느냐?"

하리가 책에서 읽은 것을 떠올렸다. "저건… 정글의 수호자 그로아야! 전설에 나오는 그 나무 정령!"

라온이 무서움을 꾹 참고 한 발짝 앞으로 나서며 용기 있게 말했다. "수호자님, 우리는 도시를 파괴하거나 해치려는 게 아니에요. 단지 잊힌 도시의 진실을 알고 싶을 뿐이에요. 제발 믿어주세요."

그로아는 한참 동안 아이들의 맑은 눈빛을 깊이 들여다보았다. 그리고 천천히 고개를 끄덕였다. "좋다… 그 진심이 느껴진다. 그렇다면 너희에게 시험을 주겠다."</div>
      </div>
    </section>

    <!-- PART 6 -->
    <section class="story-section" data-step="5" data-chapter="Part 6. 첫 번째 시험: 정글의 균형 맞추기">
      <div class="story-card">
        <div class="chapter">Part 6 of 10</div>
        <h2>
          <span class="emoji">⚖️</span>
          첫 번째 시험: 정글의 균형 맞추기
        </h2>
        <div class="story-text">그로아는 아이들을 숲 깊숙한 곳에 있는 작은 공터로 안내했다. 그곳은 신기하게도 정확히 반으로 나뉘어 있었다. 왼쪽은 물이 넘쳐흘러 웅덩이가 가득했고, 오른쪽은 바싹 말라 갈라진 땅이 펼쳐져 있었다. 두 지역의 경계선에는 시들어가는 꽃들이 힘없이 고개를 숙이고 있었다.

그로아가 낮고 울림 있는 목소리로 말했다. "정글은 항상 균형 속에서 생명을 유지한다. 물이 너무 많아도, 너무 적어도 안 되지. 너희가 이 균형을 되찾을 수 있겠느냐?"

세 친구는 서로 얼굴을 마주보며 고민했다. 준오가 먼저 행동에 나섰다. "물이 넘치는 쪽에서 마른 쪽으로 길을 내면 되지 않을까?" 준오는 힘차게 돌들을 옮기기 시작했다. 하리는 주변을 살피며 물길의 방향을 계산했고, 라온은 작은 돌멩이로 물이 고르게 퍼지도록 작은 둑을 만들었다.

땀을 흘리며 한참을 일한 끝에, 넘치던 물이 마른 땅으로 조금씩 스며들기 시작했다. 시들었던 꽃들이 서서히 고개를 들어올렸고, 갈라졌던 땅에서 새싹이 움트기 시작했다.

그로아는 만족스러운 미소를 지었다. "훌륭하구나. 혼자가 아닌 함께 힘을 모아 문제를 해결했어. 첫 번째 시험은 통과다."</div>
      </div>
    </section>

    <!-- PART 7 -->
    <section class="story-section" data-step="6" data-chapter="Part 7. 숨겨진 길을 여는 빛의 열쇠">
      <div class="story-card">
        <div class="chapter">Part 7 of 10</div>
        <h2>
          <span class="emoji">🔑</span>
          숨겨진 길을 여는 빛의 열쇠
        </h2>
        <div class="story-text">첫 번째 시험을 통과하자 그로아는 자신의 나무껍질 손에서 무언가를 꺼내 아이들에게 건넸다. 그것은 손바닥만 한 크기의 초록빛 구슬이었다. 구슬 안에는 작은 나뭇잎 모양의 빛이 천천히 돌고 있었다.

"이것은 '숲의 열쇠'라 불리는 것이다. 잊힌 도시로 들어가는 마지막 문을 열 수 있는 유일한 열쇠이지. 그러나 열쇠를 갖고 있다고 해서 모두가 문을 열 수 있는 것은 아니다. 진정한 마음을 가진 자만이 열쇠의 진짜 힘을 깨울 수 있느니라."

라온이 조심스럽게 구슬을 두 손으로 받아 들었다. 그 순간, 구슬 안에서 희미한 빛줄기가 뻗어 나오더니 공중에 작은 지도 형상을 그렸다. 정글의 나무들과 강, 그리고 깊은 곳에 있는 거대한 문의 위치가 또렷이 보였다.

"와, 이건 홀로그램 지도 같아!" 하리가 눈을 동그랗게 뜨며 감탄했다.

"정글 안쪽 더 깊은 곳에 또 다른 문이 있나 봐!" 준오가 신나서 말했다.

세 친구는 구슬이 보여주는 지도를 따라 정글 더 깊숙한 곳으로 조심스럽게 발걸음을 옮겼다. 얼마 후, 거대한 바위벽이 나타났고, 그 틈 사이로 구슬과 똑같은 초록빛이 새어 나오고 있었다.</div>
      </div>
    </section>

    <!-- PART 8 -->
    <section class="story-section" data-step="7" data-chapter="Part 8. 두 번째 시험: 어둠의 미로">
      <div class="story-card">
        <div class="chapter">Part 8 of 10</div>
        <h2>
          <span class="emoji">🌀</span>
          두 번째 시험: 어둠의 미로
        </h2>
        <div class="story-text">초록빛이 새어 나오는 바위 틈새를 비집고 들어가자, 세 친구 앞에 거대한 미로가 펼쳐졌다. 천장도 보이지 않을 만큼 높은 돌벽들이 사방으로 뻗어 있었고, 어디서도 빛이 들어오지 않아 손에 든 구슬만이 유일한 광원이었다.

"여기가 두 번째 시험인가 봐." 하리가 벽을 살피며 말했다. 벽 곳곳에는 비슷하게 생긴 문양들이 새겨져 있었다. 동그라미 안에 나뭇잎이 있는 문양, 세모 안에 물방울이 있는 문양, 네모 안에 불꽃이 있는 문양… 모두 열두 개나 되었다.

"이 중에서 진짜를 찾아야 하는 거 아닐까?" 준오가 추측했다.

라온은 손에 든 구슬을 하나씩 문양 가까이 가져가 보았다. 대부분의 문양 앞에서는 아무 반응이 없었지만, 한 문양 앞에 다가가자 구슬이 따뜻해지면서 더 밝게 빛나기 시작했다. 그것은 동그라미 안에 세 개의 나뭇잎이 겹쳐진 문양이었다. 처음 라온이 숲에서 발견했던 바로 그 문양!

라온은 확신을 갖고 그 문양 위에 손을 올려놓았다. 그 순간, 미로 전체가 쿠르르 소리를 내며 흔들리기 시작했다. 막혀 있던 벽들이 옆으로 밀려나고, 복잡하던 미로가 하나의 직선 길로 바뀌었다.

"성공이야! 라온이 해냈어!" 하리와 준오가 환호했다.</div>
      </div>
    </section>

    <!-- PART 9 -->
    <section class="story-section" data-step="8" data-chapter="Part 9. 잊힌 도시의 문 앞에서">
      <div class="story-card">
        <div class="chapter">Part 9 of 10</div>
        <h2>
          <span class="emoji">🚪</span>
          잊힌 도시의 문 앞에서
        </h2>
        <div class="story-text">미로가 열어준 길을 따라 한참을 걸어가자, 마침내 세 친구 앞에 상상도 못 했던 광경이 펼쳐졌다. 정글 한가운데 우뚝 서 있는 거대한 나무문이었다. 문은 살아있는 나무로 만들어진 것처럼 보였고, 표면에는 정교한 조각들이 가득했다. 숲의 동물들, 나무들, 그리고 고대 사람들의 모습이 생생하게 새겨져 있었다.

문 정중앙에는 손바닥 크기의 둥근 홈이 파여 있었다. 오랜 세월 동안 비어 있었는지, 홈 주변의 나무껍질은 색이 바래 있었다.

"저기에 구슬을 넣으면 되는 걸까?" 하리가 조심스럽게 물었다.

라온은 고개를 끄덕이고 천천히 구슬을 홈에 가져다 대었다. 구슬이 홈에 딱 맞게 들어가는 순간—

촤아아악—!

엄청난 소리와 함께 초록빛이 문 전체로 퍼져나갔다. 수백 년 동안 잠들어 있던 문양들이 하나씩 빛나기 시작하더니, 무거운 나무문이 천천히, 아주 천천히 양쪽으로 열렸다. 문 안쪽에서 따뜻하고 황금빛이 도는 빛이 세 친구의 얼굴을 비추었다.

"여기가… 진짜로 잊힌 도시란 말이야…?" 준오가 숨을 삼키며 말했다.

세 친구의 심장이 쿵쾅쿵쾅 뛰기 시작했다.</div>
      </div>
    </section>

    <!-- PART 10 -->
    <section class="story-section" data-step="9" data-chapter="Part 10. 빛으로 깨어나는 잊힌 도시">
      <div class="story-card">
        <div class="chapter">Part 10 of 10</div>
        <h2>
          <span class="emoji">✨</span>
          빛으로 깨어나는 잊힌 도시
        </h2>
        <div class="story-text">문을 통과해 안으로 들어서는 순간, 세 친구는 말을 잃었다. 눈앞에 펼쳐진 것은 상상 그 이상이었다. 거대한 석조 건물들이 정글 식물에 반쯤 뒤덮인 채 줄지어 서 있었다. 피라미드처럼 생긴 건물, 둥근 돔 지붕을 가진 건물, 하늘 높이 솟은 탑… 모두 수백 년, 아니 수천 년은 되어 보이는 고대 문명의 흔적이었다.

그 순간, 라온의 손에서 구슬이 스르륵 떠오르더니 하늘 높이 날아올랐다. 구슬은 도시 한가운데서 멈추더니, 눈부신 초록빛을 사방으로 뿜어냈다. 마치 태양처럼 도시 전체를 환하게 비추기 시작했다.

그러자 놀라운 일이 벌어졌다. 잠들어 있던 건물들 사이에서, 나무 뒤에서, 돌틈 사이에서 작은 빛들이 하나둘 피어나기 시작했다. 빛들은 점점 형체를 갖추더니 숲의 영혼들로 모습을 드러냈다.

"…수백 년 만이로구나…" 한 영혼이 속삭이듯 말했다. "누가 우리를 깨웠는가… 순수한 마음을 가진 자들이 드디어 이곳을 찾아왔구나…"

라온과 하리, 준오는 서로를 바라보며 조용히 손을 맞잡았다. 라온이 두 친구를 보며 작게 속삭였다.

"이제부터가 진짜 모험의 시작이야. 우리 함께 이 도시의 비밀을 밝혀보자."</div>
      </div>
    </section>

    <!-- 엔딩 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🎉 시즌1 모험 완료!</h1>
        <p class="subtitle">
          라온과 친구들의 정글 모험 시즌 1이 끝났어요.<br>
          다음 시즌2 이야기가 궁금하신가요?
        </p>
        <button class="back-btn" onclick="goToSeason2Quiz()" style="position: static; margin-top: 20px;">
          🚪 시즌2 관문으로 이동
        </button>
      </div>
    </section>
  </div>

  <script>
    console.log('🚀 정글 스토리 스크립트 시작');

    // 스크롤 이벤트
    function handleScroll() {
      const scrollPercent = window.scrollY / (document.body.scrollHeight - window.innerHeight);
      document.getElementById('progress-bar').style.width = (scrollPercent * 100) + '%';

      // 인트로 섹션 체크
      const introSection = document.querySelector('.intro-section');
      const introRect = introSection.getBoundingClientRect();

      // 인트로 섹션이 화면에 있으면 main 이미지 유지
      if (introRect.bottom > window.innerHeight * 0.3) {
        const mapContainer = document.getElementById('map-container');
        const mainBg = 'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_main.jpg)';
        if (mapContainer.style.backgroundImage !== mainBg) {
          mapContainer.style.backgroundImage = mainBg;
        }
        document.getElementById('chapter-indicator').textContent = '🌴 시작하기';
        return;
      }

      const sections = document.querySelectorAll('.story-section');
      const backgroundImages = [
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_part1.jpg)',   // Part 1
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_part2.jpg)',   // Part 2
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_part3.jpg)',   // Part 3
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_part4.jpg)',   // Part 4
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_part5.jpg)',   // Part 5
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_part6.jpg)',   // Part 6
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_part7.jpg)',   // Part 7
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_part8.jpg)',   // Part 8
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_part9.jpg)',   // Part 9
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s1_part10.jpg)'   // Part 10
      ];

      // 화면 중앙에 가장 가까운 섹션 찾기
      let closestSection = null;
      let closestDistance = Infinity;
      let closestIndex = -1;

      sections.forEach((section, index) => {
        const rect = section.getBoundingClientRect();
        const card = section.querySelector('.story-card');

        // 화면 중앙까지의 거리 계산
        const sectionCenter = rect.top + rect.height / 2;
        const screenCenter = window.innerHeight / 2;
        const distance = Math.abs(sectionCenter - screenCenter);

        // 가장 가까운 섹션 찾기
        if (distance < closestDistance) {
          closestDistance = distance;
          closestSection = section;
          closestIndex = index;
        }

        // 활성화 상태 업데이트
        if (rect.top < window.innerHeight * 0.6 && rect.bottom > window.innerHeight * 0.4) {
          card.classList.add('active');
        } else {
          card.classList.remove('active');
        }
      });

      // 가장 가까운 섹션의 배경 이미지 적용
      if (closestSection && closestIndex >= 0) {
        const chapterName = closestSection.dataset.chapter;
        document.getElementById('chapter-indicator').textContent = `🌴 ${chapterName}`;

        const currentBg = backgroundImages[closestIndex];
        const mapContainer = document.getElementById('map-container');

        // 현재 배경과 다르면 변경
        if (mapContainer.style.backgroundImage !== currentBg) {
          mapContainer.style.backgroundImage = currentBg;
        }
      }
    }

    // 초기화
    window.addEventListener('scroll', handleScroll);
    handleScroll();

    // 맨위로 스크롤 (부드럽게)
    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // 시즌2 관문으로 이동
    function goToSeason2Quiz() {
      window.location.href = '/jungle_season2_quiz.html';
    }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') scrollToTop();
    });

    console.log('✅ 정글 스토리 스크립트 초기화 완료');
  </script>
</body>
</html>
