<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🌴 깊은 정글 시즌2 - 잊힌 도시에서 깨어난 것들</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 지도 캔버스 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_main.jpg);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    #map-canvas {
      display: none;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 550px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #27ae60 0%, #1e8449 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 16px;
    }

    .story-card h2 {
      font-size: 28px;
      color: #1a1a1a;
      font-weight: 700;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      line-height: 1.4;
      text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
    }

    .story-card .emoji {
      font-size: 40px;
    }

    .story-card .story-text {
      font-size: 16px;
      line-height: 1.9;
      color: #1a1a1a;
      font-weight: 500;
      margin-bottom: 24px;
      white-space: pre-line;
      max-height: 400px;
      overflow-y: auto;
      padding-right: 10px;
    }

    .story-card .story-text::-webkit-scrollbar {
      width: 6px;
    }

    .story-card .story-text::-webkit-scrollbar-thumb {
      background: #27ae60;
      border-radius: 3px;
    }

    /* 시작 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
    }

    .intro-content {
      pointer-events: auto;
    }

    .intro-content h1 {
      font-size: 42px;
      color: #2c3e50;
      margin-bottom: 16px;
      line-height: 1.4;
    }

    .intro-content .subtitle {
      font-size: 18px;
      color: #7f8c8d;
      margin-bottom: 32px;
      line-height: 1.8;
    }

    .intro-content .scroll-hint {
      font-size: 24px;
      color: #ffffff;
      font-weight: 700;
      text-shadow:
        0 0 10px rgba(0, 0, 0, 0.8),
        0 0 20px rgba(0, 0, 0, 0.6),
        2px 2px 4px rgba(0, 0, 0, 0.9);
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* 뒤로가기 버튼 */
    .back-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border: none;
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      z-index: 1000;
      pointer-events: auto;
    }

    .back-btn:hover {
      background: #27ae60;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
    }

    /* 챕터 인디케이터 */
    .chapter-indicator {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 12px 24px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      color: #27ae60;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      pointer-events: none;
    }

    /* 프로그레스 바 */
    .progress-bar-container {
      position: fixed;
      top: 70px;
      right: 20px;
      width: 200px;
      height: 8px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 10px;
      overflow: hidden;
      z-index: 1000;
      pointer-events: none;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #27ae60 0%, #1e8449 100%);
      border-radius: 10px;
      width: 0%;
      transition: width 0.3s ease;
    }

    /* 반응형 */
    @media (max-width: 768px) {
      .story-section {
        padding: 40px 20px;
      }
      .story-card {
        max-width: 100%;
        padding: 30px 24px;
      }
      .story-card h2 {
        font-size: 24px;
      }
      .story-card .story-text {
        font-size: 15px;
      }
      .intro-content h1 {
        font-size: 32px;
      }
      .chapter-indicator,
      .progress-bar-container {
        display: none;
      }
    }
  </style>
</head>
<body>
  <button class="back-btn" onclick="window.history.back()">← 돌아가기</button>
  <div class="chapter-indicator" id="chapter-indicator">🌴 시즌2 시작</div>
  <div class="progress-bar-container">
    <div class="progress-bar" id="progress-bar"></div>
  </div>

  <div id="map-container">
    <canvas id="map-canvas"></canvas>
  </div>

  <div id="content">
    <!-- 시작 화면 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🌴 시즌2<br>깊은 정글의 잊힌 도시에서<br>깨어난 것들</h1>
        <p class="subtitle">
          잊힌 도시가 깨어났다.<br>
          그러나 이곳에는 숨겨진 비밀이 있다...<br><br>
          <strong>아래로 스크롤하여 이야기를 시작하세요</strong>
        </p>
        <p class="scroll-hint">↓ 스크롤 ↓</p>
      </div>
    </section>

    <!-- PART 1 -->
    <section class="story-section" data-chapter="Part 1">
      <div class="story-card">
        <div class="chapter">PART 1</div>
        <h2><span class="emoji">🌅</span> 도시의 첫 새벽, 깨어난 영혼들의 속삭임</h2>
        <div class="story-text">라온, 하리, 준오는 잊힌 도시 중앙의 넓은 광장에서 하룻밤을 보냈다. 고대 건물들 사이로 밤하늘의 별빛이 쏟아져 내렸고, 세 친구는 서로 가까이 붙어 앉아 모닥불을 피우며 밤을 지새웠다. 처음 보는 신비로운 도시에서의 첫 밤은 긴장되면서도 설레는 시간이었다.

동이 트자 희미한 황금빛 햇살이 오래된 석조 건물들 사이로 스며들기 시작했다. 그때, 전날 밤 구슬의 빛으로 깨어난 숲의 영혼들이 하나둘 모습을 드러냈다. 영혼들은 반투명한 초록빛 형체로, 어떤 것은 사람의 모습을 닮았고, 또 어떤 것은 나무나 꽃의 형태를 하고 있었다. 그들은 조용히 도시 곳곳을 떠다니며 서로에게 들릴 듯 말 듯 속삭이고 있었다.

세 친구가 숨을 죽이고 그 광경을 지켜보고 있을 때, 가장 크고 오래되어 보이는 영혼 하나가 천천히 다가왔다. 나무껍질 같은 질감의 얼굴에 이끼처럼 부드러운 수염이 달려 있었다.

"너희가 이 도시를 깨웠구나." 영혼의 목소리는 바람 소리처럼 낮고 깊었다. "그러나 이곳에는… 우리가 잠든 이유가 있다. 그 이유를 알아야만 진정으로 도시를 되살릴 수 있을 것이다."</div>
      </div>
    </section>

    <!-- PART 2 -->
    <section class="story-section" data-chapter="Part 2">
      <div class="story-card">
        <div class="chapter">PART 2</div>
        <h2><span class="emoji">📜</span> 도시의 기록관, 잊혀진 과거를 보여주다</h2>
        <div class="story-text">오래된 영혼은 아이들을 도시 중심부에 있는 거대한 건물로 안내했다. 그곳은 반쯤 무너져 있었지만, 한때는 웅장한 도서관이었음이 분명했다. 천장에 뚫린 구멍 사이로 햇빛이 쏟아져 내려와 벽면 가득 그려진 오래된 벽화들을 환하게 비추고 있었다.

벽화에는 이 도시의 역사가 그림으로 기록되어 있었다. 처음에는 사람들과 숲의 영혼들이 평화롭게 공존하는 모습이 그려져 있었다. 도시는 정글 전체의 기후와 물길, 생명의 균형을 관리하는 신성한 중심지였다. 그러나 시간이 흐르면서 그림 속 장면이 어두워지기 시작했다. 사람들이 욕심을 내어 정글의 힘을 함부로 사용하는 모습, 숲이 점점 시들어가는 모습, 그리고 마지막에는 거대한 빛이 도시를 감싸며 봉인하는 모습이 그려져 있었다.

라온은 무거운 마음으로 물었다. "그럼 우리가 이 도시를 깨운 게… 혹시 잘못된 일이었나요?"

영혼은 천천히 고개를 저었다. "아니다. 숲이 너무 오래 잠들어 있으면 오히려 정글 전체가 위험해진다. 지금은 균형을 되찾아야 할 때다. 도시가 스스로 깨어난 것은 바로 그 증거란다."</div>
      </div>
    </section>

    <!-- PART 3 -->
    <section class="story-section" data-chapter="Part 3">
      <div class="story-card">
        <div class="chapter">PART 3</div>
        <h2><span class="emoji">⚙️</span> 고대 장치가 숨겨진 비밀의 방</h2>
        <div class="story-text">영혼은 아이들을 도서관 안쪽 숨겨진 계단으로 안내했다. 돌계단을 따라 지하로 내려가자 거대한 둥근 방이 나타났다. 방 한가운데에는 믿을 수 없을 만큼 정교한 원형 장치가 놓여 있었다. 장치의 바닥에는 정글 전체의 지형이 입체적으로 새겨져 있었고, 강과 호수, 산맥과 숲의 위치가 섬세하게 표현되어 있었다.

장치 중앙에는 피라미드처럼 생긴 돌 구조물이 솟아 있었고, 그 주변으로 네 갈래의 빛나는 홈이 동서남북 방향으로 뻗어 있었다. 각 홈에는 물, 바람, 식물, 빛을 상징하는 문양이 새겨져 있었다.

영혼이 장중한 목소리로 설명했다. "이것은 '정글의 심장'이라 불리는 장치다. 정글 전체의 기후, 바람의 흐름, 물길의 방향, 식물의 성장까지 모든 것이 이 장치와 연결되어 있지. 수천 년 동안 이 장치가 정글의 균형을 지켜왔단다."

하리가 경이로운 눈으로 장치를 살피며 물었다. "그러니까… 이 장치가 고장 나서 숲이 위험해졌다는 말인가요?"

영혼은 고개를 가로저었다. "정확히 말하면, 장치가 스스로를 지키기 위해 잠들어버린 것이다. 과거 사람들이 장치를 잘못 다루어 균형이 흐트러지자, 장치가 정글 전체를 보호하기 위해 봉인한 것이지."</div>
      </div>
    </section>

    <!-- PART 4 -->
    <section class="story-section" data-chapter="Part 4">
      <div class="story-card">
        <div class="chapter">PART 4</div>
        <h2><span class="emoji">🌪️</span> 정글 전체가 흔들리기 시작하다</h2>
        <div class="story-text">장치 주변을 꼼꼼히 살피던 준오가 갑자기 큰 소리로 외쳤다. "여기 봐! 이쪽 홈에 금이 가 있어! 빛이 새어 나오고 있는데, 여기가 문제인 것 같아!"

세 친구가 준오 곁으로 달려가는 순간, 갑자기 도시 전체가 '우우웅—' 하는 깊은 울림과 함께 흔들리기 시작했다. 땅이 진동하고, 천장에서 작은 돌조각들이 떨어져 내렸다. 아이들은 서로를 붙잡고 균형을 잡으려 애썼다.

진동이 잠시 멈추자 아이들은 계단을 뛰어올라 밖을 살펴보았다. 눈앞에 펼쳐진 광경은 충격적이었다. 정글의 나무들이 비정상적으로 빠르게 자라고 있었다. 어떤 나무는 순식간에 수십 미터까지 치솟았다가 갑자기 시들어버렸고, 다른 곳에서는 작은 폭풍 같은 바람이 회오리치며 나뭇잎들을 휩쓸고 있었다. 균형이 무너지고 있다는 명백한 징후였다.

영혼의 얼굴에 처음으로 두려움 같은 것이 스쳤다. "이대로라면 정글 전체가 스스로를 폐쇄하려 할 것이다. 한 번 완전히 폐쇄되면 다시는 되돌릴 수 없어. 너희의 손이 필요하다. 장치를 수리해야만 한다!"</div>
      </div>
    </section>

    <!-- PART 5 -->
    <section class="story-section" data-chapter="Part 5">
      <div class="story-card">
        <div class="chapter">PART 5</div>
        <h2><span class="emoji">💧</span> 첫 번째 퍼즐: 물길의 조화</h2>
        <div class="story-text">세 친구는 서둘러 다시 지하 장치실로 내려갔다. 영혼은 첫 번째 홈을 가리켰다. 푸른빛이 도는 그 홈에는 '물길'이라는 문양이 새겨져 있었다. 홈 안에는 투명한 수정 구체들이 열 개 정도 있었는데, 모두 엉킨 실타래처럼 복잡하게 얽혀 제자리에서 굳어버린 상태였다.

라온은 구체들을 자세히 살펴보았다. 각 구체 안에는 작은 물줄기 모양이 새겨져 있었고, 마치 퍼즐 조각처럼 연결되어야 할 것 같았다. "이거… 물길을 다시 연결해야 하는 거 아닐까?" 라온이 조심스럽게 첫 번째 구체를 움직이자 '찰칵' 하는 소리와 함께 옆 구체와 맞물렸다.

하리와 준오도 함께 도와 하나씩 구체들을 올바른 위치로 옮겼다. 마지막 구체가 제자리를 찾는 순간, 장치 위에 새겨진 강줄기 모형에서 맑은 물이 실제로 흐르기 시작했다! 물은 산에서 시작해 평원을 지나 바다로 흘러가는 자연스러운 경로를 따라 움직였다.

영혼이 감탄하며 말했다. "대단하구나! 너희는 도시의 언어를 이해할 수 있어."

라온은 살짝 웃으며 대답했다. "언어가 아니라… 그냥 퍼즐 같았어요." 하지만 마음 한편에서는 설명하기 어려운 친숙함이 느껴졌다.</div>
      </div>
    </section>

    <!-- PART 6 -->
    <section class="story-section" data-chapter="Part 6">
      <div class="story-card">
        <div class="chapter">PART 6</div>
        <h2><span class="emoji">💨</span> 두 번째 퍼즐: 바람의 길을 찾다</h2>
        <div class="story-text">물길을 수리한 세 친구는 두 번째 홈으로 이동했다. 이번에는 은빛으로 빛나는 '바람 영역'이었다. 홈 안에는 날개 모양의 돌 조각들이 수십 개나 엉켜 있었다. 조각들이 서로 엇갈린 방향으로 놓여 있어서 바람이 전혀 통하지 않는 상태였다.

준오가 조각 위에 손을 올려놓자 미세한 바람결이 느껴졌다. "여기! 바람이 흐르려고 해. 하지만 조각들이 막고 있어." 준오는 체육을 좋아하는 만큼 바람의 흐름을 읽는 데 감각이 있었다.

준오는 첫 번째 조각을 돌려 바람이 지나갈 틈을 만들었다. "이렇게 하면 바람이 여기로 들어와서…" 그가 다음 조각의 방향을 바꾸자 하리가 옆에서 도와 나머지 조각들을 맞추기 시작했다. 조각들이 '딱딱' 소리를 내며 제자리를 찾아갔다.

마지막 조각이 맞춰지는 순간, 홈 전체에서 시원한 바람이 '휘이잉' 하고 불어 나왔다. 장치 위에 새겨진 미니어처 나무들이 마치 살아있는 것처럼 부드럽게 흔들리기 시작했고, 방 안 전체로 상쾌한 숲 냄새가 퍼졌다.

"두 번째 성공이야!" 하리가 환하게 웃었다.</div>
      </div>
    </section>

    <!-- PART 7 -->
    <section class="story-section" data-chapter="Part 7">
      <div class="story-card">
        <div class="chapter">PART 7</div>
        <h2><span class="emoji">🌱</span> 세 번째 퍼즐: 식물의 숨을 살리다</h2>
        <div class="story-text">세 번째 홈은 초록빛으로 은은하게 빛나고 있었다. '식물의 숨'이라는 문양 아래에는 다양한 형태의 돌 조각들이 무질서하게 놓여 있었다. 씨앗 모양, 새싹 모양, 줄기 모양, 잎 모양, 그리고 꽃 모양까지 다섯 종류의 조각이 각각 여러 개씩 섞여 있었다.

라온은 한참 동안 조각들을 살펴보다가 무릎을 탁 쳤다. "알았다! 이건 식물의 성장 순서야! 씨앗이 먼저 있어야 새싹이 나고, 새싹이 자라야 줄기가 되고, 줄기에서 잎이 나고, 마지막에 꽃이 피잖아!"

세 친구는 조각들을 성장 순서대로 원을 그리며 배치하기 시작했다. 씨앗에서 시작해 새싹, 줄기, 잎을 거쳐 꽃으로 이어지는 생명의 순환을 완성했다. 마지막 꽃 조각이 첫 번째 씨앗 조각과 연결되어 원이 완성되는 순간!

장치 전체가 눈부신 초록빛을 내뿜으며 웅장하게 울리기 시작했다. 홈 위에 있던 미니어처 숲에서 작은 꽃들이 피어나고, 나뭇잎들이 생기를 되찾았다.

영혼이 감격에 찬 목소리로 말했다. "정글이 다시 숨을 쉬기 시작했구나! 이제 한 가지만 남았다."</div>
      </div>
    </section>

    <!-- PART 8 -->
    <section class="story-section" data-chapter="Part 8">
      <div class="story-card">
        <div class="chapter">PART 8</div>
        <h2><span class="emoji">⚖️</span> 도시가 숨긴 마지막 문제, 균형의 중심</h2>
        <div class="story-text">물, 바람, 식물의 세 홈이 모두 복구되자 방 안에 변화가 일어났다. 장치 중앙에 있던 피라미드 구조물이 천천히 열리기 시작했다. 돌판이 옆으로 밀려나면서 가장 깊숙한 곳에 숨겨져 있던 네 번째 홈이 모습을 드러냈다.

네 번째 홈은 다른 홈들과 달랐다. 황금빛과 검은빛이 서로 얽혀 있는 복잡한 문양이 새겨져 있었다. 빛과 그림자, 낮과 밤, 삶과 죽음이 하나로 어우러진 듯한 신비로운 형상이었다. 이 문양 주변으로 다른 세 홈의 기운이 모두 흘러들어오고 있었다.

영혼의 표정이 심각해졌다. "여기가 진짜 문제다. 이 문양은 '조화'를 상징한다. 물, 바람, 식물이 아무리 완벽하게 작동해도 중심인 이 조화의 문양이 흔들리면 결국 전체가 무너지고 만다. 과거에 사람들이 바로 이 조화를 깨뜨렸던 것이야."

세 친구는 걱정스러운 눈으로 서로를 바라보았다. 이 문양에는 퍼즐 조각이나 수정 구체 같은 것이 보이지 않았다. 라온이 조심스럽게 물었다. "그럼… 이건 어떻게 해야 하는 거예요?"</div>
      </div>
    </section>

    <!-- PART 9 -->
    <section class="story-section" data-chapter="Part 9">
      <div class="story-card">
        <div class="chapter">PART 9</div>
        <h2><span class="emoji">💫</span> 마음을 비추는 시련</h2>
        <div class="story-text">영혼이 침묵하자 라온이 용기를 내어 조화의 문양을 향해 손을 뻗었다. 손끝이 문양에 닿으려는 찰나, 갑자기 주변이 어두워지면서 세 친구 각자에게 환영 같은 장면이 펼쳐졌다.

라온은 자신이 가장 두려워하는 장면을 보았다. 잘못된 결정을 내려서 하리와 준오가 위험에 빠지는 모습이었다. 모든 것이 자기 탓이라는 죄책감이 밀려왔다. 하리는 무언가에 도전하려다 실패하고, 모두에게 비웃음을 당하는 장면을 보았다. 실패가 두려워 아무것도 시도하지 못하는 자신의 모습이 너무나 초라해 보였다. 준오는 친구들을 돕고 싶지만 아무 도움도 되지 못하고 짐만 되는 모습을 보았다.

세 친구 모두 각자의 두려움 속에서 떨고 있었다. 하지만 그 순간, 라온이 어둠 속에서 손을 뻗었다. "하리! 준오! 어디 있어?" 하리와 준오도 본능적으로 손을 뻗어 서로를 찾았다. 마침내 세 개의 손이 어둠 속에서 만나 꽉 붙잡혔다.

"우린 혼자가 아니야." 라온이 말했다. "함께라면 괜찮아." 하리가 덧붙였다. "뭐든 해낼 수 있어." 준오가 힘차게 외쳤다.

그 말이 끝나는 순간, 환영이 연기처럼 사라지고 조화의 문양이 부드러운 황금빛으로 빛나기 시작했다.</div>
      </div>
    </section>

    <!-- PART 10 -->
    <section class="story-section" data-chapter="Part 10">
      <div class="story-card">
        <div class="chapter">PART 10</div>
        <h2><span class="emoji">✨</span> 정글의 균형이 회복되다</h2>
        <div class="story-text">조화의 문양이 완전히 빛나자 네 개의 홈 전체가 환하게 밝아졌다. 물, 바람, 식물, 그리고 조화의 기운이 하나로 합쳐지면서 장치 중앙에서 눈부신 초록빛 기둥이 솟아올랐다. 그 빛은 천장을 뚫고 하늘로 뻗어 나가 도시 전체를 감쌌다.

세 친구가 계단을 올라 밖으로 나오자 놀라운 광경이 펼쳐졌다. 아까까지만 해도 미친 듯이 자라고 시들던 나무들이 이제는 평화롭게 바람에 흔들리고 있었다. 회오리바람도 잦아들었고, 정글 전체가 마치 깊은 잠에서 깨어난 것처럼 생기를 되찾고 있었다.

도시 곳곳에서 숲의 영혼들이 하나둘 떠올라 아이들 주위로 모여들었다. 그들은 빙글빙글 돌며 감사의 인사를 전했다. "너희는 잊힌 도시의 진짜 의미를 깨웠다. 정글은 이제 다시 살아갈 수 있게 되었구나."

도시 광장에 평화로운 바람이 불었다. 하지만 라온의 표정은 완전히 밝지만은 않았다. "하지만… 아직 끝난 게 아니에요. 처음에 누군가 이 균형을 깨뜨렸다고 하셨잖아요? 그 원인을 해결하지 않으면 또 같은 일이 일어날 수도 있지 않나요?"

가장 오래된 영혼이 의미심장한 표정을 지었다. "현명하구나. 맞다. 그 흔적은… 정글의 가장 깊고 어두운 곳, '암녹림(暗綠林)'이라 불리는 곳에서 발견되었다. 그곳의 비밀을 풀어야만 정글은 진정으로 안전해질 것이다."

세 친구는 굳은 표정으로 서로를 바라보았다. 새로운 모험이 시작되려 하고 있었다.</div>
      </div>
    </section>

    <!-- 엔딩 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🎉 시즌2 완료!</h1>
        <p class="subtitle">
          정글의 균형이 회복되었습니다.<br>
          그러나 암녹림의 비밀이 남아있습니다...<br><br>
          <strong>시즌3에서 계속됩니다</strong>
        </p>
        <button class="back-btn" onclick="goToSeason3Quiz()" style="position: static; margin-top: 20px; background: linear-gradient(135deg, #27ae60 0%, #1e8449 100%); color: white;">
          🚪 시즌3 관문으로 이동
        </button>
        <button class="back-btn" onclick="goToMain()" style="position: static; margin-top: 10px;">
          🏠 메인으로 돌아가기
        </button>
      </div>
    </section>
  </div>

  <script>
    console.log('🚀 정글 시즌2 스크립트 시작');

    // 스크롤 핸들러
    function handleScroll() {
      // 인트로 섹션 처리
      const introSection = document.querySelector('.intro-section');
      if (introSection) {
        const introRect = introSection.getBoundingClientRect();
        if (introRect.top > 0) {
          document.getElementById('chapter-indicator').textContent = '🌴 시즌2 시작';
          const mapContainer = document.getElementById('map-container');
          mapContainer.style.backgroundImage = 'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_main.jpg)';
          document.getElementById('progress-bar').style.width = '0%';
          return;
        }
      }

      const sections = document.querySelectorAll('.story-section');
      const backgroundImages = [
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_part1.jpg)',   // Part 1
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_part2.jpg)',   // Part 2
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_part3.jpg)',   // Part 3
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_part4.jpg)',   // Part 4
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_part5.jpg)',   // Part 5
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_part6.jpg)',   // Part 6
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_part7.jpg)',   // Part 7
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_part8.jpg)',   // Part 8
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_part9.jpg)',   // Part 9
        'url(https://cdn.jsdelivr.net/gh/kukicoollevitt-hash/dan-dan-app@main/public/images/jungle-story/jungle_s2_part10.jpg)'   // Part 10
      ];

      // 화면 중앙에 가장 가까운 섹션 찾기
      let closestSection = null;
      let closestDistance = Infinity;
      let closestIndex = -1;

      sections.forEach((section, index) => {
        const rect = section.getBoundingClientRect();
        const card = section.querySelector('.story-card');

        // 화면 중앙까지의 거리 계산
        const sectionCenter = rect.top + rect.height / 2;
        const screenCenter = window.innerHeight / 2;
        const distance = Math.abs(sectionCenter - screenCenter);

        // 가장 가까운 섹션 찾기
        if (distance < closestDistance) {
          closestDistance = distance;
          closestSection = section;
          closestIndex = index;
        }

        // 활성화 상태 업데이트
        if (rect.top < window.innerHeight * 0.6 && rect.bottom > window.innerHeight * 0.4) {
          card.classList.add('active');
        } else {
          card.classList.remove('active');
        }
      });

      // 가장 가까운 섹션의 배경 이미지 적용
      if (closestSection && closestIndex >= 0) {
        const chapterName = closestSection.dataset.chapter;
        document.getElementById('chapter-indicator').textContent = `🌴 ${chapterName}`;

        const currentBg = backgroundImages[closestIndex];
        const mapContainer = document.getElementById('map-container');

        // 현재 배경과 다르면 변경
        if (mapContainer.style.backgroundImage !== currentBg) {
          mapContainer.style.backgroundImage = currentBg;
        }

        // 프로그레스 바 업데이트
        const progress = ((closestIndex + 1) / sections.length) * 100;
        document.getElementById('progress-bar').style.width = `${progress}%`;
      }
    }

    // 초기화
    window.addEventListener('scroll', handleScroll);
    handleScroll();

    // 맨위로 스크롤 (부드럽게)
    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // 메인으로 돌아가기
    function goToMain() {
      window.location.href = '/jungle_journey_season1.html';
    }

    // 시즌3 관문으로 이동
    function goToSeason3Quiz() {
      window.location.href = '/jungle_season3_quiz.html';
    }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') scrollToTop();
    });

    console.log('✅ 정글 시즌2 스크립트 초기화 완료');
  </script>
</body>
</html>
