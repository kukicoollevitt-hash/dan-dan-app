<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🌧️ 소나기</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 배경 이미지 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url('/rain/rain_01.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 550px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #6b8e9f 0%, #4a7c8f 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 16px;
    }

    .story-card h2 {
      font-size: 26px;
      color: #1a1a1a;
      font-weight: 700;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      line-height: 1.4;
      text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
    }

    .story-card .emoji {
      font-size: 36px;
    }

    .story-card .story-text {
      font-size: 16px;
      line-height: 1.9;
      color: #1a1a1a;
      font-weight: 500;
      margin-bottom: 24px;
      white-space: pre-line;
      max-height: 400px;
      overflow-y: auto;
      padding-right: 10px;
    }

    .story-card .story-text::-webkit-scrollbar {
      width: 6px;
    }

    .story-card .story-text::-webkit-scrollbar-thumb {
      background: #6b8e9f;
      border-radius: 3px;
    }

    /* 시작 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
    }

    .intro-content {
      pointer-events: auto;
      background: rgba(255, 255, 255, 0.9);
      padding: 50px 60px;
      border-radius: 30px;
      backdrop-filter: blur(10px);
    }

    .intro-content h1 {
      font-size: 42px;
      color: #2c3e50;
      margin-bottom: 16px;
      line-height: 1.4;
    }

    .intro-content .subtitle {
      font-size: 18px;
      color: #7f8c8d;
      margin-bottom: 32px;
      line-height: 1.8;
    }

    .intro-content .scroll-hint {
      font-size: 20px;
      color: #4a7c8f;
      font-weight: 700;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* 뒤로가기 버튼 */
    .back-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border: none;
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      z-index: 1000;
      pointer-events: auto;
    }

    .back-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    /* 진행 표시 */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 4px;
      background: linear-gradient(90deg, #6b8e9f 0%, #4a7c8f 100%);
      z-index: 1001;
      transition: width 0.3s ease;
    }

    /* 챕터 표시 */
    .chapter-indicator {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      color: #2c3e50;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      pointer-events: none;
    }

    /* 반응형 */
    @media (max-width: 768px) {
      .story-section {
        padding: 20px;
        justify-content: center;
      }
      .story-card {
        max-width: 100%;
        padding: 30px 25px;
      }
      .intro-content {
        padding: 40px 30px;
      }
      .intro-content h1 {
        font-size: 32px;
      }
      .chapter-indicator {
        top: 70px;
        right: 20px;
        font-size: 12px;
        padding: 8px 16px;
      }
    }
  </style>
</head>
<body>
  <!-- 진행 바 -->
  <div class="progress-bar" id="progress-bar"></div>

  <!-- 맨위로가기 버튼 -->
  <button class="back-btn" onclick="scrollToTop()">↑ 맨위로가기</button>

  <!-- 챕터 표시 -->
  <div class="chapter-indicator" id="chapter-indicator">
    🌧️ 시작하기
  </div>

  <!-- 고정 배경 -->
  <div id="map-container"></div>

  <!-- 스크롤 콘텐츠 -->
  <div id="content">
    <!-- 인트로 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🌧️ 소나기</h1>
        <p class="subtitle">
          황순원 원작<br>
          순수한 첫사랑 이야기
        </p>
        <p class="scroll-hint">↓ 아래로 스크롤 해주세요 ↓</p>
      </div>
    </section>

    <!-- PART 1 -->
    <section class="story-section" data-step="0" data-chapter="Part 1. 어느 여름날의 첫 만남">
      <div class="story-card">
        <div class="chapter">Part 1 of 10</div>
        <h2>
          <span class="emoji">🌾</span>
          어느 여름날의 첫 만남
        </h2>
        <div class="story-text">여름 끝자락의 들판, 소년은 홀로 냇가를 건너다 낯선 소녀와 마주친다. 소녀는 서울에서 내려온 듯한 말투에 깨끗한 옷차림을 하고 있었고, 소년은 순간 말문이 막힌다.

소녀는 소년의 뒤를 따라 냇가를 건너며 장난스럽게 물을 튀기고, 소년은 얼굴이 빨개진 채 도망치듯 자리를 뜬다.

둘은 이름도 모른 채 헤어졌지만, 그 짧은 만남은 소년의 마음속에서 오래도록 흔들렸다.

집으로 돌아가는 길, 그는 자신도 모르게 미소 짓는다.

"내일도… 나오려나?"

소년의 여름은 그날부터 조금 달라지기 시작한다.</div>
      </div>
    </section>

    <!-- PART 2 -->
    <section class="story-section" data-step="1" data-chapter="Part 2. 서로를 알아가는 시간">
      <div class="story-card">
        <div class="chapter">Part 2 of 10</div>
        <h2>
          <span class="emoji">💬</span>
          서로를 알아가는 시간
        </h2>
        <div class="story-text">다음 날, 소년은 소녀가 있을 만한 들판을 어슬렁거리다가 우연을 가장해 다시 마주친다. 소녀는 반갑게 웃으며 소년 옆에 다가오고, 둘은 함께 계곡을 건너고 논둑길을 걸으며 조금씩 말을 섞기 시작한다.

소녀는 도시에서 살다가 요양 삼아 시골로 내려온 것이고, 소년은 말이 적지만 마음은 따뜻한 아이였다.

소녀는 소년의 수줍은 모습을 귀엽다며 장난을 걸고, 소년은 그 장난에 자꾸 속으면서도 싫지 않았다.

둘은 그렇게 별것 아닌 이야기를 나누며 서로에게 조금씩 스며들었다.</div>
      </div>
    </section>

    <!-- PART 3 -->
    <section class="story-section" data-step="2" data-chapter="Part 3. 함께 걷는 들판의 하루">
      <div class="story-card">
        <div class="chapter">Part 3 of 10</div>
        <h2>
          <span class="emoji">🌻</span>
          함께 걷는 들판의 하루
        </h2>
        <div class="story-text">날이 갈수록 소년과 소녀는 함께 걷는 시간이 늘었다. 둘은 황금빛으로 물든 논을 지나며 메뚜기를 잡고, 작은 잡초를 뽑아 길을 만들며 천진난만하게 웃었다.

소녀는 도시에서 가져온 작은 손수건을 소년에게 흔들어 보이며 장난쳤고, 소년은 그런 소녀에게 자꾸 시선이 갔다.

말수는 적었지만 마음은 점점 깊어졌다. 소녀는 소년에게서 시골만의 순수함을 느꼈다.

어느 순간, 둘은 말하지 않아도 함께 있는 것이 자연스러운 사이가 되어 있었다.

여름 햇살은 두 아이의 마음을 따뜻하게 감싸며 더 가까워지게 만들었다.</div>
      </div>
    </section>

    <!-- PART 4 -->
    <section class="story-section" data-step="3" data-chapter="Part 4. 소녀에게 생긴 작은 사고">
      <div class="story-card">
        <div class="chapter">Part 4 of 10</div>
        <h2>
          <span class="emoji">🩹</span>
          소녀에게 생긴 작은 사고
        </h2>
        <div class="story-text">어느 날, 소년과 소녀는 개울가에서 장난을 치다가 소녀의 치마가 물에 젖고 만다. 갑자기 나타난 황소를 피하려다가 소녀가 넘어져 다리에 상처까지 난 것이다.

소년은 깜짝 놀라 흙 묻은 소녀의 다리를 닦아주며 미안함을 감추지 못한다.

소녀는 아프다면서도 웃음을 잃지 않았고, 소년은 그런 모습에 더 마음이 아렸다.

그는 집에 돌아가 소녀에게 줄 약초를 찾아 헤매며 책임감을 느낀다.

그날 이후, 소년에게 소녀는 단순한 친구가 아니라 지켜주고 싶은 존재가 되었다.</div>
      </div>
    </section>

    <!-- PART 5 -->
    <section class="story-section" data-step="4" data-chapter="Part 5. 소년이 건네는 진심">
      <div class="story-card">
        <div class="chapter">Part 5 of 10</div>
        <h2>
          <span class="emoji">🌸</span>
          소년이 건네는 진심
        </h2>
        <div class="story-text">다음 날, 소년은 소녀에게 약초와 직접 꺾은 꽃 한 송이를 건넨다. 소녀는 얼굴을 붉히며 "고마워"라고 말한다.

두 아이는 나란히 앉아 강가의 물결을 바라본다.

소녀는 도시에서의 외로움과 병약했던 이야기를 조심스럽게 털어놓고, 소년은 어색하지만 진심을 다해 듣는다.

소녀는 "너랑 있으면 마음이 편해져"라고 말하고, 소년의 가슴은 따뜻하게 벅차오른다.

그날 저녁, 소년은 소녀의 말을 곱씹으며 잠을 이루지 못했다. 자신의 마음이 우정인지, 더 깊은 감정인지 알 수 없었지만, 소녀가 소중하다는 사실만은 분명했다.</div>
      </div>
    </section>

    <!-- PART 6 -->
    <section class="story-section" data-step="5" data-chapter="Part 6. 갑작스러운 소나기">
      <div class="story-card">
        <div class="chapter">Part 6 of 10</div>
        <h2>
          <span class="emoji">🌧️</span>
          갑작스러운 소나기
        </h2>
        <div class="story-text">어느 맑은 오후, 둘은 들판에서 함께 놀던 중 갑작스레 소나기가 쏟아진다. 두 아이는 허둥지둥 도망치다가 외딴 집의 헛간으로 뛰어 들어간다.

빗줄기는 천장을 때리며 시끄럽게 쏟아졌고, 아이들은 서로를 바라보며 어색하게 웃었다.

소녀의 젖은 머리카락이 소년의 어깨에 살짝 스치자 소년은 가슴이 뛰었다.

소녀도 살짝 얼굴이 붉어져 고개를 돌린다.

헛간 안은 좁고 어두웠지만, 두 아이에게는 가장 따뜻한 공간이 되었다.

소나기는 잠시였지만, 그 순간의 떨림은 두 아이의 마음에 깊이 스며들었다.</div>
      </div>
    </section>

    <!-- PART 7 -->
    <section class="story-section" data-step="6" data-chapter="Part 7. 소나기 속에서 더 깊어진 마음">
      <div class="story-card">
        <div class="chapter">Part 7 of 10</div>
        <h2>
          <span class="emoji">💕</span>
          소나기 속에서 더 깊어진 마음
        </h2>
        <div class="story-text">소나기가 그칠 때까지 아이들은 작은 대화를 이어갔다. 소녀는 소년에게 "아까 많이 놀랐지? 나도 무서웠어"라고 했고, 소년은 아무 말 없이 고개를 끄덕였다.

두 아이는 젖은 옷을 털어내며 길게 이어지는 침묵 속에서도 서로의 마음이 더 가까워지는 걸 느꼈다.

소나기가 멈추자 둘은 함께 비냄새 가득한 들판을 걸었다.

햇빛이 드러나는 순간, 소녀는 빗물에 비친 소년의 얼굴을 보며 환하게 웃었다.

그 미소는 소년에게 오래도록 잊히지 않을 따뜻한 기억으로 남는다.

둘의 마음은 소나기처럼 순식간에 깊어지고 있었다.</div>
      </div>
    </section>

    <!-- PART 8 -->
    <section class="story-section" data-step="7" data-chapter="Part 8. 깊어지는 그리움">
      <div class="story-card">
        <div class="chapter">Part 8 of 10</div>
        <h2>
          <span class="emoji">🌙</span>
          깊어지는 그리움
        </h2>
        <div class="story-text">며칠 동안 소녀는 갑자기 나오지 않았다. 소년은 소녀가 다친 건 아닌지, 아픈 건 아닌지 걱정하며 집 주변을 서성였다.

해가 질 때까지 기다려도 소녀는 나타나지 않았다.

그는 꽃다발 하나를 들고 소녀의 집 근처까지 갔다가, 용기가 나지 않아 문 앞에서 멈추곤 했다.

소녀가 보이지 않는 날이 길어질수록 소년의 마음에는 그리움이 점점 커졌다.

"왜 안 나오는 걸까…"

그는 밤하늘을 올려다보며 답답함을 느꼈다. 그때 소녀의 존재가 자신에게 얼마나 큰 의미였는지 비로소 깨닫기 시작했다.</div>
      </div>
    </section>

    <!-- PART 9 -->
    <section class="story-section" data-step="8" data-chapter="Part 9. 슬픈 소식">
      <div class="story-card">
        <div class="chapter">Part 9 of 10</div>
        <h2>
          <span class="emoji">💔</span>
          슬픈 소식
        </h2>
        <div class="story-text">어느 날, 동네 아주머니가 소년에게 말을 건다.

"그 계집애 말이다… 아파서 서울로 올라갔다더라."

소년의 가슴은 순간 무너지는 듯했다. 소녀의 병세가 악화된 것이었다.

아주머니는 "아마 다시 오기 힘들 거야…"라고 덧붙였다.

소년은 그 말을 듣고도 아무 대답을 할 수 없었다. 머릿속이 텅 비어버린 것 같았다.

그는 소녀와 함께 걸었던 들판을 천천히 걸으며, 소녀의 웃음과 목소리가 귓가에 맴도는 것을 느꼈다.

그 여름의 따뜻한 기억들이 한순간에 아프게 변했다.

소년은 그저 조용히 속삭였다.

"다시… 올 수는 없는 걸까."</div>
      </div>
    </section>

    <!-- PART 10 -->
    <section class="story-section" data-step="9" data-chapter="Part 10. 남겨진 마음과 여름의 끝">
      <div class="story-card">
        <div class="chapter">Part 10 of 10</div>
        <h2>
          <span class="emoji">🍂</span>
          남겨진 마음과 여름의 끝
        </h2>
        <div class="story-text">소녀가 떠난 뒤로 들판은 더 이상 예전처럼 빛나 보이지 않았다. 소년은 소녀와 뛰놀던 냇가에 가만히 앉아 물결을 바라보았다.

그곳에는 아직도 소녀의 웃음, 소나기 속에서 함께 뛰던 기억, 헛간에서 느꼈던 따뜻한 온기가 남아 있는 듯했다.

여름은 어느새 끝나고 있었고, 소년의 마음도 천천히 계절처럼 변해가고 있었다.

그는 소녀가 남긴 손수건을 꺼내 조심스럽게 매만지며 다시 한 번 속삭였다.

"잘 지내라… 소녀야."

그의 첫사랑은 소나기처럼 짧고 아름답게 스쳐 지나갔고, 소년은 그 여름을 영원히 기억하게 되었다.</div>
      </div>
    </section>

    <!-- 엔딩 섹션 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🌧️ 소나기</h1>
        <p class="subtitle">
          황순원 원작<br>
          끝.
        </p>
        <p class="scroll-hint">↑ 위로 스크롤하여 다시 읽기 ↑</p>
      </div>
    </section>
  </div>

  <script>
    // 배경 이미지 목록
    const backgrounds = [
      '/rain/rain_01.jpg',
      '/rain/rain_02.jpg',
      '/rain/rain_03.jpg',
      '/rain/rain_04.jpg',
      '/rain/rain_05.jpg',
      '/rain/rain_06.jpg',
      '/rain/rain_07.jpg',
      '/rain/rain_08.jpg',
      '/rain/rain_09.jpg',
      '/rain/rain_10.jpg'
    ];

    const mapContainer = document.getElementById('map-container');
    const progressBar = document.getElementById('progress-bar');
    const chapterIndicator = document.getElementById('chapter-indicator');
    const sections = document.querySelectorAll('.story-section');

    let currentStep = -1;

    // 스크롤 이벤트
    window.addEventListener('scroll', () => {
      const scrollTop = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = (scrollTop / docHeight) * 100;

      // 진행 바 업데이트
      progressBar.style.width = scrollPercent + '%';

      // 각 섹션 체크
      sections.forEach((section, index) => {
        const rect = section.getBoundingClientRect();
        const card = section.querySelector('.story-card');

        // 섹션이 화면에 보이면 카드 활성화
        if (rect.top < window.innerHeight * 0.7 && rect.bottom > 0) {
          card.classList.add('active');

          // 배경 이미지 변경
          if (currentStep !== index) {
            currentStep = index;
            mapContainer.style.backgroundImage = `url('${backgrounds[index]}')`;

            // 챕터 표시 업데이트
            const chapterName = section.dataset.chapter;
            chapterIndicator.textContent = '🌧️ ' + chapterName;
          }
        }
      });
    });

    // 맨위로 가기
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // 초기 배경 설정
    mapContainer.style.backgroundImage = `url('${backgrounds[0]}')`;
  </script>
</body>
</html>
