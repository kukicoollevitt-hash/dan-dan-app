<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🎃 흥부전</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 배경 이미지 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url('/images/rich/rich01.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 550px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #d4a574 0%, #b8860b 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 16px;
    }

    .story-card h2 {
      font-size: 26px;
      color: #1a1a1a;
      font-weight: 700;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      line-height: 1.4;
      text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
    }

    .story-card .emoji {
      font-size: 36px;
    }

    .story-card .story-text {
      font-size: 16px;
      line-height: 1.9;
      color: #1a1a1a;
      font-weight: 500;
      margin-bottom: 24px;
      white-space: pre-line;
      max-height: 400px;
      overflow-y: auto;
      padding-right: 10px;
    }

    .story-card .story-text::-webkit-scrollbar {
      width: 6px;
    }

    .story-card .story-text::-webkit-scrollbar-thumb {
      background: #d4a574;
      border-radius: 3px;
    }

    /* 시작 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
    }

    .intro-content {
      pointer-events: auto;
      background: rgba(255, 255, 255, 0.9);
      padding: 50px 60px;
      border-radius: 30px;
      backdrop-filter: blur(10px);
    }

    .intro-content h1 {
      font-size: 42px;
      color: #2c3e50;
      margin-bottom: 16px;
      line-height: 1.4;
    }

    .intro-content .subtitle {
      font-size: 18px;
      color: #7f8c8d;
      margin-bottom: 32px;
      line-height: 1.8;
    }

    .intro-content .scroll-hint {
      font-size: 20px;
      color: #d4a574;
      font-weight: 700;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* 뒤로가기 버튼 */
    .back-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border: none;
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      z-index: 1000;
      pointer-events: auto;
    }

    .back-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    /* 진행 표시 */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 4px;
      background: linear-gradient(90deg, #d4a574 0%, #b8860b 100%);
      z-index: 1001;
      transition: width 0.3s ease;
    }

    /* 챕터 표시 */
    .chapter-indicator {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      color: #2c3e50;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      pointer-events: none;
    }

    /* 반응형 */
    @media (max-width: 768px) {
      .story-section {
        padding: 20px;
        justify-content: center;
      }
      .story-card {
        max-width: 100%;
        padding: 30px 25px;
      }
      .intro-content {
        padding: 40px 30px;
      }
      .intro-content h1 {
        font-size: 32px;
      }
      .chapter-indicator {
        top: 70px;
        right: 20px;
        font-size: 12px;
        padding: 8px 16px;
      }
    }
  </style>
</head>
<body>
  <!-- 진행 바 -->
  <div class="progress-bar" id="progress-bar"></div>

  <!-- 맨위로가기 버튼 -->
  <button class="back-btn" onclick="scrollToTop()">↑ 맨위로가기</button>

  <!-- 챕터 표시 -->
  <div class="chapter-indicator" id="chapter-indicator">
    🎃 시작하기
  </div>

  <!-- 고정 배경 -->
  <div id="map-container"></div>

  <!-- 스크롤 콘텐츠 -->
  <div id="content">
    <!-- 인트로 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🎃 흥부전</h1>
        <p class="subtitle">
          고전소설<br>
          권선징악과 형제의 화해
        </p>
        <p class="scroll-hint">↓ 아래로 스크롤 해주세요 ↓</p>
      </div>
    </section>

    <!-- PART 1 -->
    <section class="story-section" data-step="0" data-chapter="Part 1. 형제의 대비되는 성격">
      <div class="story-card">
        <div class="chapter">Part 1 of 10</div>
        <h2>
          <span class="emoji">👬</span>
          형제의 대비되는 성격
        </h2>
        <div class="story-text">옛날 어느 마을에 놀부와 흥부라는 두 형제가 살고 있었다. 두 사람은 같은 부모에게서 태어났지만, 성격은 하늘과 땅 차이였다.

형 놀부는 욕심이 끝이 없고 인색하기로 마을에서 소문이 자자했다. 그는 재산을 모으는 데에만 온 정신을 쏟았고, 이웃이 어려움에 처해도 모른 척했다. 오히려 남의 불행을 기회로 삼아 자신의 이익을 챙기는 일도 서슴지 않았다. 마을 사람들은 놀부를 보면 고개를 돌렸고, 누구도 그와 가까이 지내려 하지 않았다.

반면 동생 흥부는 마음씨가 고와 누구에게나 친절했다. 자신도 넉넉하지 않은 형편이었지만, 이웃이 어려우면 먼저 나서서 도왔다. 굶주린 거지에게 밥을 나눠주고, 병든 노인을 돌보는 일도 마다하지 않았다. 마을 사람들은 흥부를 보면 "저런 착한 사람이 어디 있을까"라며 칭찬을 아끼지 않았다.

이처럼 성격이 완전히 다른 두 형제의 이야기는 선과 악이 어떤 결과를 맞이하는지 보여주는 교훈적인 서사의 시작이었다.</div>
      </div>
    </section>

    <!-- PART 2 -->
    <section class="story-section" data-step="1" data-chapter="Part 2. 재산 다툼과 형제의 이별">
      <div class="story-card">
        <div class="chapter">Part 2 of 10</div>
        <h2>
          <span class="emoji">💔</span>
          재산 다툼과 형제의 이별
        </h2>
        <div class="story-text">세월이 흘러 두 형제의 부모가 세상을 떠났다. 장례를 치르고 나자 재산을 나눌 때가 되었다. 그런데 놀부는 터무니없는 주장을 펼쳤다.

"내가 장남이니 재산은 모두 내 것이다. 너는 물러가거라!" 놀부는 흥부에게 단 한 푼도 나눠주지 않았다. 오히려 흥부와 그 가족을 집에서 쫓아냈다. 아내와 아이들이 추운 날씨에 떨고 있었지만, 놀부는 눈 하나 깜빡하지 않았다.

흥부는 억울함에 가슴이 무너지는 것 같았지만, 형을 원망하는 말을 입에 담지 않았다. "형님도 언젠가는 후회하실 날이 있겠지. 우리는 우리 힘으로 살아가자." 흥부는 아내와 아이들의 손을 잡고 빈손으로 집을 나섰다.

그날부터 흥부 가족의 고된 삶이 시작되었다. 허름한 초가집에 둥지를 틀고, 하루하루 끼니를 해결하기도 벅찬 나날이 이어졌다. 그러나 흥부는 절망하지 않았다. "열심히 살다 보면 좋은 날이 올 거야." 그는 희망을 잃지 않고 가족을 위해 묵묵히 일했다.</div>
      </div>
    </section>

    <!-- PART 3 -->
    <section class="story-section" data-step="2" data-chapter="Part 3. 가난한 흥부의 생활">
      <div class="story-card">
        <div class="chapter">Part 3 of 10</div>
        <h2>
          <span class="emoji">🏚️</span>
          가난한 흥부의 생활
        </h2>
        <div class="story-text">흥부네 가족이 사는 집은 비가 오면 천장에서 물이 새고, 바람이 불면 벽 틈으로 찬 공기가 들어오는 허름한 초가집이었다. 아내와 일곱 명의 자식들을 데리고 사는 흥부는 가장으로서 막중한 책임감을 느꼈다.

끼니를 거르는 날이 잦았다. 아이들은 "아버지, 배고파요" 하며 울었고, 흥부는 속이 타들어갔다. 그래도 흥부는 우는 법이 없었다. "조금만 참아라, 아버지가 꼭 밥을 구해 올 테니." 그는 새벽부터 밤늦게까지 남의 집 일을 도우며 품삯을 받았다. 때로는 산에 가서 나물을 캐오기도 했다.

이런 어려운 형편에서도 흥부는 이웃에게 친절했다. 자신보다 더 가난한 사람을 보면 가진 것을 나눴다. "우리도 힘들지만, 저 사람은 더 힘들어 보여. 조금이라도 도와주자." 그런 흥부를 보며 마을 사람들은 감탄했다.

"저렇게 어려운 형편에도 남을 돕다니, 정말 착한 사람이야." 흥부의 선한 마음은 마을 곳곳에 알려졌고, 사람들은 흥부 가족을 측은히 여기며 때때로 도움을 주기도 했다.</div>
      </div>
    </section>

    <!-- PART 4 -->
    <section class="story-section" data-step="3" data-chapter="Part 4. 제비를 구해 주는 흥부">
      <div class="story-card">
        <div class="chapter">Part 4 of 10</div>
        <h2>
          <span class="emoji">🐦</span>
          제비를 구해 주는 흥부
        </h2>
        <div class="story-text">어느 봄날 아침이었다. 흥부가 마당을 쓸고 있을 때, 처마 밑에서 떨어진 작은 새 한 마리를 발견했다. 가까이 다가가 보니 제비였는데, 한쪽 다리가 부러져 있었다.

"아이고, 불쌍하기도 하지. 어디서 떨어졌니?" 흥부는 제비를 조심스럽게 손에 들고 집 안으로 들어갔다. 그는 깨끗한 헝겊을 찢어 제비의 다리를 정성껏 감싸고 고정해 주었다. 아내는 "우리도 먹을 게 없는데 제비까지 돌보려고?" 하며 걱정했지만, 흥부는 고개를 저었다.

"생명은 다 소중한 거야. 이 작은 목숨도 아프면 얼마나 고통스럽겠어." 흥부는 제비에게 곡식 알갱이를 먹이고, 따뜻한 곳에 둥지를 만들어 주었다.

며칠이 지나자 제비의 다리가 완전히 나았다. 흥부는 제비를 마당으로 데리고 나와 하늘을 향해 날려 보내며 말했다. "잘 가렴, 건강하게 살아." 제비는 몇 바퀴 빙빙 돌더니 흥부를 바라보는 듯했다. 마치 고마움을 표현하듯.

그리고 푸른 하늘로 사라졌다. 흥부는 아무런 보답을 바라지 않았다. 그저 아픈 생명을 도운 것에 보람을 느꼈을 뿐이었다.</div>
      </div>
    </section>

    <!-- PART 5 -->
    <section class="story-section" data-step="4" data-chapter="Part 5. 박씨를 물고 온 제비">
      <div class="story-card">
        <div class="chapter">Part 5 of 10</div>
        <h2>
          <span class="emoji">🌱</span>
          박씨를 물고 온 제비
        </h2>
        <div class="story-text">계절이 바뀌고 다시 봄이 왔다. 어느 날, 흥부네 초가집 처마 밑으로 제비 한 마리가 날아들었다. 자세히 보니 작년에 다리를 고쳐 주었던 바로 그 제비였다!

제비는 흥부 앞에서 한참을 빙빙 돌더니, 입에 물고 있던 작은 씨앗 하나를 떨어뜨렸다. 씨앗은 마당에 톡 떨어져 굴렀다. 흥부는 호기심에 씨앗을 주워 살펴보았다.

"이게 뭐지? 박씨 같은데..." 제비는 마치 고맙다는 인사를 하듯 몇 번 더 날개짓을 하더니 하늘로 날아가 버렸다.

흥부는 씨앗을 소중히 간직했다가 봄날 마당 한쪽에 정성껏 심었다. "제비가 준 선물이니 잘 키워 봐야지." 매일 물을 주고 잡초를 뽑으며 보살폈다.

여름이 되자 박 넝쿨이 무럭무럭 자라기 시작했다. 넝쿨은 담장을 타고 지붕까지 올라갔고, 거기에 주먹만 한 박이 열렸다. 박은 점점 커져서 나중에는 사람 머리보다도 더 커졌다. 마을 사람들도 신기하게 여기며 구경을 왔다.

"저 박 참 크구나! 무슨 복이 들었나 봐." 흥부 가족도 박이 익기를 기다리며 설렘에 가득 찼다.</div>
      </div>
    </section>

    <!-- PART 6 -->
    <section class="story-section" data-step="5" data-chapter="Part 6. 박을 타다, 복이 쏟아지다">
      <div class="story-card">
        <div class="chapter">Part 6 of 10</div>
        <h2>
          <span class="emoji">🎃</span>
          박을 타다, 복이 쏟아지다
        </h2>
        <div class="story-text">가을이 깊어지자 박이 완전히 익었다. 흥부는 가족들을 모아놓고 말했다. "자, 오늘 이 박을 타 보자!" 흥부가 톱을 들고 박을 타기 시작했다. 끼기익— 박이 갈라지는 소리가 났다.

그런데 놀라운 일이 벌어졌다! 박 속에서 쌀이 쏟아져 나왔다. 하얀 쌀이 끊임없이 쏟아져 마당을 가득 채웠다. 가족들은 눈이 휘둥그레졌다.

"아이고, 이게 웬 쌀이야!" 아내가 소리쳤다.

흥부가 두 번째 박을 타자 이번에는 금은보화와 비단이 쏟아졌다. 번쩍번쩍 빛나는 금덩이와 은덩이, 부드러운 비단이 끝없이 나왔다. 세 번째 박에서는 놀랍게도 거대한 기와집이 나타났다! 네 번째 박에서는 일꾼들과 하인들이 나와 흥부 가족에게 절을 올렸다.

흥부 가족은 하루아침에 마을에서 가장 부유한 집안이 되었다. 그러나 흥부는 부자가 되었다고 오만해지지 않았다. "이 복은 나 혼자만의 것이 아니야." 그는 가난한 이웃들에게 쌀을 나눠주고, 어려운 사람들을 도왔다. 착한 마음이 결국 큰 복으로 돌아온 것이다.</div>
      </div>
    </section>

    <!-- PART 7 -->
    <section class="story-section" data-step="6" data-chapter="Part 7. 흥부의 소식을 들은 놀부">
      <div class="story-card">
        <div class="chapter">Part 7 of 10</div>
        <h2>
          <span class="emoji">👂</span>
          흥부의 소식을 들은 놀부
        </h2>
        <div class="story-text">흥부가 갑자기 큰 부자가 되었다는 소문은 삽시간에 마을 전체에 퍼졌다. 그리고 그 소문은 결국 놀부의 귀에도 들어갔다.

"뭐? 그 거지 같던 흥부가 부자가 되었다고?" 놀부는 믿을 수 없다는 표정을 지었다. 처음에는 거짓말이라고 생각했지만, 여러 사람에게서 같은 이야기를 듣자 궁금증을 참을 수 없었다.

놀부는 동생의 집을 찾아갔다. 정말로 흥부네 집은 화려한 기와집으로 바뀌어 있었고, 마당에는 일꾼들이 분주히 움직이고 있었다. 놀부의 눈에 질투의 불꽃이 타올랐다.

"이봐, 흥부야! 어떻게 된 거냐? 도대체 어디서 이런 재물을 얻었느냐?" 놀부가 다그치듯 물었다.

흥부는 솔직하게 제비 이야기를 들려주었다. 다리 부러진 제비를 고쳐 주었더니 박씨를 물어다 주었고, 그 박에서 재물이 나왔다고.

놀부는 겉으로는 "오, 그렇구나. 잘됐다, 잘됐어" 하며 웃었지만, 속으로는 계략을 꾸미고 있었다. '나도 같은 방법을 쓰면 더 큰 부자가 될 수 있겠군!' 욕심에 눈이 먼 놀부의 머릿속에는 이미 계획이 세워지고 있었다.</div>
      </div>
    </section>

    <!-- PART 8 -->
    <section class="story-section" data-step="7" data-chapter="Part 8. 일부러 제비 다리를 부러뜨리는 놀부">
      <div class="story-card">
        <div class="chapter">Part 8 of 10</div>
        <h2>
          <span class="emoji">😈</span>
          일부러 제비 다리를 부러뜨리는 놀부
        </h2>
        <div class="story-text">놀부는 집으로 돌아가 당장 계획을 실행에 옮겼다. 봄이 오자 처마 밑에 둥지를 튼 제비를 발견한 놀부는 망설임 없이 제비 한 마리를 잡았다. 그리고 일부러 제비의 다리를 부러뜨렸다!

"아얏!" 제비가 비명을 지르듯 울었지만, 놀부는 웃으며 말했다. "걱정 마라. 내가 고쳐 줄 테니." 놀부는 형식적으로 제비의 다리를 싸매고 풀어주었다.

이것은 흥부의 행동과는 완전히 달랐다. 흥부는 다친 제비를 발견해 진심으로 도운 것이었지만, 놀부는 오직 복을 받기 위해 일부러 제비를 다치게 한 것이다. 선행의 마음이 없는 가짜 선행이었다.

다음 해 봄, 그 제비가 돌아왔다. 제비는 놀부 앞에 박씨 하나를 떨어뜨렸다. 놀부는 기쁨에 넘쳐 소리쳤다. "됐다! 이제 나도 흥부보다 더 큰 부자가 될 것이야!"

놀부는 박씨를 정성껏... 아니, 대충 심고 기다렸다. 박이 무럭무럭 자라자 놀부의 기대도 한껏 부풀어 올랐다. 하지만 그는 자신의 탐욕이 어떤 결과를 가져올지 전혀 알지 못했다.</div>
      </div>
    </section>

    <!-- PART 9 -->
    <section class="story-section" data-step="8" data-chapter="Part 9. 박을 타자 재앙이 쏟아지다">
      <div class="story-card">
        <div class="chapter">Part 9 of 10</div>
        <h2>
          <span class="emoji">👹</span>
          박을 타자 재앙이 쏟아지다
        </h2>
        <div class="story-text">가을이 되어 놀부네 박도 크게 익었다. 놀부는 흥부보다 더 많은 보물이 나올 거라며 가족들을 모아놓고 박을 탔다.

끼기익— 첫 번째 박이 열렸다. 그런데 보물 대신 무시무시한 도깨비들이 튀어나왔다! "우하하! 욕심쟁이 놀부를 혼내 주러 왔다!" 도깨비들은 방망이를 휘두르며 놀부를 쫓아다녔다.

"살려 줘! 살려 줘!" 놀부가 비명을 질렀지만 소용없었다. 도깨비들은 놀부의 집을 부수고, 창고의 곡식을 쏟아버리고, 가축들을 풀어놓았다.

두 번째 박에서는 온갖 벌레와 뱀이 쏟아져 나왔다. 세 번째 박에서는 무서운 호랑이가 뛰어나왔다. 네 번째 박에서는 똥물이 쏟아져 집안 전체가 악취로 가득 찼다.

"아이고, 내 재산! 내 집!" 놀부는 바닥에 주저앉아 울부짖었다. 그동안 모은 재산이 모두 사라지고, 화려했던 집은 폐허가 되어버렸다.

놀부는 그제서야 깨달았다. 거짓된 선행은 복이 아닌 벌을 불러온다는 것을. 자신의 탐욕과 악행이 이런 결과를 가져왔다는 것을. 놀부는 땅을 치며 후회의 눈물을 흘렸다.</div>
      </div>
    </section>

    <!-- PART 10 -->
    <section class="story-section" data-step="9" data-chapter="Part 10. 형제의 화해와 결말">
      <div class="story-card">
        <div class="chapter">Part 10 of 10</div>
        <h2>
          <span class="emoji">🤝</span>
          형제의 화해와 결말
        </h2>
        <div class="story-text">모든 것을 잃은 놀부는 거지 신세가 되어 마을을 떠돌았다. 추운 겨울, 굶주림에 지친 놀부는 결국 동생 흥부를 찾아갔다. 부끄러움에 고개도 제대로 들지 못했다.

"흥부야... 형이 잘못했다. 예전에 너를 내쫓은 것도, 제비에게 못된 짓을 한 것도... 다 내 욕심 때문이었어. 용서해 주겠느냐?"

놀부가 눈물을 흘리며 땅바닥에 엎드렸다. 흥부는 형을 일으켜 세우며 말했다. "형님, 무슨 말씀이세요. 형제 사이에 그런 게 어디 있어요. 일어나세요."

흥부는 단 한 마디도 원망하지 않았다. 오히려 자신의 재산을 기꺼이 나눠 형에게 주었다. 집과 땅, 곡식과 옷가지까지 모두 나눴다. 아내와 자식들도 놀부 가족을 따뜻하게 맞이했다.

놀부는 동생의 넓은 마음에 감동받아 진심으로 반성했다. 그날 이후로 놀부는 완전히 달라진 사람이 되었다. 욕심을 버리고 이웃을 도우며, 착하게 살았다.

두 형제는 다시 화해하고, 평생 행복하게 살았다. 착한 마음은 복을 부르고, 욕심과 악행은 벌을 받는다는 교훈은 오래오래 사람들에게 전해졌다.</div>
      </div>
    </section>

    <!-- 엔딩 섹션 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🎃 흥부전</h1>
        <p class="subtitle">
          고전소설<br>
          끝.
        </p>
        <p class="scroll-hint">↑ 위로 스크롤하여 다시 읽기 ↑</p>
      </div>
    </section>
  </div>

  <script>
    // 배경 이미지 목록
    const backgrounds = [
      '/images/rich/rich01.jpg',
      '/images/rich/rich02.jpg',
      '/images/rich/rich03.jpg',
      '/images/rich/rich04.jpg',
      '/images/rich/rich05.jpg',
      '/images/rich/rich06.jpg',
      '/images/rich/rich07.jpg',
      '/images/rich/rich08.jpg',
      '/images/rich/rich09.jpg',
      '/images/rich/rich10.jpg'
    ];

    const mapContainer = document.getElementById('map-container');
    const progressBar = document.getElementById('progress-bar');
    const chapterIndicator = document.getElementById('chapter-indicator');
    const sections = document.querySelectorAll('.story-section');

    let currentStep = -1;

    // 스크롤 이벤트
    window.addEventListener('scroll', () => {
      const scrollTop = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = (scrollTop / docHeight) * 100;

      // 진행 바 업데이트
      progressBar.style.width = scrollPercent + '%';

      // 각 섹션 체크
      sections.forEach((section, index) => {
        const rect = section.getBoundingClientRect();
        const card = section.querySelector('.story-card');

        // 섹션이 화면에 보이면 카드 활성화
        if (rect.top < window.innerHeight * 0.7 && rect.bottom > 0) {
          card.classList.add('active');

          // 배경 이미지 변경
          if (currentStep !== index) {
            currentStep = index;
            mapContainer.style.backgroundImage = `url('${backgrounds[index]}')`;

            // 챕터 표시 업데이트
            const chapterName = section.dataset.chapter;
            chapterIndicator.textContent = '🎃 ' + chapterName;
          }
        }
      });
    });

    // 맨위로 가기
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // 초기 배경 설정
    mapContainer.style.backgroundImage = `url('${backgrounds[0]}')`;
  </script>
</body>
</html>
