<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🏛️ 삼대</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Gmarket Sans", "Noto Sans KR", sans-serif;
      overflow-x: hidden;
      background: #1a1a1a;
    }

    /* 고정 배경 이미지 */
    #map-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: url('/three/three01.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transition: background-image 1s ease-in-out;
      z-index: 1;
    }

    /* 스크롤 가능한 콘텐츠 */
    #content {
      position: relative;
      z-index: 2;
      pointer-events: none;
    }

    .story-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 60px 120px;
      pointer-events: none;
    }

    /* 홀수 섹션은 왼쪽 */
    .story-section:nth-child(odd) {
      justify-content: flex-start;
    }

    /* 짝수 섹션은 오른쪽 */
    .story-section:nth-child(even) {
      justify-content: flex-end;
    }

    .story-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 24px;
      max-width: 550px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: translateX(100px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: auto;
    }

    /* 왼쪽에서 나오는 카드 */
    .story-section:nth-child(odd) .story-card {
      transform: translateX(-100px);
    }

    /* 오른쪽에서 나오는 카드 */
    .story-section:nth-child(even) .story-card {
      transform: translateX(100px);
    }

    .story-card.active {
      transform: translateX(0);
      opacity: 1;
    }

    .story-card .chapter {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, #8b7355 0%, #6b5344 100%);
      color: white;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 16px;
    }

    .story-card h2 {
      font-size: 26px;
      color: #1a1a1a;
      font-weight: 700;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      line-height: 1.4;
      text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
    }

    .story-card .emoji {
      font-size: 36px;
    }

    .story-card .story-text {
      font-size: 16px;
      line-height: 1.9;
      color: #1a1a1a;
      font-weight: 500;
      margin-bottom: 24px;
      white-space: pre-line;
      max-height: 400px;
      overflow-y: auto;
      padding-right: 10px;
    }

    .story-card .story-text::-webkit-scrollbar {
      width: 6px;
    }

    .story-card .story-text::-webkit-scrollbar-thumb {
      background: #8b7355;
      border-radius: 3px;
    }

    /* 시작 섹션 */
    .intro-section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
    }

    .intro-content {
      pointer-events: auto;
      background: rgba(255, 255, 255, 0.9);
      padding: 50px 60px;
      border-radius: 30px;
      backdrop-filter: blur(10px);
    }

    .intro-content h1 {
      font-size: 42px;
      color: #2c3e50;
      margin-bottom: 16px;
      line-height: 1.4;
    }

    .intro-content .subtitle {
      font-size: 18px;
      color: #7f8c8d;
      margin-bottom: 32px;
      line-height: 1.8;
    }

    .intro-content .scroll-hint {
      font-size: 20px;
      color: #6b5344;
      font-weight: 700;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* 뒤로가기 버튼 */
    .back-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border: none;
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      z-index: 1000;
      pointer-events: auto;
    }

    .back-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    /* 진행 표시 */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 4px;
      background: linear-gradient(90deg, #8b7355 0%, #6b5344 100%);
      z-index: 1001;
      transition: width 0.3s ease;
    }

    /* 챕터 표시 */
    .chapter-indicator {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      color: #2c3e50;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      pointer-events: none;
    }

    /* 반응형 */
    @media (max-width: 768px) {
      .story-section {
        padding: 20px;
        justify-content: center;
      }
      .story-card {
        max-width: 100%;
        padding: 30px 25px;
      }
      .intro-content {
        padding: 40px 30px;
      }
      .intro-content h1 {
        font-size: 32px;
      }
      .chapter-indicator {
        top: 70px;
        right: 20px;
        font-size: 12px;
        padding: 8px 16px;
      }
    }
  </style>
</head>
<body>
  <!-- 진행 바 -->
  <div class="progress-bar" id="progress-bar"></div>

  <!-- 맨위로가기 버튼 -->
  <button class="back-btn" onclick="scrollToTop()">↑ 맨위로가기</button>

  <!-- 챕터 표시 -->
  <div class="chapter-indicator" id="chapter-indicator">
    🏛️ 시작하기
  </div>

  <!-- 고정 배경 -->
  <div id="map-container"></div>

  <!-- 스크롤 콘텐츠 -->
  <div id="content">
    <!-- 인트로 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🏛️ 삼대</h1>
        <p class="subtitle">
          염상섭 원작<br>
          세 세대의 갈등과 근대화의 물결
        </p>
        <p class="scroll-hint">↓ 아래로 스크롤 해주세요 ↓</p>
      </div>
    </section>

    <!-- PART 1 -->
    <section class="story-section" data-step="0" data-chapter="Part 1. 거대한 조의관 집안과 세대의 균열">
      <div class="story-card">
        <div class="chapter">Part 1 of 10</div>
        <h2>
          <span class="emoji">🏛️</span>
          거대한 조의관 집안과 세대의 균열
        </h2>
        <div class="story-text">1930년대 경성. 조의관 집안은 한때 부유하고 권력이 있었던 양반 가문이었다. 하지만 근대화의 흐름 속에서 집안의 위세는 점점 흔들려 가고 있었다. 대문간에 붙은 '조의관가'라는 글씨만이 옛 영화를 증명하고 있었다.

집안 어른인 조의관(조상식)은 여전히 구한말적 사고방식에 사로잡혀 있었다. 그는 전통과 체면을 지키는 것이 가장 중요하다고 믿었고, 변화하는 세상을 인정하지 않으려 했다.

둘째 아들 조덕기는 상업적 감각과 근대적 사고를 가졌지만, 아버지의 권위 아래에서 늘 억눌렸다. 하고 싶은 말도 제대로 하지 못하고 눈치만 보았다.

손자 조희재는 신교육을 받은 젊은 세대였다. 새로운 가치관을 가졌지만, 전통적 터전과 근대적 변화 사이에서 방황했다. 서로 다른 성격과 가치관을 지닌 이 '삼대'는 이미 작은 균열을 품고 있었다.</div>
      </div>
    </section>

    <!-- PART 2 -->
    <section class="story-section" data-step="1" data-chapter="Part 2. 재산 문제로 흔들리는 가족들">
      <div class="story-card">
        <div class="chapter">Part 2 of 10</div>
        <h2>
          <span class="emoji">💰</span>
          재산 문제로 흔들리는 가족들
        </h2>
        <div class="story-text">조의관 집안은 서서히 몰락하고 있었다. 땅은 하나둘 팔려나갔고, 하인들도 예전만 못했다. 하지만 정작 심각한 문제는 재산을 둘러싼 가족 간의 갈등이었다.

조의관은 여전히 집안 재산을 자신 마음대로 관리하려 했다. "내가 이 집안 가장이니 내 말대로 해야 한다!" 하지만 아들과 며느리들은 각자 생계를 걱정하며 불만을 터뜨렸다.

조덕기는 아버지의 독단적 결정에 속으로 반발했다. 그의 아내는 더욱 노골적이었다. "시아버지 마음대로 다 쓰시면 우리는 뭘 먹고 살라는 거예요?" 밥상머리에서 날카로운 말이 오갔다.

손자 조희재는 어른들의 다툼을 지켜보며 가슴이 답답했다. '가족이란 도대체 뭘까? 피를 나눈 사람들이 왜 저렇게 싸우는 걸까?' 누구도 솔직하게 말하지 않았지만, 이들의 갈등은 이미 깊은 골을 파고 있었다.</div>
      </div>
    </section>

    <!-- PART 3 -->
    <section class="story-section" data-step="2" data-chapter="Part 3. 희재의 연애와 개인적 고민">
      <div class="story-card">
        <div class="chapter">Part 3 of 10</div>
        <h2>
          <span class="emoji">💕</span>
          희재의 연애와 개인적 고민
        </h2>
        <div class="story-text">손자 조희재는 동경하는 신여성 윤희에게 마음이 끌렸다. 윤희는 새로운 시대를 살아가는 독립적인 여성이었다. 단발머리에 양장을 입고, 자신의 생각을 당당히 말하는 그녀에게 희재는 강하게 이끌렸다.

"여자도 교육받고 일해야 해요. 왜 집에만 있어야 하죠?" 윤희의 말은 희재에게 큰 영향을 주었다. 그는 윤희와의 대화를 통해 여성 해방, 개인의 자유, 근대적 가치에 눈뜨기 시작했다.

하지만 집안은 여전히 구식이었다. 혼사는 집안끼리 정하는 것이며, 연애결혼 같은 건 말도 안 되는 일이었다. 희재는 사랑과 가족의 기대 사이에서 고민했다.

윤희를 사랑하지만 집안의 반대가 무서웠다. 그의 마음속에는 가족에 대한 책임감과 전통적 가치에 대한 미련도 남아 있었다. 희재는 혼란스러운 감정의 소용돌이에 빠져들었다.</div>
      </div>
    </section>

    <!-- PART 4 -->
    <section class="story-section" data-step="3" data-chapter="Part 4. 조덕기의 사업과 실패의 그림자">
      <div class="story-card">
        <div class="chapter">Part 4 of 10</div>
        <h2>
          <span class="emoji">📉</span>
          조덕기의 사업과 실패의 그림자
        </h2>
        <div class="story-text">중간 세대인 조덕기는 스스로를 '근대인'이라 여겼다. 그는 근대적 경제 감각을 앞세워 여러 사업에 손을 댔다. 무역업도, 부동산도, 심지어 광산업까지 투자했다.

"시대가 변하는 건데, 장사를 해야지. 땅만 지키면 뭘 해?" 그는 아내의 반대를 무릅쓰고 돈을 투자했지만, 번번이 실패하거나 손해를 보았다. 시대의 흐름을 제대로 읽지 못한 것이다.

조덕기는 자신의 욕망과 무능력이 동시에 드러나면서 점점 궁지에 몰렸다. 아내는 날마다 잔소리를 했고, 아버지는 그를 무시했다. 가족 간의 갈등은 더욱 심해졌다.

그는 아버지의 전통적 태도도 답답했지만, 자신 역시 새로운 시대를 제대로 헤쳐 나가지 못한다는 사실에 자괴감을 느꼈다. 결국 그는 가족에게도, 자신에게도 확신을 주지 못하는 어정쩡한 중간자가 되어갔다.</div>
      </div>
    </section>

    <!-- PART 5 -->
    <section class="story-section" data-step="4" data-chapter="Part 5. 조의관의 완고함과 시대의 단절">
      <div class="story-card">
        <div class="chapter">Part 5 of 10</div>
        <h2>
          <span class="emoji">👴</span>
          조의관의 완고함과 시대의 단절
        </h2>
        <div class="story-text">집안의 중심인 조의관은 여전히 과거 권세가 있던 시절의 사고방식을 버리지 못했다. 그의 방에는 조상들의 초상화와 족보가 걸려 있었고, 그는 매일 그것들을 바라보며 옛 영화를 그리워했다.

"내가 살아 있는 한 이 집안은 내가 다스린다!" 조의관은 손자, 며느리, 자식들의 의견을 거의 무시했다. 집안 문제를 제멋대로 처리하고, 아무에게도 상의하지 않았다.

특히 재산을 정리하거나 재투자하는 문제에서 고집을 꺾지 않아 갈등은 극에 달했다. "아버지, 시대가 변했습니다. 땅만 붙들고 있으면 안 됩니다." 조덕기가 말해도 조의관은 듣지 않았다.

가족들은 매번 설득에 실패했고, 조의관은 오히려 자신이 배신당했다고 느꼈다. "이놈들이 내 재산을 노리는구나!" 그의 완고함은 삼대 사이의 단절을 더 깊게 만들었다. 변화하는 근대 사회 속에서 조의관은 점점 시대와 멀어지고 있었다.</div>
      </div>
    </section>

    <!-- PART 6 -->
    <section class="story-section" data-step="5" data-chapter="Part 6. 윤희와 희재의 갈등">
      <div class="story-card">
        <div class="chapter">Part 6 of 10</div>
        <h2>
          <span class="emoji">💔</span>
          윤희와 희재의 갈등
        </h2>
        <div class="story-text">희재는 근대적 가치관을 추구하는 윤희에게 점점 끌렸다. 하지만 두 사람 사이에도 갈등이 있었다. 윤희는 자유롭고 독립적이었지만, 희재는 여전히 전통적 가족 의무에서 벗어나지 못했기 때문이다.

"당신은 집안을 선택할 거예요, 아니면 자신의 삶을 선택할 거예요?" 윤희가 물었다. 희재는 대답하지 못했다. 윤희는 희재에게 더 큰 결단을 요구했지만, 희재는 쉽게 선택하지 못했다.

"나도 당신을 사랑해요. 하지만 집안을 완전히 버릴 수는 없어요." 희재의 말에 윤희는 실망했다. 두 사람의 관계는 점점 흔들리기 시작했다.

희재는 윤희에게서 '새로운 시대의 여성'을 보았고, 동시에 그녀를 통해 스스로의 연약함과 우유부단함을 깨달았다. 사랑하면서도 선택하지 못하는 자신이 한심했다. 두 사람의 갈등은 희재가 성장하기 위해 넘어야 할 중요한 분기점이었다.</div>
      </div>
    </section>

    <!-- PART 7 -->
    <section class="story-section" data-step="6" data-chapter="Part 7. 집안의 몰락이 가속화되는 사건들">
      <div class="story-card">
        <div class="chapter">Part 7 of 10</div>
        <h2>
          <span class="emoji">📜</span>
          집안의 몰락이 가속화되는 사건들
        </h2>
        <div class="story-text">어느 날부터 문제들이 한꺼번에 터지기 시작했다. 재산 문제, 사업 실패, 상속 다툼, 권위 붕괴까지. 조의관 집안은 총체적 위기에 빠졌다.

조덕기는 계속된 투자 실패로 큰 빚을 지게 되었다. 채권자들이 집 앞까지 찾아왔고, 가족들은 생계마저 위협받았다. "어떻게 이 지경이 됐어!" 아내의 비명 같은 외침이 집 안에 울려 퍼졌다.

조의관은 상황을 통제하지 못하고 점점 불안해졌다. 며느리들은 서로 눈치를 보며 책임을 떠넘겼다. "형님네가 먼저 돈 쓴 거잖아요!" "뭐라고? 우린 한 푼도 안 받았어!"

손자 희재는 집안이 왜 이렇게 흔들리는지 곰곰이 고민했다. 이들의 몰락은 단순한 경제적 문제가 아니었다. 조선 후기 전통 가문이 근대 사회에서 어떻게 해체되는지를 상징적으로 보여주는 비극이었다.</div>
      </div>
    </section>

    <!-- PART 8 -->
    <section class="story-section" data-step="7" data-chapter="Part 8. 조의관의 병과 가족의 균열">
      <div class="story-card">
        <div class="chapter">Part 8 of 10</div>
        <h2>
          <span class="emoji">🏥</span>
          조의관의 병과 가족의 균열
        </h2>
        <div class="story-text">그러던 어느 날, 가장 큰 사건이 터졌다. 조의관이 갑자기 쓰러진 것이다. 권위적으로 집안을 통솔하던 어른이 자리에 눕자, 가족들 사이의 균열은 완전히 벌어졌다.

"아버지가 돌아가시기 전에 재산 정리를 해야 해!" 조덕기와 며느리들은 재산 상속 문제로 날카롭게 대립했다. 아직 숨이 붙어 있는 어른 앞에서 유산 싸움을 벌이는 꼴이었다.

손자 희재는 가족의 추악한 모습을 보며 깊은 환멸을 느꼈다. '이게 가족인가? 피를 나눈 사람들이 돈 앞에서 이렇게 변하는 건가?'

조의관은 침대에 누워 모든 것을 지켜보았다. 자신이 평생 지켜온 권위와 명예가 한순간에 무너지는 것을 느끼며 고통스러워했다. 그의 병은 단순한 육체의 쇠약이 아니라 가족 몰락의 상징이었다. 가족 모두가 서로에게 실망하며 점점 멀어져 갔다.</div>
      </div>
    </section>

    <!-- PART 9 -->
    <section class="story-section" data-step="8" data-chapter="Part 9. 희재의 결심과 새로운 시선">
      <div class="story-card">
        <div class="chapter">Part 9 of 10</div>
        <h2>
          <span class="emoji">🌅</span>
          희재의 결심과 새로운 시선
        </h2>
        <div class="story-text">가족이 붕괴되는 모습을 지켜본 희재는 마침내 결심했다. 더 이상 과거와 타협할 수 없다는 것을. 할아버지처럼 과거에 집착하거나, 아버지처럼 어정쩡하게 살 수는 없었다.

그는 윤희를 떠올렸다. 그녀와 함께라면 새로운 삶을 시작할 수 있을 것 같았다. 전통적 가정의 틀 속에서 억눌리며 살 것인지, 근대적 개인으로서 새 길을 선택할 것인지. 희재는 갈림길에 섰다.

조의관 집안의 붕괴를 목격하며 그는 한 가지 결론을 얻었다. "과거를 붙잡는다고 미래가 열리지는 않는다. 나는 나의 삶을 살아야 해."

희재는 조의관과 조덕기, 두 세대의 한계를 인정했다. 전통에 집착해 시대에 뒤처진 할아버지. 변화를 원하면서도 제대로 나아가지 못한 아버지. 그들의 실수를 반복하지 않겠다고 다짐하며, 자신만의 삶을 향해 조심스레 한 걸음을 내딛었다.</div>
      </div>
    </section>

    <!-- PART 10 -->
    <section class="story-section" data-step="9" data-chapter="Part 10. 삼대의 몰락과 새로운 시대의 시작">
      <div class="story-card">
        <div class="chapter">Part 10 of 10</div>
        <h2>
          <span class="emoji">🌄</span>
          삼대의 몰락과 새로운 시대의 시작
        </h2>
        <div class="story-text">결국 조의관은 세상을 떠났다. 그의 죽음은 집안 몰락의 결정적 상징이었다. 장례가 끝나자 집안 사람들은 각자 흩어졌다. 조덕기도 더 이상 가장의 자리를 지킬 힘이 없었다.

'조의관가'라는 현판이 걸린 집은 결국 팔렸다. 전통적 가치가 무너지고, 한때 번성했던 가족의 체계도 완전히 해체되었다.

그러나 이 몰락 속에서 희재는 새로운 가능성을 보았다. 과거의 무거운 굴레가 사라진 자리에 새로운 시대의 빛이 서서히 비치고 있었다.

희재는 윤희를 찾아갔다. "나, 결심했어요. 과거에 얽매이지 않고 내 삶을 살겠어요." 윤희는 미소 지었다. 희재는 개인의 자유, 선택, 책임을 중심으로 한 새로운 삶을 살기로 결심했다.

이렇게 조의관 집안의 '삼대'는 몰락했다. 하지만 희재의 미래는 근대적 개인으로서 새롭게 열려가고 있었다. 끝이 새로운 시작이 되는 순간이었다.</div>
      </div>
    </section>

    <!-- 엔딩 섹션 -->
    <section class="intro-section">
      <div class="intro-content">
        <h1>🏛️ 삼대</h1>
        <p class="subtitle">
          염상섭 원작<br>
          끝.
        </p>
        <p class="scroll-hint">↑ 위로 스크롤하여 다시 읽기 ↑</p>
      </div>
    </section>
  </div>

  <script>
    // 배경 이미지 목록
    const backgrounds = [
      '/three/three01.jpg',
      '/three/three02.jpg',
      '/three/three03.jpg',
      '/three/three04.jpg',
      '/three/three05.jpg',
      '/three/three06.jpg',
      '/three/three07.jpg',
      '/three/three08.jpg',
      '/three/three09.jpg',
      '/three/three10.jpg'
    ];

    const mapContainer = document.getElementById('map-container');
    const progressBar = document.getElementById('progress-bar');
    const chapterIndicator = document.getElementById('chapter-indicator');
    const sections = document.querySelectorAll('.story-section');

    let currentStep = -1;

    // 스크롤 이벤트
    window.addEventListener('scroll', () => {
      const scrollTop = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = (scrollTop / docHeight) * 100;

      // 진행 바 업데이트
      progressBar.style.width = scrollPercent + '%';

      // 각 섹션 체크
      sections.forEach((section, index) => {
        const rect = section.getBoundingClientRect();
        const card = section.querySelector('.story-card');

        // 섹션이 화면에 보이면 카드 활성화
        if (rect.top < window.innerHeight * 0.7 && rect.bottom > 0) {
          card.classList.add('active');

          // 배경 이미지 변경
          if (currentStep !== index) {
            currentStep = index;
            mapContainer.style.backgroundImage = `url('${backgrounds[index]}')`;

            // 챕터 표시 업데이트
            const chapterName = section.dataset.chapter;
            chapterIndicator.textContent = '🏛️ ' + chapterName;
          }
        }
      });
    });

    // 맨위로 가기
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // 초기 배경 설정
    mapContainer.style.backgroundImage = `url('${backgrounds[0]}')`;
  </script>
</body>
</html>
