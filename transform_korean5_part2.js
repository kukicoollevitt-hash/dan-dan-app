const fs = require('fs');

// 변형할 파일 읽기
let content = fs.readFileSync('./public/mock_exam_korean5.html', 'utf8');

// 추가 표현 변형 맵 (문제 본문과 해설)
const transformMap = {
    // 7번 문제 관련
    '유의 관계': '동의 관계',
    '반의 관계': '대립 관계',
    '상하 관계': '상위-하위 관계',
    '담화 맥락': '발화 상황',

    // 8번 문제 관련 (중세 국어)
    '필수 성분': '필수적인 성분',
    '보조사': '보조 조사',
    '관형격 조사': '관형 조사',

    // 11~13번 (디지털 영화)
    '디지털 영화': '디지털 영상',
    '필름 영화': '아날로그 영화',
    '사실적으로 재현': '현실적으로 표현',
    '지각 가능한 형태': '인지 가능한 형태',

    // 14~17번 (접근제어)
    '접근제어행렬': '액세스 제어 행렬',
    '접근제어목록': '액세스 제어 목록',
    '정보 주체': '데이터 주체',
    '정보 객체': '데이터 객체',
    '보안등급': '보안 레벨',

    // 18~23번 (표현의 자유)
    '표현의 자유': '언론의 자유',
    '사전심의제도': '사전 심사 제도',
    '인격권': '인격적 권리',
    '명예훼손': '명예 침해',

    // 24~27번 (기회비용)
    '기회비용': '기회 비용',
    '매몰 비용': '침몰 비용',
    '합리적 선택': '합리적인 선택',
    '의사 결정': '의사결정',

    // 28~30번 (소리 요법)
    '소리 요법': '음향 치료',
    '백색 소음': '화이트 노이즈',
    '집중력': '집중 능력',

    // 31~45번 (고전소설)
    '홍 낭자': '홍 소저',
    '양 공자': '양 도령',
    '선비로 남장한': '선비 차림으로 남장한',
    '호기심을 갖게': '궁금증을 갖게',
    '본색을 알고자': '정체를 알고자',
    '마음을 떠보고': '속내를 떠보고',

    // 공통 표현
    '적절하지 않은': '적합하지 않은',
    '적절하다': '적합하다',
    '적절한 것': '적합한 것',
    '가장 적절한': '가장 적합한',
    '설명하고 있다': '서술하고 있다',
    '언급하고 있다': '거론하고 있다',
    '제시하고 있다': '나타내고 있다',
    '확인할 수 있다': '알 수 있다',
    '파악할 수 있다': '이해할 수 있다',
    '추론할 수 있다': '유추할 수 있다'
};

// 모든 변형 적용
let changeCount = 0;
for (const [original, replacement] of Object.entries(transformMap)) {
    const regex = new RegExp(original.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
    const matches = content.match(regex);
    if (matches) {
        changeCount += matches.length;
        content = content.replace(regex, replacement);
    }
}

// 파일 저장
fs.writeFileSync('./public/mock_exam_korean5.html', content, 'utf8');

console.log('추가 표현 변형 완료!');
console.log('변형된 표현 수:', changeCount);
